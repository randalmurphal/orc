id: TASK-167
title: 'Phase 1: Port API client to React'
description: |-
    ## Purpose
    Port the API client (api.ts) to React - mostly copy with minor adjustments.

    ## Implementation

    ### Copy and Adapt
    - Copy web/src/lib/api.ts to web-react/src/lib/api.ts
    - Copy web/src/lib/types.ts to web-react/src/lib/types.ts
    - Keep same function signatures and return types

    ### Changes Needed
    - Remove Svelte-specific imports if any
    - Ensure fetch wrapper works in React context
    - Add React Query integration hooks (optional)

    ### API Functions to Port (~50 functions)
    - Task CRUD: listTasks, getTask, createTask, updateTask, deleteTask
    - Task control: runTask, pauseTask, resumeTask, escalateTask
    - Task state: getTaskState, getTaskPlan, getTranscripts
    - Projects: listProjects, getProject
    - Initiatives: listInitiatives, getInitiative, createInitiative, etc.
    - GitHub: createPR, mergePR, getPRStatus, getPRChecks
    - Config: getConfig, updateConfig, getSettings, updateSettings
    - Finalize: getFinalize, startFinalize

    ## Success Criteria
    - All API functions work identically to Svelte version
    - TypeScript types match
    - Error handling preserved
weight: small
status: completed
current_phase: test
branch: orc/TASK-167
queue: active
priority: normal
category: feature
initiative_id: INIT-005
blocked_by:
    - TASK-163
testing_requirements:
    unit: true
created_at: 2026-01-14T02:20:50.655615834-06:00
updated_at: 2026-01-14T12:14:23.000621-06:00
started_at: 2026-01-14T12:07:35.933848-06:00
completed_at: 2026-01-14T12:14:18.146603-06:00
metadata:
    pr_url: https://github.com/randalmurphal/orc/pull/87
pr:
    url: https://github.com/randalmurphal/orc/pull/87
    number: 87
    status: pending_review
