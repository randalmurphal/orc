id: TASK-161
title: 'Phase 0: Expand E2E tests for Finalize workflow (10 tests)'
description: |-
    ## Purpose
    E2E tests for the finalize phase workflow - branch sync, CI verification, and merge.

    ## Test Coverage (10 tests)

    ### Finalize UI (5 tests)
    - should show finalize button on completed tasks in Done column
    - should open FinalizeModal when finalize button clicked
    - should display explanation and start button in modal
    - should show progress bar with step labels during finalization
    - should update task card to show finalizing state (pulsing border)

    ### Finalize Results (5 tests)
    - should show success state with merge info
    - should display merged commit SHA
    - should show target branch name
    - should handle finalize failure with retry option
    - should update task card to finished state with green merge badge

    ## Implementation Notes
    - Finalize involves real git operations - may need test branch setup
    - WebSocket events: finalize progress updates in real-time
    - Task states: completed -> finalizing -> finished

    ## Success Criteria
    - All 10 tests pass
    - Tests cover both success and failure paths
weight: medium
status: completed
current_phase: docs
branch: orc/TASK-161
queue: active
priority: normal
category: test
initiative_id: INIT-005
requires_ui_testing: true
testing_requirements:
    unit: true
created_at: 2026-01-14T02:19:09.679181722-06:00
updated_at: 2026-01-14T07:15:46.525674-06:00
started_at: 2026-01-14T06:57:36.49627-06:00
completed_at: 2026-01-14T07:15:46.525674-06:00
