id: TASK-216
title: E2E test validation for UI primitives and Radix integration
description: "## Overview\nRun full E2E test suite against React frontend and validate all UI primitives and Radix integrations work correctly.\n\n## Test Environment\n- Run tests against React frontend: http://localhost:5174\n- NOT the Svelte frontend (localhost:5173)\n\n## Test Suites to Run\n\n### Core Tests (Must Pass)\n| File | Tests | Coverage |\n|------|-------|----------|\n| board.spec.ts | 18 | Board rendering, drag-drop, swimlanes |\n| filters.spec.ts | 16 | Filter dropdowns, URL persistence |\n| keyboard-shortcuts.spec.ts | 13 | Global shortcuts, navigation |\n| task-detail.spec.ts | 15 | Tab navigation, content display |\n| initiatives.spec.ts | 20 | Initiative CRUD, task linking |\n| websocket.spec.ts | 17 | Real-time updates |\n| finalize.spec.ts | 10 | Finalize workflow states |\n| navigation.spec.ts | - | Routing, back button |\n| sidebar.spec.ts | - | Sidebar navigation |\n| dashboard.spec.ts | - | Dashboard stats, actions |\n\n### Total: 100+ tests must pass\n\n## New Keyboard Accessibility Tests to Add\n\n### Radix DropdownMenu Tests\n```typescript\ntest('quick menu keyboard navigation', async ({ page }) => {\n  // Open with Enter\n  await page.keyboard.press('Enter');\n  await expect(menu).toBeVisible();\n  \n  // Navigate with arrows\n  await page.keyboard.press('ArrowDown');\n  await expect(firstItem).toBeFocused();\n  \n  // Typeahead\n  await page.keyboard.type('c');\n  await expect(criticalItem).toBeFocused();\n  \n  // Select with Enter\n  await page.keyboard.press('Enter');\n  await expect(menu).not.toBeVisible();\n  \n  // Escape closes without selection\n  await page.keyboard.press('Escape');\n});\n```\n\n### Radix Dialog Tests\n```typescript\ntest('modal focus trap', async ({ page }) => {\n  // Tab cycles within modal\n  await page.keyboard.press('Tab');\n  await expect(elementInModal).toBeFocused();\n  \n  // Shift+Tab reverse cycles\n  await page.keyboard.press('Shift+Tab');\n  \n  // Escape closes\n  await page.keyboard.press('Escape');\n  await expect(modal).not.toBeVisible();\n  \n  // Focus returns to trigger\n  await expect(triggerButton).toBeFocused();\n});\n```\n\n### Radix Select Tests\n```typescript\ntest('filter dropdown keyboard nav', async ({ page }) => {\n  await page.keyboard.press('Enter'); // Open\n  await page.keyboard.press('ArrowDown');\n  await page.keyboard.press('ArrowDown');\n  await page.keyboard.press('Enter'); // Select\n  await expect(dropdown).not.toBeVisible();\n});\n```\n\n### Radix Tabs Tests\n```typescript\ntest('tab keyboard navigation', async ({ page }) => {\n  await page.keyboard.press('ArrowRight');\n  await expect(secondTab).toHaveAttribute('data-state', 'active');\n  \n  await page.keyboard.press('ArrowLeft');\n  await expect(firstTab).toHaveAttribute('data-state', 'active');\n});\n```\n\n## Global Shortcuts (Verify Still Working)\n- Shift+Alt+K: Opens command palette\n- Shift+Alt+N: Opens new task modal\n- Shift+Alt+B: Toggles sidebar\n- Shift+Alt+P: Opens project switcher\n- ?: Shows keyboard shortcuts help\n- g+d, g+t, g+e: Navigation sequences\n- j/k: Task list navigation\n- /: Focus search\n\n## Success Criteria\n- All 100+ existing E2E tests pass against React frontend\n- Zero selector changes required (tests are framework-agnostic)\n- All new keyboard accessibility tests pass\n- No console errors during test runs\n\n## Commands\n```bash\n# Start React dev server\ncd web-react && npm run dev\n\n# Run all E2E tests\ncd web && bunx playwright test\n\n# Run specific suite\nbunx playwright test board.spec.ts\n\n# Debug with UI\nbunx playwright test --ui\n```"
weight: medium
status: planned
branch: orc/TASK-216
queue: active
priority: high
category: test
initiative_id: INIT-009
blocked_by:
    - TASK-207
    - TASK-208
    - TASK-209
    - TASK-211
    - TASK-212
    - TASK-213
    - TASK-214
testing_requirements:
    unit: true
created_at: 2026-01-14T23:05:39.449700808-06:00
updated_at: 2026-01-14T23:23:18.717625086-06:00
