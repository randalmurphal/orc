version: 1
task_id: ""
weight: large
description: Large task - spec, implement, test, validate with E2E testing
phases:
    - id: validate
      name: validate
      prompt: |
        Final validation for:

        **Task**: {{TASK_TITLE}}

        **Description**: {{TASK_DESCRIPTION}}

        ## Validation Checklist

        ### Code
        - [ ] All requirements from spec are met
        - [ ] Unit tests pass: `go test ./... -v -race`
        - [ ] Test coverage > 80%
        - [ ] No race conditions
        - [ ] Code quality acceptable (no debug statements, TODOs)

        ### Integration
        - [ ] Components work together
        - [ ] Error handling is complete
        - [ ] Performance is acceptable

        ### E2E (If frontend - MUST RUN with Playwright MCP)
        - [ ] Main user flows work
        - [ ] Error states handled
        - [ ] UI updates correctly

        ### Documentation
        - [ ] Code is documented where needed
        - [ ] CLAUDE.md updated if necessary
        - [ ] API documented if applicable

        ## Final Verification

        If frontend exists, run E2E verification:
        1. Start all servers
        2. Use Playwright MCP tools to test all features
        3. Verify everything works end-to-end

        Keep iterating until validation passes.

        When done, output:
        <phase_complete>true</phase_complete>
      depends_on:
        - docs
      gate:
        type: auto
      checkpoint: true
      status: completed
      commit_sha: c9040798c2a84cc0646e5d23fedfb3960010f158
