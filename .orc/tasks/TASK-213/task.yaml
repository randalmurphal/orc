id: TASK-213
title: Replace filter dropdowns with Radix Select
description: "## Overview\nReplace custom filter dropdowns with Radix Select for proper accessibility.\n\n## Dropdowns to Migrate\n\n### 1. InitiativeDropdown\nLocation: web-react/src/components/board/InitiativeDropdown.tsx\nCurrent classes: .initiative-dropdown, .dropdown-trigger, .dropdown-menu, .dropdown-item\n\n### 2. ViewModeDropdown\nLocation: web-react/src/components/board/ViewModeDropdown.tsx\nCurrent classes: .view-mode-dropdown, .dropdown-trigger, .dropdown-menu, .dropdown-item\n\n### 3. DependencyDropdown\nLocation: web-react/src/components/filters/DependencyDropdown.tsx\nCurrent classes: .dependency-dropdown, .dropdown-trigger, .dropdown-menu, .dropdown-item\n\n### 4. ExportDropdown\nLocation: web-react/src/components/task-detail/ExportDropdown.tsx\nCurrent classes: .export-dropdown, .dropdown-trigger, .dropdown-menu, .dropdown-item\n\n## Radix Select Mapping\n\n### Component Mapping\n| Current | Radix | Notes |\n|---------|-------|-------|\n| Trigger button | Select.Trigger | Contains Select.Value |\n| Menu container | Select.Content | Portal + positioning |\n| Menu item | Select.Item | Contains Select.ItemText |\n| Separator | Select.Separator | Between groups |\n| Group | Select.Group | With Select.Label |\n\n### Animation\n```css\n.dropdown-menu[data-state='open'] {\n  animation: select-enter var(--duration-fast) var(--ease-out);\n}\n\n@keyframes select-enter {\n  from { opacity: 0; transform: translateY(-4px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n```\n\n## Implementation Pattern\n```tsx\n<Select.Root value={value} onValueChange={onChange}>\n  <Select.Trigger className=\"dropdown-trigger\">\n    <Select.Value placeholder=\"Select...\" />\n    <Select.Icon>\n      <Icon name=\"chevron-down\" />\n    </Select.Icon>\n  </Select.Trigger>\n  \n  <Select.Portal>\n    <Select.Content className=\"dropdown-menu\" position=\"popper\" sideOffset={4}>\n      <Select.Viewport>\n        <Select.Item value=\"all\" className=\"dropdown-item\">\n          <Select.ItemText>All initiatives</Select.ItemText>\n        </Select.Item>\n        <Select.Item value=\"unassigned\" className=\"dropdown-item\">\n          <Select.ItemText>Unassigned</Select.ItemText>\n        </Select.Item>\n        <Select.Separator className=\"dropdown-divider\" />\n        {initiatives.map(init => (\n          <Select.Item key={init.id} value={init.id} className=\"dropdown-item\">\n            <Select.ItemText>{init.title} ({init.taskCount})</Select.ItemText>\n          </Select.Item>\n        ))}\n      </Select.Viewport>\n    </Select.Content>\n  </Select.Portal>\n</Select.Root>\n```\n\n## Controlled Mode\nAll dropdowns must use controlled mode with value from store:\n- InitiativeDropdown: value from currentInitiativeId store\n- ViewModeDropdown: value from viewMode localStorage\n- DependencyDropdown: value from dependencyFilter store\n- ExportDropdown: no selection state (action menu)\n\nNote: ExportDropdown is an action menu, not a select. Consider using DropdownMenu instead of Select.\n\n## Accessibility Improvements\nRadix provides:\n- Arrow key navigation through options\n- Home/End jumps to first/last\n- Typeahead search\n- Escape closes without change\n- aria-selected on current option\n\n## Success Criteria\n- All 4 dropdowns are keyboard accessible\n- Typeahead works (type to filter)\n- Visual appearance unchanged\n- Store integration works correctly\n\n## Test Criteria\n\n### Keyboard Accessibility Tests per Dropdown\n- Arrow down opens and focuses first option\n- Arrow up/down navigates options\n- Enter selects and closes\n- Escape closes without selection\n- Typeahead: typing jumps to matching option\n- Home/End navigation\n\n### E2E Tests\n- bunx playwright test filters.spec.ts passes\n- Initiative filter works\n- Dependency filter works"
weight: medium
status: planned
branch: orc/TASK-213
queue: active
priority: normal
category: refactor
initiative_id: INIT-009
blocked_by:
    - TASK-212
requires_ui_testing: true
testing_requirements:
    unit: true
    visual: true
created_at: 2026-01-14T23:05:17.258468132-06:00
updated_at: 2026-01-14T23:21:53.318921592-06:00
