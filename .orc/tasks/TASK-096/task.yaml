id: TASK-096
title: Auto-merge append-only sections in CLAUDE.md during parallel task completion
description: |-
    ## Problem
    When running multiple tasks in parallel, they often conflict on CLAUDE.md's knowledge table. These conflicts are predictable - both tasks add new rows to the same table. Manual resolution is tedious and always follows the same pattern: keep both entries.

    ## Success Criteria
    1. Detect when merge conflict is in an append-only section (knowledge table, patterns table)
    2. Auto-resolve by keeping both additions in chronological order
    3. Only auto-resolve for clearly append-only conflicts (not overlapping edits)
    4. Log when auto-resolution is applied
    5. Fall back to manual resolution for complex conflicts

    ## Implementation
    - Add conflict detection in git sync logic (internal/git/)
    - Parse CLAUDE.md to identify table sections
    - If conflict is purely additive (both sides add rows), combine them
    - Use marker comments (<!-- orc:knowledge:begin -->) to identify sections

    ## Edge Cases
    - Conflicting edits to same row → manual resolution
    - Conflicts outside marked sections → manual resolution
    - Malformed tables → manual resolution
weight: medium
status: running
current_phase: docs
branch: orc/TASK-096
queue: active
priority: normal
category: feature
requires_ui_testing: true
testing_requirements:
    unit: true
created_at: 2026-01-14T00:10:28.61210049-06:00
updated_at: 2026-01-14T02:08:32.406526039-06:00
started_at: 2026-01-14T02:08:31.929263584-06:00
