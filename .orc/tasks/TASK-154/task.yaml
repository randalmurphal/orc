id: TASK-154
title: 'Phase 0: Expand E2E tests for Board interactions (18 tests)'
description: |-
    ## Purpose
    Comprehensive E2E tests for Board page that define BEHAVIOR (framework-agnostic) so they work on both Svelte and React during migration.

    ## Test Coverage (18 tests)

    ### Board Rendering (4 tests)
    - should display board page with all 6 columns (Queued, Spec, Implement, Test, Review, Done)
    - should show correct column headers and task counts
    - should render task cards in correct columns based on status/phase
    - should show task count in header

    ### View Mode Toggle (5 tests)
    - should default to flat view mode
    - should switch to swimlane view when selected
    - should persist view mode in localStorage
    - should disable swimlane toggle when initiative filter active
    - should show initiative banner when filtering

    ### Drag-Drop (5 tests) - CRITICAL
    - should move task between columns (triggers status change API)
    - should reorder tasks within column (priority change)
    - should show visual feedback during drag
    - should update task status after drop completes
    - should handle drop cancellation (escape key)

    ### Swimlane View (4 tests)
    - should group tasks by initiative in swimlane view
    - should collapse/expand swimlanes
    - should persist collapsed state in localStorage
    - should show Unassigned swimlane for tasks without initiative

    ## Implementation Notes
    - Use behavior-based selectors: page.getByRole(), page.getByTestId()
    - Avoid implementation-specific selectors like .svelte-xyz
    - All tests must pass on BOTH Svelte and React implementations
    - See screenshots in .orc/initiatives/INIT-005/ for reference

    ## Success Criteria
    - All 18 tests pass on current Svelte implementation
    - Tests are deterministic (no flaky tests)
    - Tests use framework-agnostic selectors
weight: large
status: completed
branch: orc/TASK-154
queue: active
priority: normal
category: test
initiative_id: INIT-005
requires_ui_testing: true
testing_requirements:
    unit: true
    visual: true
created_at: 2026-01-14T02:17:34.940597573-06:00
updated_at: 2026-01-14T22:07:06.769498934-06:00
