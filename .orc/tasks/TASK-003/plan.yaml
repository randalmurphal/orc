version: 1
task_id: TASK-003
weight: medium
description: Medium task - implement with review, fully automated
phases:
    - id: implement
      name: implement
      prompt: |
        Implement the following feature/task:

        Task: {{TASK_TITLE}}

        {{RETRY_CONTEXT}}

        1. Plan your implementation approach
        2. Implement the required changes
        3. Write/update tests alongside code
        4. Run tests and fix any failures

        Keep iterating until implementation is complete and tests pass.

        When done, output:
        <phase_complete>true</phase_complete>
      gate:
        type: auto
      checkpoint: true
      status: pending
    - id: test
      name: test
      prompt: |
        Test and review the implementation:

        Task: {{TASK_TITLE}}

        1. Run the full test suite
        2. Review code for quality issues
        3. Check for edge cases and security issues
        4. Fix any problems found

        Keep iterating until all tests pass and code quality is acceptable.

        When done, output:
        <phase_complete>true</phase_complete>
      depends_on:
        - implement
      gate:
        type: auto
      checkpoint: true
      status: pending
