version: 2
exported_at: 2026-01-17T08:29:46.024539-06:00
task:
    id: TASK-256
    title: Add mobile responsive design with hamburger menu
    description: |-
        ## Problem
        The web UI has no mobile responsive design:
        - Sidebar navigation doesn't collapse on mobile viewports
        - No hamburger menu button
        - Full sidebar with all initiative links visible at 375px width
        - Content area gets squished

        ## Affected Areas
        - Sidebar component (components/layout/Sidebar.tsx)
        - AppLayout component
        - Header component

        ## Requirements
        1. Add hamburger menu icon in header for mobile
        2. Sidebar should be hidden by default on mobile (<768px)
        3. Clicking hamburger shows sidebar as overlay/drawer
        4. Sidebar should close when clicking outside or selecting a link
        5. Ensure all pages are usable at mobile sizes (375px+)

        ## Technical Notes
        - Check current CSS for sidebar (sidebar-expanded/sidebar-collapsed classes)
        - May need media queries in index.css
        - Consider using CSS variables for breakpoints
        - Test at: 375px (iPhone), 414px (iPhone Plus), 768px (tablet)
    weight: medium
    status: completed
    current_phase: docs
    branch: orc/TASK-256
    queue: active
    priority: high
    category: feature
    initiative_id: INIT-013
    created_at: 2026-01-15T23:16:40-06:00
    updated_at: 0001-01-01T00:00:00Z
    started_at: 2026-01-16T07:55:24-06:00
    completed_at: 2026-01-16T08:32:05-06:00
plan:
    version: 1
    task_id: TASK-256
    weight: medium
    description: Medium task - spec, implement, test, docs with clear success criteria
    phases:
        - id: implement
          name: implement
          prompt: |
            Implement the task according to the specification:

            **Task**: {{TASK_TITLE}}
            **Category**: {{TASK_CATEGORY}}

            {{INITIATIVE_CONTEXT}}

            ## Specification

            {{SPEC_CONTENT}}

            {{RETRY_CONTEXT}}

            ## Instructions

            1. Review the spec's success criteria - these are your acceptance criteria
            2. Implement the required changes following the technical approach
            3. Write/update tests alongside code (as specified in Testing Requirements)
            4. Run tests and fix any failures
            5. Self-review against success criteria before completing

            ### Self-Review Checklist
            - [ ] All success criteria from spec addressed
            - [ ] All testing requirements satisfied
            - [ ] Scope boundaries respected (no extra features)
            - [ ] Error handling complete
            - [ ] Code follows project patterns

            Keep iterating until implementation is complete and tests pass.

            After completing, commit:
            ```bash
            git add -A
            git commit -m "[orc] {{TASK_ID}}: implement - completed"
            ```

            When done, output:
            ```
            **Commit**: [SHA]
            <phase_complete>true</phase_complete>
            ```
          depends_on:
            - spec
          gate:
            type: auto
          checkpoint: true
          status: completed
          commit_sha: 37a04e099872345f0ca7b08f98e59791ad08b65e
        - id: test
          name: test
          prompt: |
            Test and review the implementation:

            **Task**: {{TASK_TITLE}}
            **Category**: {{TASK_CATEGORY}}

            ## Specification

            {{SPEC_CONTENT}}

            ## Instructions

            1. Run the full test suite
            2. Verify all Testing Requirements from spec are satisfied
            3. Review code for quality issues
            4. Check for edge cases and security issues
            5. Fix any problems found

            ### Verification Against Spec
            Go through each Success Criterion and Testing Requirement from the spec
            and verify it's satisfied.

            Keep iterating until all tests pass and code quality is acceptable.

            After completing, commit:
            ```bash
            git add -A
            git commit -m "[orc] {{TASK_ID}}: test - completed"
            ```

            When done, output:
            ```
            **Commit**: [SHA]
            <phase_complete>true</phase_complete>
            ```
          depends_on:
            - implement
          gate:
            type: auto
          checkpoint: true
          status: completed
          commit_sha: f07e1ccf46dc6fdc20dc53ae8edcf92e8e3d8e30
        - id: docs
          name: docs
          prompt: |
            Update documentation for:

            **Task**: {{TASK_TITLE}}
            **Category**: {{TASK_CATEGORY}}

            ## Specification

            {{SPEC_CONTENT}}

            ## Instructions

            1. Update any relevant documentation files
            2. Ensure CLAUDE.md reflects the changes if applicable
            3. Add/update code comments where needed
            4. Update README if user-facing changes were made

            Keep iterating until documentation is complete.

            After completing, commit:
            ```bash
            git add -A
            git commit -m "[orc] {{TASK_ID}}: docs - completed"
            ```

            When done, output:
            ```
            **Commit**: [SHA]
            <phase_complete>true</phase_complete>
            ```
          depends_on:
            - test
          gate:
            type: auto
          checkpoint: true
          status: completed
          commit_sha: 49737168b2df06adf13397b14712591f2e60392c
spec: |-
    # Specification: Add mobile responsive design with hamburger menu

    ## Problem Statement

    The web UI lacks mobile responsive design. On viewports below 768px, the sidebar remains visible and fixed, content gets squished, and there's no way to toggle navigation visibility on mobile devices.

    ## Success Criteria

    - [ ] Sidebar is hidden by default on viewports < 768px (mobile breakpoint)
    - [ ] Hamburger menu button appears in header on mobile viewports
    - [ ] Clicking hamburger button opens sidebar as an overlay/drawer
    - [ ] Sidebar closes when clicking outside (on the backdrop overlay)
    - [ ] Sidebar closes when selecting a navigation link
    - [ ] Content area uses full width on mobile (no margin for hidden sidebar)
    - [ ] All pages are usable at 375px viewport width (iPhone SE)
    - [ ] All pages are usable at 414px viewport width (iPhone Plus)
    - [ ] Transition between mobile and desktop is smooth (no jarring layout shifts)
    - [ ] Existing desktop behavior preserved (sidebar expand/collapse still works on desktop)

    ## Testing Requirements

    - [ ] Unit test: `uiStore.test.ts` - test `mobileMenuOpen` state toggle, test `closeMobileMenu()` action
    - [ ] E2E test: `mobile-responsive.spec.ts` - test hamburger button visibility at 375px viewport
    - [ ] E2E test: Verify sidebar opens/closes via hamburger button click
    - [ ] E2E test: Verify sidebar closes on backdrop click
    - [ ] E2E test: Verify sidebar closes on navigation link click
    - [ ] E2E test: Test at 768px breakpoint transition (sidebar visible, no hamburger)
    - [ ] Manual test: Verify all pages render correctly at 375px, 414px, 768px widths

    ## Scope

    ### In Scope
    - Mobile responsive CSS for sidebar, header, and app layout
    - Hamburger menu button in header (mobile only)
    - Mobile menu open/close state in UI store
    - Backdrop overlay when mobile sidebar is open
    - CSS breakpoint variables for consistent responsive design
    - Sidebar closing behavior (backdrop click, link selection)
    - Menu icon addition to Icon component

    ### Out of Scope
    - Touch gestures (swipe to open/close)
    - PWA features
    - Bottom navigation bar
    - Tablet-specific layouts (beyond 768px breakpoint)
    - Responsive adjustments to page content (task cards, board columns, etc.)

    ## Technical Approach

    ### State Management
    Add mobile menu state to `uiStore.ts`:
    - `mobileMenuOpen: boolean` - tracks if mobile sidebar is visible
    - `openMobileMenu()` / `closeMobileMenu()` / `toggleMobileMenu()` - actions
    - Mobile menu state should NOT persist to localStorage (always starts closed)

    ### Breakpoint Strategy
    ```css
    :root {
      --breakpoint-mobile: 768px;
    }
    @media (max-width: 767px) { /* mobile */ }
    @media (min-width: 768px) { /* desktop */ }
    ```

    ### Files to Modify
    | File | Changes |
    |------|---------|
    | `web/src/styles/tokens.css` | Add `--breakpoint-mobile: 768px` |
    | `web/src/stores/uiStore.ts` | Add `mobileMenuOpen` state and actions |
    | `web/src/stores/uiStore.test.ts` | Add tests for mobile menu state |
    | `web/src/components/ui/Icon.tsx` | Add `menu` icon (hamburger) |
    | `web/src/components/layout/AppLayout.tsx` | Add backdrop overlay, wire up mobile state |
    | `web/src/components/layout/AppLayout.css` | Mobile layout styles, backdrop |
    | `web/src/components/layout/Header.tsx` | Add hamburger menu button |
    | `web/src/components/layout/Header.css` | Hamburger button styles, mobile adjustments |
    | `web/src/components/layout/Sidebar.tsx` | Accept `onClose` prop, close on nav click |
    | `web/src/components/layout/Sidebar.css` | Mobile overlay styles, transitions |
    | `web/e2e/mobile-responsive.spec.ts` | New E2E test file |

    ## Feature: User Story & Acceptance Criteria

    ### User Story
    As a mobile user, I want to access the navigation sidebar via a hamburger menu so that I can navigate the application on my phone without the sidebar taking up screen space.

    ### Acceptance Criteria
    1. Mobile load: sidebar hidden, hamburger visible
    2. Tap hamburger: sidebar slides in with backdrop
    3. Tap backdrop: sidebar closes
    4. Tap nav link: navigate AND sidebar closes
    5. Desktop (≥768px): normal sidebar behavior, no hamburger
state:
    task_id: TASK-256
    current_phase: docs
    current_iteration: 0
    status: completed
    started_at: 2026-01-16T07:55:24-06:00
    updated_at: 0001-01-01T00:00:00Z
    phases:
        docs:
            status: completed
            started_at: 2026-01-16T08:30:07-06:00
            completed_at: 2026-01-16T08:32:05-06:00
            iterations: 1
            commit_sha: 49737168b2df06adf13397b14712591f2e60392c
            tokens:
                input_tokens: 2142928
                output_tokens: 4107
                total_tokens: 0
        implement:
            status: completed
            started_at: 2026-01-16T07:55:25-06:00
            completed_at: 2026-01-16T08:01:20-06:00
            iterations: 1
            commit_sha: 37a04e099872345f0ca7b08f98e59791ad08b65e
            tokens:
                input_tokens: 5757715
                output_tokens: 17019
                total_tokens: 0
        spec:
            status: completed
            started_at: 2026-01-16T04:54:51-06:00
            completed_at: 2026-01-16T04:56:31-06:00
            iterations: 1
            commit_sha: f80f2f189b2a73385fb540de98eb2c4a3f545d0c
            tokens:
                input_tokens: 892772
                output_tokens: 6084
                total_tokens: 0
        test:
            status: completed
            started_at: 2026-01-16T08:01:20-06:00
            completed_at: 2026-01-16T08:30:07-06:00
            iterations: 2
            commit_sha: f07e1ccf46dc6fdc20dc53ae8edcf92e8e3d8e30
            tokens:
                input_tokens: 17672781
                output_tokens: 43331
                total_tokens: 0
    gates:
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: spec
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T04:56:31-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: implement
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:01:20-06:00
        - phase: test
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:30:07-06:00
        - phase: test
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:30:07-06:00
        - phase: test
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:30:07-06:00
        - phase: test
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:30:07-06:00
        - phase: test
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:30:07-06:00
        - phase: test
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:30:07-06:00
        - phase: docs
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:32:05-06:00
        - phase: docs
          gate_type: auto
          approved: true
          reason: auto-approved on success
          timestamp: 2026-01-16T08:32:05-06:00
    tokens:
        input_tokens: 0
        output_tokens: 0
        total_tokens: 0
    cost:
        total_cost_usd: 0
transcripts:
    - id: 218
      taskid: TASK-256
      phase: docs
      iteration: 1
      role: combined
      content: |
        # docs - Iteration 1

        ## Prompt

        Update documentation for:

        **Task**: Add mobile responsive design with hamburger menu
        **Category**: feature

        ## Specification

        # Specification: Add mobile responsive design with hamburger menu

        ## Problem Statement
        [1-2 sentences]

        ## Success Criteria
        - [ ] [Criterion 1]
        - [ ] [Criterion 2]

        ## Testing Requirements
        - [ ] [Test 1]
        - [ ] [Test 2]

        ## Scope
        ### In Scope
        - [Item]
        ### Out of Scope
        - [Item]

        ## Technical Approach
        [Brief implementation plan]

        ### Files to Modify
        - [file]: [change]

        ## [Category-Specific Section]
        [Include appropriate section based on category]

        ## Instructions

        1. Update any relevant documentation files
        2. Ensure CLAUDE.md reflects the changes if applicable
        3. Add/update code comments where needed
        4. Update README if user-facing changes were made

        Keep iterating until documentation is complete.

        After completing, commit:
        ```bash
        git add -A
        git commit -m "[orc] TASK-256: docs - completed"
        ```

        When done, output:
        ```
        **Commit**: [SHA]
        <phase_complete>true</phase_complete>
        ```


        ## Response

        **Commit**: 3cd8487a

        <phase_complete>true</phase_complete>

        ---
        Tokens: 2142928 input, 4107 output, 109405 cache_creation, 2033500 cache_read
        Complete: true
        Blocked: false
      timestamp: 1768628597
    - id: 219
      taskid: TASK-256
      phase: implement
      iteration: 1
      role: combined
      content: |
        # implement - Iteration 1

        ## Prompt

        Implement the task according to the specification:

        **Task**: Add mobile responsive design with hamburger menu
        **Category**: feature

        ## Initiative Context

        This task is part of **Frontend Polish & UX Audit** (INIT-013).

        ### Vision

        Comprehensive audit and enhancement of the web UI: ensure all backend features are accessible, fix visual/functional issues, improve UX patterns, ensure responsive design, and modernize presentation following frontend-design standards.

        **Alignment**: Ensure your work aligns with the initiative vision and respects prior decisions.


        ## Specification

        # Specification: Add mobile responsive design with hamburger menu

        ## Problem Statement
        [1-2 sentences]

        ## Success Criteria
        - [ ] [Criterion 1]
        - [ ] [Criterion 2]

        ## Testing Requirements
        - [ ] [Test 1]
        - [ ] [Test 2]

        ## Scope
        ### In Scope
        - [Item]
        ### Out of Scope
        - [Item]

        ## Technical Approach
        [Brief implementation plan]

        ### Files to Modify
        - [file]: [change]

        ## [Category-Specific Section]
        [Include appropriate section based on category]



        ## Instructions

        1. Review the spec's success criteria - these are your acceptance criteria
        2. Implement the required changes following the technical approach
        3. Write/update tests alongside code (as specified in Testing Requirements)
        4. Run tests and fix any failures
        5. Self-review against success criteria before completing

        ### Self-Review Checklist
        - [ ] All success criteria from spec addressed
        - [ ] All testing requirements satisfied
        - [ ] Scope boundaries respected (no extra features)
        - [ ] Error handling complete
        - [ ] Code follows project patterns

        Keep iterating until implementation is complete and tests pass.

        After completing, commit:
        ```bash
        git add -A
        git commit -m "[orc] TASK-256: implement - completed"
        ```

        When done, output:
        ```
        **Commit**: [SHA]
        <phase_complete>true</phase_complete>
        ```


        ## Response

        **Commit**: d19a2793

        <phase_complete>true</phase_complete>

        ---
        Tokens: 5757715 input, 17019 output, 146598 cache_creation, 5604915 cache_read
        Complete: true
        Blocked: false
      timestamp: 1768628597
    - id: 220
      taskid: TASK-256
      phase: spec
      iteration: 1
      role: combined
      content: |
        # spec - Iteration 1

        ## Prompt

        Create a specification for this task:

        **Task**: Add mobile responsive design with hamburger menu
        **Category**: feature
        **Description**: ## Problem
        The web UI has no mobile responsive design:
        - Sidebar navigation doesn't collapse on mobile viewports
        - No hamburger menu button
        - Full sidebar with all initiative links visible at 375px width
        - Content area gets squished

        ## Affected Areas
        - Sidebar component (components/layout/Sidebar.tsx)
        - AppLayout component
        - Header component

        ## Requirements
        1. Add hamburger menu icon in header for mobile
        2. Sidebar should be hidden by default on mobile (<768px)
        3. Clicking hamburger shows sidebar as overlay/drawer
        4. Sidebar should close when clicking outside or selecting a link
        5. Ensure all pages are usable at mobile sizes (375px+)

        ## Technical Notes
        - Check current CSS for sidebar (sidebar-expanded/sidebar-collapsed classes)
        - May need media queries in index.css
        - Consider using CSS variables for breakpoints
        - Test at: 375px (iPhone), 414px (iPhone Plus), 768px (tablet)

        ## Initiative Context

        This task is part of **Frontend Polish & UX Audit** (INIT-013).

        ### Vision

        Comprehensive audit and enhancement of the web UI: ensure all backend features are accessible, fix visual/functional issues, improve UX patterns, ensure responsive design, and modernize presentation following frontend-design standards.

        **Alignment**: Ensure your work aligns with the initiative vision and respects prior decisions.


        ## Instructions

        Create a clear, actionable specification that defines exactly what needs to be done
        and how to verify it's complete.

        ### 1. Problem Statement
        Summarize what needs to be solved in 1-2 sentences.

        ### 2. Success Criteria (REQUIRED)
        Define specific, testable criteria as checkboxes:
        - Each criterion must be verifiable (file exists, test passes, API returns X)
        - No vague language ("works well", "is fast")
        - Include both functional and quality criteria

        ### 3. Testing Requirements (REQUIRED)
        Specify what tests must pass:
        - [ ] Unit test: [specific test description]
        - [ ] Integration test: [if applicable]
        - [ ] E2E test: [if UI changes]

        ### 4. Scope
        Define boundaries to prevent scope creep:
        - **In Scope**: What will be implemented
        - **Out of Scope**: What will NOT be implemented

        ### 5. Technical Approach
        Brief plan for implementation:
        - Files to modify
        - Key changes in each file

        ### 6. Category-Specific Analysis

        **If this is a BUG (category=bug):**
        - Reproduction Steps: Exact steps to trigger the bug
        - Current Behavior: What happens now (the bug)
        - Expected Behavior: What should happen
        - Root Cause: Where the bug originates (if known)
        - Verification: How to confirm the fix works

        **If this is a FEATURE (category=feature):**
        - User Story: As a [user], I want [feature] so that [benefit]
        - Acceptance Criteria: Specific conditions for feature acceptance

        **If this is a REFACTOR (category=refactor):**
        - Before Pattern: Current code/architecture
        - After Pattern: Target code/architecture
        - Risk Assessment: What could break

        ## Output Format

        Wrap your spec in artifact tags:

        <artifact>
        # Specification: Add mobile responsive design with hamburger menu

        ## Problem Statement
        [1-2 sentences]

        ## Success Criteria
        - [ ] [Criterion 1]
        - [ ] [Criterion 2]

        ## Testing Requirements
        - [ ] [Test 1]
        - [ ] [Test 2]

        ## Scope
        ### In Scope
        - [Item]
        ### Out of Scope
        - [Item]

        ## Technical Approach
        [Brief implementation plan]

        ### Files to Modify
        - [file]: [change]

        ## [Category-Specific Section]
        [Include appropriate section based on category]
        </artifact>

        After completing the spec, commit:
        ```bash
        git add -A
        git commit -m "[orc] TASK-256: spec - completed"
        ```

        Then output:
        ```
        **Commit**: [SHA]
        <phase_complete>true</phase_complete>
        ```

        If blocked (requirements unclear):
        ```
        <phase_blocked>
        reason: [what's unclear]
        needs: [what clarification is needed]
        </phase_blocked>
        ```


        ## Response

        <artifact>
        # Specification: Add mobile responsive design with hamburger menu

        ## Problem Statement

        The web UI lacks mobile responsive design. On viewports below 768px, the sidebar remains visible and fixed, content gets squished, and there's no way to toggle navigation visibility on mobile devices.

        ## Success Criteria

        - [ ] Sidebar is hidden by default on viewports < 768px (mobile breakpoint)
        - [ ] Hamburger menu button appears in header on mobile viewports
        - [ ] Clicking hamburger button opens sidebar as an overlay/drawer
        - [ ] Sidebar closes when clicking outside (on the backdrop overlay)
        - [ ] Sidebar closes when selecting a navigation link
        - [ ] Content area uses full width on mobile (no margin for hidden sidebar)
        - [ ] All pages are usable at 375px viewport width (iPhone SE)
        - [ ] All pages are usable at 414px viewport width (iPhone Plus)
        - [ ] Transition between mobile and desktop is smooth (no jarring layout shifts)
        - [ ] Existing desktop behavior preserved (sidebar expand/collapse still works on desktop)

        ## Testing Requirements

        - [ ] Unit test: `uiStore.test.ts` - test `mobileMenuOpen` state toggle, test `closeMobileMenu()` action
        - [ ] E2E test: `mobile-responsive.spec.ts` - test hamburger button visibility at 375px viewport
        - [ ] E2E test: Verify sidebar opens/closes via hamburger button click
        - [ ] E2E test: Verify sidebar closes on backdrop click
        - [ ] E2E test: Verify sidebar closes on navigation link click
        - [ ] E2E test: Test at 768px breakpoint transition (sidebar visible, no hamburger)
        - [ ] Manual test: Verify all pages render correctly at 375px, 414px, 768px widths

        ## Scope

        ### In Scope
        - Mobile responsive CSS for sidebar, header, and app layout
        - Hamburger menu button in header (mobile only)
        - Mobile menu open/close state in UI store
        - Backdrop overlay when mobile sidebar is open
        - CSS breakpoint variables for consistent responsive design
        - Sidebar closing behavior (backdrop click, link selection)
        - Menu icon addition to Icon component

        ### Out of Scope
        - Touch gestures (swipe to open/close)
        - PWA features
        - Bottom navigation bar
        - Tablet-specific layouts (beyond 768px breakpoint)
        - Responsive adjustments to page content (task cards, board columns, etc.)

        ## Technical Approach

        ### State Management
        Add mobile menu state to `uiStore.ts`:
        - `mobileMenuOpen: boolean` - tracks if mobile sidebar is visible
        - `openMobileMenu()` / `closeMobileMenu()` / `toggleMobileMenu()` - actions
        - Mobile menu state should NOT persist to localStorage (always starts closed)

        ### Breakpoint Strategy
        ```css
        :root {
          --breakpoint-mobile: 768px;
        }
        @media (max-width: 767px) { /* mobile */ }
        @media (min-width: 768px) { /* desktop */ }
        ```

        ### Files to Modify
        | File | Changes |
        |------|---------|
        | `web/src/styles/tokens.css` | Add `--breakpoint-mobile: 768px` |
        | `web/src/stores/uiStore.ts` | Add `mobileMenuOpen` state and actions |
        | `web/src/stores/uiStore.test.ts` | Add tests for mobile menu state |
        | `web/src/components/ui/Icon.tsx` | Add `menu` icon (hamburger) |
        | `web/src/components/layout/AppLayout.tsx` | Add backdrop overlay, wire up mobile state |
        | `web/src/components/layout/AppLayout.css` | Mobile layout styles, backdrop |
        | `web/src/components/layout/Header.tsx` | Add hamburger menu button |
        | `web/src/components/layout/Header.css` | Hamburger button styles, mobile adjustments |
        | `web/src/components/layout/Sidebar.tsx` | Accept `onClose` prop, close on nav click |
        | `web/src/components/layout/Sidebar.css` | Mobile overlay styles, transitions |
        | `web/e2e/mobile-responsive.spec.ts` | New E2E test file |

        ## Feature: User Story & Acceptance Criteria

        ### User Story
        As a mobile user, I want to access the navigation sidebar via a hamburger menu so that I can navigate the application on my phone without the sidebar taking up screen space.

        ### Acceptance Criteria
        1. Mobile load: sidebar hidden, hamburger visible
        2. Tap hamburger: sidebar slides in with backdrop
        3. Tap backdrop: sidebar closes
        4. Tap nav link: navigate AND sidebar closes
        5. Desktop (≥768px): normal sidebar behavior, no hamburger
        </artifact>

        **Commit**: 4e962cbf

        <phase_complete>true</phase_complete>

        ---
        Tokens: 892772 input, 6084 output, 75554 cache_creation, 814440 cache_read
        Complete: true
        Blocked: false
      timestamp: 1768628597
    - id: 221
      taskid: TASK-256
      phase: test
      iteration: 1
      role: combined
      content: |
        # test - Iteration 1

        ## Prompt

        Test and review the implementation:

        **Task**: Add mobile responsive design with hamburger menu
        **Category**: feature

        ## Specification

        # Specification: Add mobile responsive design with hamburger menu

        ## Problem Statement
        [1-2 sentences]

        ## Success Criteria
        - [ ] [Criterion 1]
        - [ ] [Criterion 2]

        ## Testing Requirements
        - [ ] [Test 1]
        - [ ] [Test 2]

        ## Scope
        ### In Scope
        - [Item]
        ### Out of Scope
        - [Item]

        ## Technical Approach
        [Brief implementation plan]

        ### Files to Modify
        - [file]: [change]

        ## [Category-Specific Section]
        [Include appropriate section based on category]

        ## Instructions

        1. Run the full test suite
        2. Verify all Testing Requirements from spec are satisfied
        3. Review code for quality issues
        4. Check for edge cases and security issues
        5. Fix any problems found

        ### Verification Against Spec
        Go through each Success Criterion and Testing Requirement from the spec
        and verify it's satisfied.

        Keep iterating until all tests pass and code quality is acceptable.

        After completing, commit:
        ```bash
        git add -A
        git commit -m "[orc] TASK-256: test - completed"
        ```

        When done, output:
        ```
        **Commit**: [SHA]
        <phase_complete>true</phase_complete>
        ```


        ## Response

        ## Test Phase Complete

        Successfully completed the test phase for TASK-256 (Add mobile responsive design with hamburger menu):

        ### Tests Created
        - **`mobile-responsive.spec.ts`**: 20 comprehensive E2E tests covering:
          - Mobile viewport tests (375px, 414px)
          - Desktop viewport tests (1024px)
          - Breakpoint transition tests (768px boundary)
          - Mobile menu state persistence tests

        ### Fixes Made
        1. **CSS Specificity Fix** (`Header.css:143-155`): Changed `.mobile-menu-btn` to `.mobile-menu-btn.btn` to properly override Button component's `display: inline-flex` with `display: none` on desktop

        2. **Sidebar Test Fixes** (`sidebar.spec.ts`):
           - Updated `.main-area` selector to `.app-layout` (React uses different class names)
           - Changed class check from `!sidebar-expanded` to `sidebar-collapsed`
           - Fixed `.nav-label:has-text("Tasks")` to use exact regex `/^Tasks$/` to avoid matching "All Tasks" in Initiatives section

        ### Test Results
        - **Mobile Responsive Tests**: 20/20 passing
        - **Sidebar Tests**: 10/10 passing (1 intentionally skipped - keyboard shortcut flaky test)
        - **Unit Tests**: 737/737 passing

        ---
        Tokens: 7665621 input, 18848 output, 229458 cache_creation, 7436034 cache_read
        Complete: false
        Blocked: false
      timestamp: 1768628597
    - id: 222
      taskid: TASK-256
      phase: test
      iteration: 2
      role: combined
      content: |
        # test - Iteration 2

        ## Prompt

        Test and review the implementation:

        **Task**: Add mobile responsive design with hamburger menu
        **Category**: feature

        ## Specification

        # Specification: Add mobile responsive design with hamburger menu

        ## Problem Statement
        [1-2 sentences]

        ## Success Criteria
        - [ ] [Criterion 1]
        - [ ] [Criterion 2]

        ## Testing Requirements
        - [ ] [Test 1]
        - [ ] [Test 2]

        ## Scope
        ### In Scope
        - [Item]
        ### Out of Scope
        - [Item]

        ## Technical Approach
        [Brief implementation plan]

        ### Files to Modify
        - [file]: [change]

        ## [Category-Specific Section]
        [Include appropriate section based on category]

        ## Instructions

        1. Run the full test suite
        2. Verify all Testing Requirements from spec are satisfied
        3. Review code for quality issues
        4. Check for edge cases and security issues
        5. Fix any problems found

        ### Verification Against Spec
        Go through each Success Criterion and Testing Requirement from the spec
        and verify it's satisfied.

        Keep iterating until all tests pass and code quality is acceptable.

        After completing, commit:
        ```bash
        git add -A
        git commit -m "[orc] TASK-256: test - completed"
        ```

        When done, output:
        ```
        **Commit**: [SHA]
        <phase_complete>true</phase_complete>
        ```


        ## Response

        ## Test Phase Summary

        **All tests pass:**
        - 737 unit tests (Vitest)
        - 98 E2E tests (Playwright), including 20 new mobile responsive tests
        - TypeScript type checking passes with no errors

        **Implementation verified:**
        - Hamburger menu button visible on mobile (<768px), hidden on desktop
        - Sidebar slides in/out with animation
        - Closes on: backdrop click, navigation link click, Escape key, route change
        - Mobile menu state does NOT persist to localStorage (correct - only desktop sidebar state persists)
        - No horizontal scrollbar at 375px and 414px viewports
        - Smooth breakpoint transitions at 767px/768px

        **Code quality:**
        - Proper accessibility (`aria-label` on hamburger button)
        - Clean separation of mobile and desktop states
        - CSS uses media queries at 767px breakpoint
        - Pre-existing color contrast issue on `retry-btn` is unrelated to this implementation

        **Commit**: 40639ab4
        <phase_complete>true</phase_complete>

        ---
        Tokens: 10007160 input, 24483 output, 328193 cache_creation, 9678807 cache_read
        Complete: true
        Blocked: false
      timestamp: 1768628597
gate_decisions:
    - id: 130971
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130972
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130973
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130974
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130975
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130976
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130977
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130978
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130979
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130980
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130981
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130982
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130983
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130984
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130985
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130986
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130987
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130988
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130998
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130999
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131000
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131001
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131002
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131003
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131004
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131005
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131006
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131007
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131008
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131009
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131010
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131011
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131012
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131013
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131014
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 131015
      taskid: TASK-256
      phase: spec
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T04:56:31-06:00
    - id: 130989
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 130990
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 130991
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 130992
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 130993
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 131016
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 131017
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 131018
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 131019
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 131020
      taskid: TASK-256
      phase: implement
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:01:20-06:00
    - id: 130994
      taskid: TASK-256
      phase: test
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:30:07-06:00
    - id: 130995
      taskid: TASK-256
      phase: test
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:30:07-06:00
    - id: 130996
      taskid: TASK-256
      phase: test
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:30:07-06:00
    - id: 131021
      taskid: TASK-256
      phase: test
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:30:07-06:00
    - id: 131022
      taskid: TASK-256
      phase: test
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:30:07-06:00
    - id: 131023
      taskid: TASK-256
      phase: test
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:30:07-06:00
    - id: 130997
      taskid: TASK-256
      phase: docs
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:32:05-06:00
    - id: 131024
      taskid: TASK-256
      phase: docs
      gatetype: auto
      approved: true
      reason: auto-approved on success
      decidedby: ""
      decidedat: 2026-01-16T08:32:05-06:00
