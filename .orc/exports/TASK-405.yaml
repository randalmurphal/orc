version: 2
exported_at: 2026-01-16T23:27:36.885448598-06:00
task:
    id: TASK-405
    title: Integrate TranscriptViewer into task detail page
    description: |-
        Integrate the new TranscriptViewer component into the existing task detail page, replacing or enhancing the current transcript tab.

        **INTEGRATION POINTS:**
        1. Replace existing TranscriptTab in task detail view
        2. Pass isLive=true when task is running
        3. Handle WebSocket subscription for live updates
        4. Add settings persistence (localStorage)

        **TASK DETAIL PAGE CHANGES:**
        - Update web/src/pages/TaskDetail.tsx
        - Replace transcript tab content with TranscriptViewer
        - Add loading state while fetching initial data
        - Handle task state changes (running â†’ completed)

        **SUCCESS CRITERIA:**
        1. TranscriptViewer renders in task detail
        2. Live streaming works for running tasks
        3. Historical transcripts load for completed tasks
        4. Settings persist across page loads
        5. No regression in existing functionality
    weight: small
    status: planned
    branch: orc/TASK-405
    queue: active
    priority: normal
    category: feature
    initiative_id: INIT-025
    blocked_by:
        - TASK-403
        - TASK-404
    created_at: 2026-01-16T22:58:37-06:00
    updated_at: 0001-01-01T00:00:00Z
plan:
    version: 1
    task_id: TASK-405
    weight: small
    description: Small task - implement with tests, fully automated
    phases:
        - id: implement
          name: implement
          prompt: |
            Implement the following task:

            **Task**: {{TASK_TITLE}}

            **Description**: {{TASK_DESCRIPTION}}

            {{RETRY_CONTEXT}}

            1. Implement the required changes
            2. Write/update tests as needed
            3. Run tests and fix any failures

            Keep iterating until implementation is complete and all tests pass.

            When done, output:
            <phase_complete>true</phase_complete>
          gate:
            type: auto
          checkpoint: true
          status: pending
        - id: test
          name: test
          prompt: |
            Final test verification for: {{TASK_TITLE}}

            **Original task**: {{TASK_DESCRIPTION}}

            1. Run the full test suite
            2. Fix any failures found
            3. Verify edge cases are covered

            Keep iterating until all tests pass.

            When done, output:
            <phase_complete>true</phase_complete>
          depends_on:
            - implement
          gate:
            type: auto
          checkpoint: true
          status: pending
state:
    task_id: TASK-405
    current_phase: ""
    current_iteration: 0
    status: pending
    started_at: 0001-01-01T00:00:00Z
    updated_at: 0001-01-01T00:00:00Z
    phases: {}
    tokens:
        input_tokens: 0
        output_tokens: 0
        total_tokens: 0
    cost:
        total_cost_usd: 0
