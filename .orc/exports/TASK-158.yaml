version: 2
exported_at: 2026-01-17T08:29:48.022378-06:00
task:
    id: TASK-158
    title: 'Phase 0: Expand E2E tests for Filters and URL persistence (14 tests)'
    description: |-
        ## Purpose
        E2E tests for filter functionality and URL/localStorage state persistence.

        ## Test Coverage (14 tests)

        ### Initiative Filter (7 tests)
        - should show initiative dropdown in task list header
        - should show initiative dropdown in board header
        - should filter tasks when initiative selected
        - should show Unassigned filter option
        - should persist initiative filter in URL (?initiative=xxx)
        - should persist initiative filter in localStorage
        - should sync filter between sidebar and dropdown

        ### Dependency Filter (4 tests)
        - should show dependency status dropdown
        - should filter to blocked tasks only
        - should filter to ready tasks only
        - should combine with initiative filter correctly

        ### Search (3 tests)
        - should filter tasks by title/ID as user types
        - should clear search when X button clicked
        - should debounce search input (not fire on every keystroke)

        ## State Persistence Pattern
        - URL param takes precedence over localStorage
        - Browser back/forward should navigate filter history
        - Page refresh should restore filter state

        ## Success Criteria
        - All 14 tests pass
        - URL state persists correctly across page refresh
    weight: medium
    status: completed
    branch: orc/TASK-158
    queue: active
    priority: normal
    category: test
    initiative_id: INIT-005
    created_at: 2026-01-14T02:18:29-06:00
    updated_at: 0001-01-01T00:00:00Z
plan:
    version: 1
    task_id: TASK-158
    weight: medium
    description: Medium task - implement with review, fully automated
    phases:
        - id: implement
          name: implement
          prompt: |
            Implement the following feature/task:

            **Task**: {{TASK_TITLE}}

            **Description**: {{TASK_DESCRIPTION}}

            {{RETRY_CONTEXT}}

            1. Plan your implementation approach
            2. Implement the required changes
            3. Write/update tests alongside code
            4. Run tests and fix any failures

            Keep iterating until implementation is complete and tests pass.

            When done, output:
            <phase_complete>true</phase_complete>
          gate:
            type: auto
          checkpoint: true
          status: pending
        - id: test
          name: test
          prompt: |
            Test and review the implementation:

            **Task**: {{TASK_TITLE}}

            **Original task**: {{TASK_DESCRIPTION}}

            1. Run the full test suite
            2. Review code for quality issues
            3. Check for edge cases and security issues
            4. Fix any problems found

            Keep iterating until all tests pass and code quality is acceptable.

            When done, output:
            <phase_complete>true</phase_complete>
          depends_on:
            - implement
          gate:
            type: auto
          checkpoint: true
          status: pending
        - id: docs
          name: docs
          prompt: |
            Update documentation for:

            **Task**: {{TASK_TITLE}}

            **Description**: {{TASK_DESCRIPTION}}

            1. Update any relevant documentation files
            2. Ensure CLAUDE.md reflects the changes if applicable
            3. Add/update code comments where needed
            4. Update README if user-facing changes were made

            Keep iterating until documentation is complete.

            When done, output:
            <phase_complete>true</phase_complete>
          depends_on:
            - test
          gate:
            type: auto
          checkpoint: true
          status: pending
state:
    task_id: TASK-158
    current_phase: ""
    current_iteration: 0
    status: pending
    started_at: 0001-01-01T00:00:00Z
    updated_at: 0001-01-01T00:00:00Z
    phases: {}
    tokens:
        input_tokens: 0
        output_tokens: 0
        total_tokens: 0
    cost:
        total_cost_usd: 0
