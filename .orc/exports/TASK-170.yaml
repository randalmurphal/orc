version: 2
exported_at: 2026-01-17T22:16:48.234921955-06:00
task:
    id: TASK-170
    title: 'Phase 2: React - Layout components (Sidebar, Header, AppLayout)'
    description: |-
        ## Purpose
        Port the main layout components that wrap all pages.

        ## Components to Port

        ### Sidebar.svelte -> Sidebar.tsx
        - Navigation menu (Work section)
        - Initiatives section (collapsible)
        - Environment section (collapsible)
        - Expand/collapse toggle
        - Active route highlighting
        - Initiative list with progress counts

        ### Header.svelte -> Header.tsx
        - Project selector dropdown
        - Breadcrumb trail
        - Commands button (Shift+Alt+K)
        - New Task button

        ### AppLayout.tsx
        - Combines Sidebar + Header + content area
        - Responsive layout
        - Uses React Router Outlet

        ### ProjectSwitcher.svelte -> ProjectSwitcher.tsx
        - Modal overlay for project selection
        - Lists all projects
        - Persists selection to URL + localStorage

        ## Success Criteria
        - Layout matches Svelte pixel-for-pixel
        - Sidebar collapse persists in localStorage
        - Project switcher works with keyboard (Shift+Alt+P)
        - Routes highlight correctly in sidebar
    weight: medium
    status: completed
    branch: orc/TASK-170
    queue: active
    priority: normal
    category: feature
    initiative_id: INIT-005
    blocked_by:
        - TASK-164
        - TASK-166
        - TASK-169
    created_at: 2026-01-14T02:21:29-06:00
    updated_at: 0001-01-01T00:00:00Z
plan:
    version: 1
    task_id: TASK-170
    weight: medium
    description: Medium task - implement with review, fully automated
    phases:
        - id: implement
          name: implement
          prompt: |
            Implement the following feature/task:

            **Task**: {{TASK_TITLE}}

            **Description**: {{TASK_DESCRIPTION}}

            {{RETRY_CONTEXT}}

            1. Plan your implementation approach
            2. Implement the required changes
            3. Write/update tests alongside code
            4. Run tests and fix any failures

            Keep iterating until implementation is complete and tests pass.

            When done, output:
            <phase_complete>true</phase_complete>
          gate:
            type: auto
          checkpoint: true
          status: pending
        - id: test
          name: test
          prompt: |
            Test and review the implementation:

            **Task**: {{TASK_TITLE}}

            **Original task**: {{TASK_DESCRIPTION}}

            1. Run the full test suite
            2. Review code for quality issues
            3. Check for edge cases and security issues
            4. Fix any problems found

            Keep iterating until all tests pass and code quality is acceptable.

            When done, output:
            <phase_complete>true</phase_complete>
          depends_on:
            - implement
          gate:
            type: auto
          checkpoint: true
          status: pending
        - id: docs
          name: docs
          prompt: |
            Update documentation for:

            **Task**: {{TASK_TITLE}}

            **Description**: {{TASK_DESCRIPTION}}

            1. Update any relevant documentation files
            2. Ensure CLAUDE.md reflects the changes if applicable
            3. Add/update code comments where needed
            4. Update README if user-facing changes were made

            Keep iterating until documentation is complete.

            When done, output:
            <phase_complete>true</phase_complete>
          depends_on:
            - test
          gate:
            type: auto
          checkpoint: true
          status: pending
state:
    task_id: TASK-170
    current_phase: ""
    current_iteration: 0
    status: pending
    started_at: 0001-01-01T00:00:00Z
    updated_at: 0001-01-01T00:00:00Z
    phases: {}
    tokens:
        input_tokens: 0
        output_tokens: 0
        total_tokens: 0
    cost:
        total_cost_usd: 0
