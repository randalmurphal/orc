/* Timeline Tab */
.timeline-tab {
	display: flex;
	flex-direction: column;
	gap: var(--space-4);
}

.timeline-empty {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: var(--space-3);
	padding: var(--space-12);
	color: var(--text-muted);
	text-align: center;
}

.timeline-empty h3 {
	margin: 0;
	font-size: var(--text-lg);
	color: var(--text-secondary);
}

.timeline-empty p {
	margin: 0;
	font-size: var(--text-sm);
	max-width: 40ch;
}

/* Layout */
.timeline-layout {
	display: grid;
	grid-template-columns: 1fr 300px;
	gap: var(--space-6);
}

@media (max-width: 900px) {
	.timeline-layout {
		grid-template-columns: 1fr;
	}
}

/* Sections */
.section-title {
	display: flex;
	align-items: center;
	gap: var(--space-2);
	margin: 0 0 var(--space-4) 0;
	font-size: var(--text-sm);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
}

.subsection-title {
	margin: var(--space-4) 0 var(--space-2) 0;
	font-size: var(--text-xs);
	font-weight: var(--font-semibold);
	text-transform: uppercase;
	letter-spacing: var(--tracking-wider);
	color: var(--text-muted);
}

/* Timeline */
.timeline-section {
	background: var(--bg-secondary);
	border: 1px solid var(--border-subtle);
	border-radius: var(--radius-lg);
	padding: var(--space-4);
}

.timeline {
	display: flex;
	flex-direction: column;
}

.timeline-phase {
	display: flex;
	gap: var(--space-3);
	position: relative;
}

.phase-marker {
	display: flex;
	flex-direction: column;
	align-items: center;
	position: relative;
	z-index: 1;
}

.phase-marker svg {
	background: var(--bg-secondary);
	color: var(--text-muted);
}

.phase-connector {
	width: 2px;
	flex: 1;
	background: var(--border-default);
	margin-top: var(--space-1);
	margin-bottom: calc(-1 * var(--space-1));
}

/* Phase Status Colors */
.timeline-phase.completed .phase-marker svg {
	color: var(--status-success);
}

.timeline-phase.running .phase-marker svg {
	color: var(--accent-primary);
	animation: pulse 2s ease-in-out infinite;
}

.timeline-phase.failed .phase-marker svg {
	color: var(--status-danger);
}

.timeline-phase.skipped .phase-marker svg {
	color: var(--text-muted);
}

.timeline-phase.current {
	background: var(--accent-glow);
	margin: calc(-1 * var(--space-2));
	padding: var(--space-2);
	border-radius: var(--radius-md);
}

@keyframes pulse {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

/* Phase Content */
.phase-content {
	flex: 1;
	padding-bottom: var(--space-4);
}

.phase-header {
	display: flex;
	align-items: center;
	gap: var(--space-2);
}

.phase-name {
	font-size: var(--text-sm);
	font-weight: var(--font-medium);
	color: var(--text-primary);
	text-transform: capitalize;
}

.phase-iterations {
	font-size: var(--text-xs);
	color: var(--text-muted);
	padding: var(--space-0-5) var(--space-1-5);
	background: var(--bg-tertiary);
	border-radius: var(--radius-full);
}

.phase-time {
	display: flex;
	flex-wrap: wrap;
	gap: var(--space-3);
	margin-top: var(--space-1);
	font-size: var(--text-xs);
	color: var(--text-muted);
}

.phase-commit {
	display: inline-flex;
	align-items: center;
	gap: var(--space-1);
	margin-top: var(--space-1);
	font-size: var(--text-xs);
	color: var(--text-muted);
}

.phase-commit code {
	font-family: var(--font-mono);
	background: var(--bg-tertiary);
	padding: var(--space-0-5) var(--space-1);
	border-radius: var(--radius-sm);
}

.phase-error {
	display: flex;
	align-items: flex-start;
	gap: var(--space-1);
	margin-top: var(--space-2);
	padding: var(--space-2);
	background: var(--status-danger-bg);
	border-radius: var(--radius-md);
	font-size: var(--text-xs);
	color: var(--status-danger);
}

.phase-error svg {
	flex-shrink: 0;
	margin-top: 1px;
}

/* Stats Section */
.stats-section {
	background: var(--bg-secondary);
	border: 1px solid var(--border-subtle);
	border-radius: var(--radius-lg);
	padding: var(--space-4);
}

.token-stats {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: var(--space-2);
}

.stat-card {
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
	padding: var(--space-3);
	background: var(--bg-tertiary);
	border-radius: var(--radius-md);
}

.stat-card.highlight {
	background: var(--accent-glow);
}

.stat-label {
	font-size: var(--text-xs);
	font-weight: var(--font-medium);
	color: var(--text-muted);
}

.stat-value {
	font-size: var(--text-lg);
	font-weight: var(--font-semibold);
	font-family: var(--font-mono);
	color: var(--text-primary);
}

.stat-card.highlight .stat-value {
	color: var(--accent-primary);
}

/* Phase Tokens */
.phase-tokens {
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
}

.phase-token-row {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: var(--space-1-5) var(--space-2);
	background: var(--bg-tertiary);
	border-radius: var(--radius-sm);
	font-size: var(--text-xs);
}

.phase-token-row .phase-name {
	text-transform: capitalize;
	color: var(--text-secondary);
}

.phase-token-row .phase-total {
	font-family: var(--font-mono);
	color: var(--text-primary);
}

/* Info Section */
.info-section {
	background: var(--bg-secondary);
	border: 1px solid var(--border-subtle);
	border-radius: var(--radius-lg);
	padding: var(--space-4);
}

.info-list {
	margin: 0;
}

.info-item {
	display: flex;
	justify-content: space-between;
	padding: var(--space-2) 0;
	border-bottom: 1px solid var(--border-subtle);
}

.info-item:last-child {
	border-bottom: none;
}

.info-item dt {
	font-size: var(--text-sm);
	color: var(--text-muted);
}

.info-item dd {
	margin: 0;
	font-size: var(--text-sm);
	font-weight: var(--font-medium);
	color: var(--text-primary);
}

.info-item dd.status-running {
	color: var(--accent-primary);
}

.info-item dd.status-completed,
.info-item dd.status-finished {
	color: var(--status-success);
}

.info-item dd.status-failed {
	color: var(--status-danger);
}

.info-item dd.status-paused,
.info-item dd.status-blocked {
	color: var(--status-warning);
}

/* Queue styles */
.info-item dd.queue-active {
	color: var(--text-primary);
}

.info-item dd.queue-backlog {
	color: var(--text-muted);
}

/* Priority badge in info */
.info-priority {
	display: inline-flex;
	align-items: center;
	padding: var(--space-0-5) var(--space-2);
	border-radius: var(--radius-full);
	font-size: var(--text-xs);
	font-weight: var(--font-medium);
	background: color-mix(in srgb, var(--priority-color) 15%, transparent);
	color: var(--priority-color);
}

.info-priority.priority-critical {
	animation: pulse 2s ease-in-out infinite;
}

/* Category badge in info */
.info-category {
	display: inline-flex;
	align-items: center;
	gap: var(--space-1);
	padding: var(--space-0-5) var(--space-2);
	border-radius: var(--radius-full);
	font-size: var(--text-xs);
	font-weight: var(--font-medium);
	background: color-mix(in srgb, var(--category-color) 15%, transparent);
	color: var(--category-color);
}

/* Initiative link in info */
.info-initiative-link {
	display: inline-flex;
	align-items: center;
	gap: var(--space-1);
	color: var(--accent-primary);
	text-decoration: none;
	font-size: var(--text-sm);
	font-weight: var(--font-medium);
	transition: color var(--duration-fast) var(--ease-out);
}

.info-initiative-link:hover {
	color: var(--accent-hover);
	text-decoration: underline;
}

/* Branch code style */
.info-branch {
	font-family: var(--font-mono);
	font-size: var(--text-xs);
	background: var(--bg-tertiary);
	padding: var(--space-0-5) var(--space-1);
	border-radius: var(--radius-sm);
	word-break: break-all;
}

/* Phase name in info */
.info-phase {
	text-transform: capitalize;
	color: var(--accent-primary);
	font-weight: var(--font-medium);
}

/* Executor info */
.info-executor {
	display: inline-flex;
	align-items: center;
	gap: var(--space-1);
	font-family: var(--font-mono);
	font-size: var(--text-xs);
	color: var(--text-secondary);
}

/* Blocked by indicator */
.info-blocked-by {
	display: inline-flex;
	align-items: center;
	gap: var(--space-1);
	color: var(--status-warning);
	font-weight: var(--font-medium);
}

/* Retries badge */
.info-retries {
	color: var(--status-warning);
	font-weight: var(--font-semibold);
}

/* Duration */
.info-duration {
	font-family: var(--font-mono);
	color: var(--text-primary);
}

/* Updated timestamp */
.info-updated {
	color: var(--text-muted);
}

/* Weight value */
.weight-value {
	text-transform: capitalize;
}
