/* =============================================================================
   Pipeline Component Styles
   5-phase task execution visualization
   ============================================================================= */

.pipeline {
	display: flex;
	gap: 3px;
	width: 100%;
}

/* =============================================================================
   Pipeline Step
   Each phase column with bar and label
   ============================================================================= */

.pipeline-step {
	flex: 1;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 4px;
}

/* =============================================================================
   Pipeline Bar
   4px height progress indicator
   ============================================================================= */

.pipeline-bar {
	width: 100%;
	height: 4px;
	background: rgba(0, 0, 0, 0.3);
	border-radius: 2px;
	overflow: hidden;
	position: relative;
}

.pipeline-bar-fill {
	height: 100%;
	border-radius: 2px;
	transition: width var(--duration-slow) ease-out;
}

/* Completed: solid green, full width */
.pipeline-bar-fill--completed {
	width: 100%;
	background: var(--green);
}

/* Active: animated pulse effect */
.pipeline-bar-fill--active {
	background: var(--primary);
	animation: pipeline-progress-grow 2s ease-in-out infinite;
}

/* Active with explicit progress: no animation, show actual width */
.pipeline-step--active .pipeline-bar-fill--active[style] {
	animation: none;
}

/* Failed: solid red, full width */
.pipeline-bar-fill--failed {
	width: 100%;
	background: var(--red);
}

/* Pending: no fill (empty bar) */
.pipeline-bar-fill--pending {
	width: 0;
}

/* =============================================================================
   Pipeline Label
   8px text below bars
   ============================================================================= */

.pipeline-label {
	display: inline-flex;
	align-items: center;
	gap: 2px;
	font-size: 8px;
	font-weight: 600;
	text-transform: uppercase;
	letter-spacing: 0.03em;
	white-space: nowrap;
}

/* Completed: green with checkmark */
.pipeline-label--completed {
	color: var(--green);
}

/* Active: bright primary color */
.pipeline-label--active {
	color: var(--primary-bright);
}

/* Pending: muted color */
.pipeline-label--pending {
	color: var(--text-muted);
}

/* Failed: red with X icon */
.pipeline-label--failed {
	color: var(--red);
}

/* Progress percentage display */
.pipeline-progress {
	margin-left: 2px;
	font-family: var(--font-mono);
	font-size: 7px;
	opacity: 0.8;
}

/* =============================================================================
   Compact Variant
   Hides labels for constrained layouts
   ============================================================================= */

.pipeline--compact .pipeline-label {
	display: none;
}

.pipeline--compact .pipeline-step {
	gap: 0;
}

/* =============================================================================
   Animation
   Progress bar pulse effect for active phase
   ============================================================================= */

@keyframes pipeline-progress-grow {
	0%,
	100% {
		width: 50%;
		opacity: 1;
	}
	50% {
		width: 70%;
		opacity: 0.7;
	}
}
