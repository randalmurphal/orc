version: 1
weight: medium
description: Medium task - spec, TDD, tasks, implement, review, docs (TDD-first workflow)

phases:
  - id: spec
    name: spec
    # Uses templates/prompts/spec.md
    depends_on: []
    gate:
      type: auto
    checkpoint: true

  - id: tdd_write
    name: tdd_write
    # Uses templates/prompts/tdd_write.md
    # Write failing tests before implementation (context isolation)
    depends_on: [spec]
    gate:
      type: auto
    checkpoint: true

  - id: tasks
    name: tasks
    # Uses templates/prompts/tasks.md
    # Break down into checkboxed implementation tasks
    depends_on: [tdd_write]
    gate:
      type: auto
    checkpoint: true

  - id: implement
    name: implement
    # Uses templates/prompts/implement.md
    # Implementation guided by task breakdown, must make TDD tests pass
    depends_on: [tasks]
    gate:
      type: auto
    checkpoint: true

  - id: review
    name: review
    # Uses templates/prompts/review.md
    depends_on: [implement]
    gate:
      type: auto
    checkpoint: true
    max_iterations: 3

  - id: docs
    name: docs
    # Uses templates/prompts/docs.md
    depends_on: [review]
    gate:
      type: auto
    checkpoint: true
