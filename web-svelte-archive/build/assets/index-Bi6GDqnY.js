var Rv=Object.defineProperty;var Uv=(e,t,a)=>t in e?Rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Ce=(e,t,a)=>Uv(e,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=a(l);fetch(l.href,i)}})();function Lv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gf={exports:{}},Ri={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=Symbol.for("react.transitional.element"),Bv=Symbol.for("react.fragment");function Yf(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var l in t)l!=="key"&&(a[l]=t[l])}else a=t;return t=a.ref,{$$typeof:Hv,type:e,key:n,ref:t!==void 0?t:null,props:a}}Ri.Fragment=Bv;Ri.jsx=Yf;Ri.jsxs=Yf;Gf.exports=Ri;var s=Gf.exports,$f={exports:{}},V={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.transitional.element"),qv=Symbol.for("react.portal"),Gv=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),Qv=Symbol.for("react.consumer"),Vv=Symbol.for("react.context"),Xv=Symbol.for("react.forward_ref"),Kv=Symbol.for("react.suspense"),Zv=Symbol.for("react.memo"),Qf=Symbol.for("react.lazy"),Jv=Symbol.for("react.activity"),Eo=Symbol.iterator;function Fv(e){return e===null||typeof e!="object"?null:(e=Eo&&e[Eo]||e["@@iterator"],typeof e=="function"?e:null)}var Vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xf=Object.assign,Kf={};function Zn(e,t,a){this.props=e,this.context=t,this.refs=Kf,this.updater=a||Vf}Zn.prototype.isReactComponent={};Zn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zf(){}Zf.prototype=Zn.prototype;function nu(e,t,a){this.props=e,this.context=t,this.refs=Kf,this.updater=a||Vf}var lu=nu.prototype=new Zf;lu.constructor=nu;Xf(lu,Zn.prototype);lu.isPureReactComponent=!0;var To=Array.isArray;function Fc(){}var he={H:null,A:null,T:null,S:null},Jf=Object.prototype.hasOwnProperty;function su(e,t,a){var n=a.ref;return{$$typeof:au,type:e,key:t,ref:n!==void 0?n:null,props:a}}function Wv(e,t){return su(e.type,t,e.props)}function iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===au}function Iv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var wo=/\/+/g;function nc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iv(""+e.key):t.toString(36)}function Pv(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Fc,Fc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function fn(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(i){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case au:case qv:c=!0;break;case Qf:return c=e._init,fn(c(e._payload),t,a,n,l)}}if(c)return l=l(e),c=n===""?"."+nc(e,0):n,To(l)?(a="",c!=null&&(a=c.replace(wo,"$&/")+"/"),fn(l,t,a,"",function(f){return f})):l!=null&&(iu(l)&&(l=Wv(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(wo,"$&/")+"/")+c)),t.push(l)),1;c=0;var r=n===""?".":n+":";if(To(e))for(var o=0;o<e.length;o++)n=e[o],i=r+nc(n,o),c+=fn(n,t,a,i,l);else if(o=Fv(e),typeof o=="function")for(e=o.call(e),o=0;!(n=e.next()).done;)n=n.value,i=r+nc(n,o++),c+=fn(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return fn(Pv(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function ys(e,t,a){if(e==null)return e;var n=[],l=0;return fn(e,n,"","",function(i){return t.call(a,i,l++)}),n}function eg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tg={map:ys,forEach:function(e,t,a){ys(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Activity=Jv;V.Children=tg;V.Component=Zn;V.Fragment=Gv;V.Profiler=$v;V.PureComponent=nu;V.StrictMode=Yv;V.Suspense=Kv;V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he;V.__COMPILER_RUNTIME={__proto__:null,c:function(e){return he.H.useMemoCache(e)}};V.cache=function(e){return function(){return e.apply(null,arguments)}};V.cacheSignal=function(){return null};V.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Xf({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!Jf.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var c=Array(i),r=0;r<i;r++)c[r]=arguments[r+2];n.children=c}return su(e.type,l,n)};V.createContext=function(e){return e={$$typeof:Vv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Qv,_context:e},e};V.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)Jf.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var c=arguments.length-2;if(c===1)l.children=a;else if(1<c){for(var r=Array(c),o=0;o<c;o++)r[o]=arguments[o+2];l.children=r}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)l[n]===void 0&&(l[n]=c[n]);return su(e,i,l)};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Xv,render:e}};V.isValidElement=iu;V.lazy=function(e){return{$$typeof:Qf,_payload:{_status:-1,_result:e},_init:eg}};V.memo=function(e,t){return{$$typeof:Zv,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=he.T,a={};he.T=a;try{var n=e(),l=he.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Fc,ko)}catch(i){ko(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),he.T=t}};V.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()};V.use=function(e){return he.H.use(e)};V.useActionState=function(e,t,a){return he.H.useActionState(e,t,a)};V.useCallback=function(e,t){return he.H.useCallback(e,t)};V.useContext=function(e){return he.H.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e,t){return he.H.useDeferredValue(e,t)};V.useEffect=function(e,t){return he.H.useEffect(e,t)};V.useEffectEvent=function(e){return he.H.useEffectEvent(e)};V.useId=function(){return he.H.useId()};V.useImperativeHandle=function(e,t,a){return he.H.useImperativeHandle(e,t,a)};V.useInsertionEffect=function(e,t){return he.H.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return he.H.useLayoutEffect(e,t)};V.useMemo=function(e,t){return he.H.useMemo(e,t)};V.useOptimistic=function(e,t){return he.H.useOptimistic(e,t)};V.useReducer=function(e,t,a){return he.H.useReducer(e,t,a)};V.useRef=function(e){return he.H.useRef(e)};V.useState=function(e){return he.H.useState(e)};V.useSyncExternalStore=function(e,t,a){return he.H.useSyncExternalStore(e,t,a)};V.useTransition=function(){return he.H.useTransition()};V.version="19.2.3";$f.exports=V;var u=$f.exports;const vl=Lv(u);var Ff={exports:{}},Ui={},Wf={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,H){var q=R.length;R.push(H);e:for(;0<q;){var T=q-1>>>1,w=R[T];if(0<l(w,H))R[T]=H,R[q]=w,q=T;else break e}}function a(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var H=R[0],q=R.pop();if(q!==H){R[0]=q;e:for(var T=0,w=R.length,O=w>>>1;T<O;){var Q=2*(T+1)-1,De=R[Q],Be=Q+1,qe=R[Be];if(0>l(De,q))Be<w&&0>l(qe,De)?(R[T]=qe,R[Be]=q,T=Be):(R[T]=De,R[Q]=q,T=Q);else if(Be<w&&0>l(qe,q))R[T]=qe,R[Be]=q,T=Be;else break e}}return H}function l(R,H){var q=R.sortIndex-H.sortIndex;return q!==0?q:R.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,r=c.now();e.unstable_now=function(){return c.now()-r}}var o=[],f=[],p=1,h=null,m=3,g=!1,b=!1,j=!1,N=!1,v=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var H=a(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=R)n(f),H.sortIndex=H.expirationTime,t(o,H);else break;H=a(f)}}function x(R){if(j=!1,S(R),!b)if(a(o)!==null)b=!0,E||(E=!0,Y());else{var H=a(f);H!==null&&B(x,H.startTime-R)}}var E=!1,k=-1,A=5,z=-1;function C(){return N?!0:!(e.unstable_now()-z<A)}function M(){if(N=!1,E){var R=e.unstable_now();z=R;var H=!0;try{e:{b=!1,j&&(j=!1,d(k),k=-1),g=!0;var q=m;try{t:{for(S(R),h=a(o);h!==null&&!(h.expirationTime>R&&C());){var T=h.callback;if(typeof T=="function"){h.callback=null,m=h.priorityLevel;var w=T(h.expirationTime<=R);if(R=e.unstable_now(),typeof w=="function"){h.callback=w,S(R),H=!0;break t}h===a(o)&&n(o),S(R)}else n(o);h=a(o)}if(h!==null)H=!0;else{var O=a(f);O!==null&&B(x,O.startTime-R),H=!1}}break e}finally{h=null,m=q,g=!1}H=void 0}}finally{H?Y():E=!1}}}var Y;if(typeof y=="function")Y=function(){y(M)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=M,Y=function(){ce.postMessage(null)}}else Y=function(){v(M,0)};function B(R,H){k=v(function(){R(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var q=m;m=H;try{return R()}finally{m=q}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=m;m=R;try{return H()}finally{m=q}},e.unstable_scheduleCallback=function(R,H,q){var T=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?T+q:T):q=T,R){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=q+w,R={id:p++,callback:H,priorityLevel:R,startTime:q,expirationTime:w,sortIndex:-1},q>T?(R.sortIndex=q,t(f,R),a(o)===null&&R===a(f)&&(j?(d(k),k=-1):j=!0,B(x,q-T))):(R.sortIndex=w,t(o,R),b||g||(b=!0,E||(E=!0,Y()))),R},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(R){var H=m;return function(){var q=m;m=H;try{return R.apply(this,arguments)}finally{m=q}}}})(If);Wf.exports=If;var ag=Wf.exports,Pf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=u;function eh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ua(){}var Je={d:{f:ua,r:function(){throw Error(eh(522))},D:ua,C:ua,L:ua,m:ua,X:ua,S:ua,M:ua},p:0,findDOMNode:null},lg=Symbol.for("react.portal");function sg(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Nl=ng.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Li(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Je;Fe.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(eh(299));return sg(e,t,null,a)};Fe.flushSync=function(e){var t=Nl.T,a=Je.p;try{if(Nl.T=null,Je.p=2,e)return e()}finally{Nl.T=t,Je.p=a,Je.d.f()}};Fe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Je.d.C(e,t))};Fe.prefetchDNS=function(e){typeof e=="string"&&Je.d.D(e)};Fe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Li(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Je.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&Je.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Fe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Li(t.as,t.crossOrigin);Je.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Je.d.M(e)};Fe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Li(a,t.crossOrigin);Je.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Fe.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Li(t.as,t.crossOrigin);Je.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Je.d.m(e)};Fe.requestFormReset=function(e){Je.d.r(e)};Fe.unstable_batchedUpdates=function(e,t){return e(t)};Fe.useFormState=function(e,t,a){return Nl.H.useFormState(e,t,a)};Fe.useFormStatus=function(){return Nl.H.useHostTransitionStatus()};Fe.version="19.2.3";function th(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(th)}catch(e){console.error(e)}}th(),Pf.exports=Fe;var cu=Pf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oe=ag,ah=u,ig=cu;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function es(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function lh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _o(e){if(es(e)!==e)throw Error(D(188))}function cg(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(D(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return _o(l),e;if(i===n)return _o(l),t;i=i.sibling}throw Error(D(188))}if(a.return!==n.return)a=l,n=i;else{for(var c=!1,r=l.child;r;){if(r===a){c=!0,a=l,n=i;break}if(r===n){c=!0,n=l,a=i;break}r=r.sibling}if(!c){for(r=i.child;r;){if(r===a){c=!0,a=i,n=l;break}if(r===n){c=!0,n=i,a=l;break}r=r.sibling}if(!c)throw Error(D(189))}}if(a.alternate!==n)throw Error(D(190))}if(a.tag!==3)throw Error(D(188));return a.stateNode.current===a?e:t}function ih(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ih(e),t!==null)return t;e=e.sibling}return null}var me=Object.assign,rg=Symbol.for("react.element"),xs=Symbol.for("react.transitional.element"),gl=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),rh=Symbol.for("react.consumer"),Jt=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),uu=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),er=Symbol.for("react.activity"),ug=Symbol.for("react.memo_cache_sentinel"),Ao=Symbol.iterator;function cl(e){return e===null||typeof e!="object"?null:(e=Ao&&e[Ao]||e["@@iterator"],typeof e=="function"?e:null)}var og=Symbol.for("react.client.reference");function tr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===og?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case Wc:return"Profiler";case ch:return"StrictMode";case Ic:return"Suspense";case Pc:return"SuspenseList";case er:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case gl:return"Portal";case Jt:return e.displayName||"Context";case rh:return(e._context.displayName||"Context")+".Consumer";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uu:return t=e.displayName||null,t!==null?t:tr(e.type)||"Memo";case da:t=e._payload,e=e._init;try{return tr(e(t))}catch{}}return null}var yl=Array.isArray,$=ah.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=ig.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Va={pending:!1,data:null,method:null,action:null},ar=[],yn=-1;function qt(e){return{current:e}}function He(e){0>yn||(e.current=ar[yn],ar[yn]=null,yn--)}function oe(e,t){yn++,ar[yn]=e.current,e.current=t}var Bt=qt(null),Hl=qt(null),Sa=qt(null),si=qt(null);function ii(e,t){switch(oe(Sa,t),oe(Hl,e),oe(Bt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ud(t),e=kp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}He(Bt),oe(Bt,e)}function Ln(){He(Bt),He(Hl),He(Sa)}function nr(e){e.memoizedState!==null&&oe(si,e);var t=Bt.current,a=kp(t,e.type);t!==a&&(oe(Hl,e),oe(Bt,a))}function ci(e){Hl.current===e&&(He(Bt),He(Hl)),si.current===e&&(He(si),Jl._currentValue=Va)}var lc,Do;function Ga(e){if(lc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);lc=t&&t[1]||"",Do=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lc+e+Do}var sc=!1;function ic(e,t){if(!e||sc)return"";sc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var m=g}Reflect.construct(e,[],h)}else{try{h.call()}catch(g){m=g}e.call(h.prototype)}}else{try{throw Error()}catch(g){m=g}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),c=i[0],r=i[1];if(c&&r){var o=c.split(`
`),f=r.split(`
`);for(l=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(n===o.length||l===f.length)for(n=o.length-1,l=f.length-1;1<=n&&0<=l&&o[n]!==f[l];)l--;for(;1<=n&&0<=l;n--,l--)if(o[n]!==f[l]){if(n!==1||l!==1)do if(n--,l--,0>l||o[n]!==f[l]){var p=`
`+o[n].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=n&&0<=l);break}}}finally{sc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ga(a):""}function dg(e,t){switch(e.tag){case 26:case 27:case 5:return Ga(e.type);case 16:return Ga("Lazy");case 13:return e.child!==t&&t!==null?Ga("Suspense Fallback"):Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return ic(e.type,!1);case 11:return ic(e.type.render,!1);case 1:return ic(e.type,!0);case 31:return Ga("Activity");default:return""}}function zo(e){try{var t="",a=null;do t+=dg(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var lr=Object.prototype.hasOwnProperty,ou=Oe.unstable_scheduleCallback,cc=Oe.unstable_cancelCallback,fg=Oe.unstable_shouldYield,hg=Oe.unstable_requestPaint,ot=Oe.unstable_now,mg=Oe.unstable_getCurrentPriorityLevel,uh=Oe.unstable_ImmediatePriority,oh=Oe.unstable_UserBlockingPriority,ri=Oe.unstable_NormalPriority,pg=Oe.unstable_LowPriority,dh=Oe.unstable_IdlePriority,vg=Oe.log,gg=Oe.unstable_setDisableYieldValue,ts=null,dt=null;function ga(e){if(typeof vg=="function"&&gg(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(ts,e)}catch{}}var ft=Math.clz32?Math.clz32:bg,yg=Math.log,xg=Math.LN2;function bg(e){return e>>>=0,e===0?32:31-(yg(e)/xg|0)|0}var bs=256,js=262144,Ss=4194304;function Ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hi(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~i,n!==0?l=Ya(n):(c&=r,c!==0?l=Ya(c):a||(a=r&~e,a!==0&&(l=Ya(a))))):(r=n&~i,r!==0?l=Ya(r):c!==0?l=Ya(c):a||(a=n&~e,a!==0&&(l=Ya(a)))),l===0?0:t!==0&&t!==l&&!(t&i)&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function as(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fh(){var e=Ss;return Ss<<=1,!(Ss&62914560)&&(Ss=4194304),e}function rc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ns(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sg(e,t,a,n,l,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,o=e.expirationTimes,f=e.hiddenUpdates;for(a=c&~a;0<a;){var p=31-ft(a),h=1<<p;r[p]=0,o[p]=-1;var m=f[p];if(m!==null)for(f[p]=null,p=0;p<m.length;p++){var g=m[p];g!==null&&(g.lane&=-536870913)}a&=~h}n!==0&&hh(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function hh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ft(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function mh(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ft(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function ph(e,t){var a=t&-t;return a=a&42?1:du(a),a&(e.suspendedLanes|t)?0:a}function du(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function vh(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function Mo(e,t){var a=te.p;try{return te.p=e,t()}finally{te.p=a}}var La=Math.random().toString(36).slice(2),$e="__reactFiber$"+La,at="__reactProps$"+La,Jn="__reactContainer$"+La,sr="__reactEvents$"+La,Ng="__reactListeners$"+La,Cg="__reactHandles$"+La,Oo="__reactResources$"+La,ls="__reactMarker$"+La;function hu(e){delete e[$e],delete e[at],delete e[sr],delete e[Ng],delete e[Cg]}function xn(e){var t=e[$e];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Jn]||a[$e]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Gd(e);e!==null;){if(a=e[$e])return a;e=Gd(e)}return t}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[$e]||e[Jn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function An(e){var t=e[Oo];return t||(t=e[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Le(e){e[ls]=!0}var gh=new Set,yh={};function tn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(yh[e]=t,e=0;e<t.length;e++)gh.add(t[e])}var Eg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Uo={};function Tg(e){return lr.call(Uo,e)?!0:lr.call(Ro,e)?!1:Eg.test(e)?Uo[e]=!0:(Ro[e]=!0,!1)}function Gs(e,t,a){if(Tg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ns(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Yt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ir(e){if(!e._valueTracker){var t=xh(e)?"checked":"value";e._valueTracker=wg(e,t,""+e[t])}}function bh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=xh(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kg=/[\n"\\]/g;function St(e){return e.replace(kg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cr(e,t,a,n,l,i,c,r){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xt(t)):e.value!==""+xt(t)&&(e.value=""+xt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?rr(e,c,xt(t)):a!=null?rr(e,c,xt(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+xt(r):e.removeAttribute("name")}function jh(e,t,a,n,l,i,c,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ir(e);return}a=a!=null?""+xt(a):"",t=t!=null?""+xt(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),ir(e)}function rr(e,t,a){t==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dn(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+xt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Sh(e,t,a){if(t!=null&&(t=""+xt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+xt(a):""}function Nh(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(D(92));if(yl(n)){if(1<n.length)throw Error(D(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=xt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),ir(e)}function Bn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var _g=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||_g.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ch(e,t,a){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&Lo(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&Lo(e,i,t[i])}function mu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return Dg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ft(){}var ur=null;function pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bn=null,zn=null;function Ho(e){var t=Fn(e);if(t&&(e=t.stateNode)){var a=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(cr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[at]||null;if(!l)throw Error(D(90));cr(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&bh(n)}break e;case"textarea":Sh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Dn(e,!!a.multiple,t,!1)}}}var uc=!1;function Eh(e,t,a){if(uc)return e(t,a);uc=!0;try{var n=e(t);return n}finally{if(uc=!1,(bn!==null||zn!==null)&&(Fi(),bn&&(t=bn,e=zn,zn=bn=null,Ho(t),e)))for(t=0;t<e.length;t++)Ho(e[t])}}function Bl(e,t){var a=e.stateNode;if(a===null)return null;var n=a[at]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(D(231,t,typeof a));return a}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(aa)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){or=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{or=!1}var ya=null,vu=null,$s=null;function Th(){if($s)return $s;var e,t=vu,a=t.length,n,l="value"in ya?ya.value:ya.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var c=a-e;for(n=1;n<=c&&t[a-n]===l[i-n];n++);return $s=l.slice(e,1<n?1-n:void 0)}function Qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Bo(){return!1}function nt(e){function t(a,n,l,i,c){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cs:Bo,this.isPropagationStopped=Bo,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=nt(an),ss=me({},an,{view:0,detail:0}),zg=nt(ss),oc,dc,ul,qi=me({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(oc=e.screenX-ul.screenX,dc=e.screenY-ul.screenY):dc=oc=0,ul=e),oc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),qo=nt(qi),Mg=me({},qi,{dataTransfer:0}),Og=nt(Mg),Rg=me({},ss,{relatedTarget:0}),fc=nt(Rg),Ug=me({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),Lg=nt(Ug),Hg=me({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bg=nt(Hg),qg=me({},an,{data:0}),Go=nt(qg),Gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$g[e])?!!t[e]:!1}function gu(){return Qg}var Vg=me({},ss,{key:function(e){if(e.key){var t=Gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xg=nt(Vg),Kg=me({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=nt(Kg),Zg=me({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Jg=nt(Zg),Fg=me({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=nt(Fg),Ig=me({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pg=nt(Ig),ey=me({},an,{newState:0,oldState:0}),ty=nt(ey),ay=[9,13,27,32],yu=aa&&"CompositionEvent"in window,Cl=null;aa&&"documentMode"in document&&(Cl=document.documentMode);var ny=aa&&"TextEvent"in window&&!Cl,wh=aa&&(!yu||Cl&&8<Cl&&11>=Cl),$o=" ",Qo=!1;function kh(e,t){switch(e){case"keyup":return ay.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jn=!1;function ly(e,t){switch(e){case"compositionend":return _h(t);case"keypress":return t.which!==32?null:(Qo=!0,$o);case"textInput":return e=t.data,e===$o&&Qo?null:e;default:return null}}function sy(e,t){if(jn)return e==="compositionend"||!yu&&kh(e,t)?(e=Th(),$s=vu=ya=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wh&&t.locale!=="ko"?null:t.data;default:return null}}var iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iy[e.type]:t==="textarea"}function Ah(e,t,a,n){bn?zn?zn.push(n):zn=[n]:bn=n,t=wi(t,"onChange"),0<t.length&&(a=new Bi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var El=null,ql=null;function cy(e){Ep(e,0)}function Gi(e){var t=xl(e);if(bh(t))return e}function Xo(e,t){if(e==="change")return t}var Dh=!1;if(aa){var hc;if(aa){var mc="oninput"in document;if(!mc){var Ko=document.createElement("div");Ko.setAttribute("oninput","return;"),mc=typeof Ko.oninput=="function"}hc=mc}else hc=!1;Dh=hc&&(!document.documentMode||9<document.documentMode)}function Zo(){El&&(El.detachEvent("onpropertychange",zh),ql=El=null)}function zh(e){if(e.propertyName==="value"&&Gi(ql)){var t=[];Ah(t,ql,e,pu(e)),Eh(cy,t)}}function ry(e,t,a){e==="focusin"?(Zo(),El=t,ql=a,El.attachEvent("onpropertychange",zh)):e==="focusout"&&Zo()}function uy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gi(ql)}function oy(e,t){if(e==="click")return Gi(t)}function dy(e,t){if(e==="input"||e==="change")return Gi(t)}function fy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:fy;function Gl(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!lr.call(t,l)||!mt(e[l],t[l]))return!1}return!0}function Jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fo(e,t){var a=Jo(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jo(a)}}function Mh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ui(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ui(e.document)}return t}function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hy=aa&&"documentMode"in document&&11>=document.documentMode,Sn=null,dr=null,Tl=null,fr=!1;function Wo(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fr||Sn==null||Sn!==ui(n)||(n=Sn,"selectionStart"in n&&xu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tl&&Gl(Tl,n)||(Tl=n,n=wi(dr,"onSelect"),0<n.length&&(t=new Bi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Sn)))}function qa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nn={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},pc={},Rh={};aa&&(Rh=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function nn(e){if(pc[e])return pc[e];if(!Nn[e])return e;var t=Nn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Rh)return pc[e]=t[a];return e}var Uh=nn("animationend"),Lh=nn("animationiteration"),Hh=nn("animationstart"),my=nn("transitionrun"),py=nn("transitionstart"),vy=nn("transitioncancel"),Bh=nn("transitionend"),qh=new Map,hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hr.push("scrollEnd");function Rt(e,t){qh.set(e,t),tn(t,[e])}var oi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},yt=[],Cn=0,bu=0;function Yi(){for(var e=Cn,t=bu=Cn=0;t<e;){var a=yt[t];yt[t++]=null;var n=yt[t];yt[t++]=null;var l=yt[t];yt[t++]=null;var i=yt[t];if(yt[t++]=null,n!==null&&l!==null){var c=n.pending;c===null?l.next=l:(l.next=c.next,c.next=l),n.pending=l}i!==0&&Gh(a,l,i)}}function $i(e,t,a,n){yt[Cn++]=e,yt[Cn++]=t,yt[Cn++]=a,yt[Cn++]=n,bu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function ju(e,t,a,n){return $i(e,t,a,n),di(e)}function ln(e,t){return $i(e,null,null,t),di(e)}function Gh(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-ft(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function di(e){if(50<Rl)throw Rl=0,Or=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var En={};function gy(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,a,n){return new gy(e,t,a,n)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function It(e,t){var a=e.alternate;return a===null?(a=ct(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vs(e,t,a,n,l,i){var c=0;if(n=e,typeof e=="function")Su(e)&&(c=1);else if(typeof e=="string")c=Sx(e,a,Bt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case er:return e=ct(31,a,t,l),e.elementType=er,e.lanes=i,e;case gn:return Xa(a.children,l,i,t);case ch:c=8,l|=24;break;case Wc:return e=ct(12,a,t,l|2),e.elementType=Wc,e.lanes=i,e;case Ic:return e=ct(13,a,t,l),e.elementType=Ic,e.lanes=i,e;case Pc:return e=ct(19,a,t,l),e.elementType=Pc,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jt:c=10;break e;case rh:c=9;break e;case ru:c=11;break e;case uu:c=14;break e;case da:c=16,n=null;break e}c=29,a=Error(D(130,e===null?"null":typeof e,"")),n=null}return t=ct(c,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Xa(e,t,a,n){return e=ct(7,e,n,t),e.lanes=a,e}function vc(e,t,a){return e=ct(6,e,null,t),e.lanes=a,e}function $h(e){var t=ct(18,null,null,0);return t.stateNode=e,t}function gc(e,t,a){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Io=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var a=Io.get(e);return a!==void 0?a:(t={value:e,source:t,stack:zo(t)},Io.set(e,t),t)}return{value:e,source:t,stack:zo(t)}}var Tn=[],wn=0,fi=null,Yl=0,bt=[],jt=0,za=null,Ut=1,Lt="";function Kt(e,t){Tn[wn++]=Yl,Tn[wn++]=fi,fi=e,Yl=t}function Qh(e,t,a){bt[jt++]=Ut,bt[jt++]=Lt,bt[jt++]=za,za=e;var n=Ut;e=Lt;var l=32-ft(n)-1;n&=~(1<<l),a+=1;var i=32-ft(t)+l;if(30<i){var c=l-l%5;i=(n&(1<<c)-1).toString(32),n>>=c,l-=c,Ut=1<<32-ft(t)+l|a<<l|n,Lt=i+e}else Ut=1<<i|a<<l|n,Lt=e}function Nu(e){e.return!==null&&(Kt(e,1),Qh(e,1,0))}function Cu(e){for(;e===fi;)fi=Tn[--wn],Tn[wn]=null,Yl=Tn[--wn],Tn[wn]=null;for(;e===za;)za=bt[--jt],bt[jt]=null,Lt=bt[--jt],bt[jt]=null,Ut=bt[--jt],bt[jt]=null}function Vh(e,t){bt[jt++]=Ut,bt[jt++]=Lt,bt[jt++]=za,Ut=t.id,Lt=t.overflow,za=e}var Qe=null,fe=null,I=!1,Na=null,Ct=!1,mr=Error(D(519));function Ma(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Nt(t,e)),mr}function Po(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[$e]=e,t[at]=n,a){case"dialog":J("cancel",t),J("close",t);break;case"iframe":case"object":case"embed":J("load",t);break;case"video":case"audio":for(a=0;a<Kl.length;a++)J(Kl[a],t);break;case"source":J("error",t);break;case"img":case"image":case"link":J("error",t),J("load",t);break;case"details":J("toggle",t);break;case"input":J("invalid",t),jh(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":J("invalid",t);break;case"textarea":J("invalid",t),Nh(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||wp(t.textContent,a)?(n.popover!=null&&(J("beforetoggle",t),J("toggle",t)),n.onScroll!=null&&J("scroll",t),n.onScrollEnd!=null&&J("scrollend",t),n.onClick!=null&&(t.onclick=Ft),t=!0):t=!1,t||Ma(e,!0)}function ed(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Ct=!1;return;case 27:case 3:Ct=!0;return;default:Qe=Qe.return}}function on(e){if(e!==Qe)return!1;if(!I)return ed(e),I=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Br(e.type,e.memoizedProps)),a=!a),a&&fe&&Ma(e),ed(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));fe=qd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));fe=qd(e)}else t===27?(t=fe,Ha(e.type)?(e=$r,$r=null,fe=e):fe=t):fe=Qe?Tt(e.stateNode.nextSibling):null;return!0}function Fa(){fe=Qe=null,I=!1}function yc(){var e=Na;return e!==null&&(et===null?et=e:et.push.apply(et,e),Na=null),e}function $l(e){Na===null?Na=[e]:Na.push(e)}var pr=qt(null),sn=null,Wt=null;function ha(e,t,a){oe(pr,t._currentValue),t._currentValue=a}function Pt(e){e._currentValue=pr.current,He(pr)}function vr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function gr(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var c=l.child;i=i.firstContext;e:for(;i!==null;){var r=i;i=l;for(var o=0;o<t.length;o++)if(r.context===t[o]){i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),vr(i.return,a,e),n||(c=null);break e}i=r.next}}else if(l.tag===18){if(c=l.return,c===null)throw Error(D(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),vr(c,a,e),c=null}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===e){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}}function Wn(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if(l.flags&524288)i=!0;else if(l.flags&262144)break}if(l.tag===10){var c=l.alternate;if(c===null)throw Error(D(387));if(c=c.memoizedProps,c!==null){var r=l.type;mt(l.pendingProps.value,c.value)||(e!==null?e.push(r):e=[r])}}else if(l===si.current){if(c=l.alternate,c===null)throw Error(D(387));c.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}l=l.return}e!==null&&gr(t,e,a,n),t.flags|=262144}function hi(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wa(e){sn=e,Wt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ve(e){return Xh(sn,e)}function Es(e,t){return sn===null&&Wa(e),Xh(e,t)}function Xh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Wt===null){if(e===null)throw Error(D(308));Wt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wt=Wt.next=t;return a}var yy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},xy=Oe.unstable_scheduleCallback,by=Oe.unstable_NormalPriority,ke={$$typeof:Jt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new yy,data:new Map,refCount:0}}function is(e){e.refCount--,e.refCount===0&&xy(by,function(){e.controller.abort()})}var wl=null,yr=0,qn=0,Mn=null;function jy(e,t){if(wl===null){var a=wl=[];yr=0,qn=Fu(),Mn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return yr++,t.then(td,td),t}function td(){if(--yr===0&&wl!==null){Mn!==null&&(Mn.status="fulfilled");var e=wl;wl=null,qn=0,Mn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Sy(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var ad=$.S;$.S=function(e,t){ip=ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&jy(e,t),ad!==null&&ad(e,t)};var Ka=qt(null);function Tu(){var e=Ka.current;return e!==null?e:ue.pooledCache}function Xs(e,t){t===null?oe(Ka,Ka.current):oe(Ka,t.pool)}function Kh(){var e=Tu();return e===null?null:{parent:ke._currentValue,pool:e}}var In=Error(D(460)),wu=Error(D(474)),Qi=Error(D(542)),mi={then:function(){}};function nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ft,Ft),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sd(e),e;default:if(typeof t.status=="string")t.then(Ft,Ft);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sd(e),e}throw Za=t,In}}function $a(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Za=a,In):a}}var Za=null;function ld(){if(Za===null)throw Error(D(459));var e=Za;return Za=null,e}function sd(e){if(e===In||e===Qi)throw Error(D(483))}var On=null,Ql=0;function Ts(e){var t=Ql;return Ql+=1,On===null&&(On=[]),Zh(On,e,t)}function ol(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ws(e,t){throw t.$$typeof===rg?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jh(e){function t(v,d){if(e){var y=v.deletions;y===null?(v.deletions=[d],v.flags|=16):y.push(d)}}function a(v,d){if(!e)return null;for(;d!==null;)t(v,d),d=d.sibling;return null}function n(v){for(var d=new Map;v!==null;)v.key!==null?d.set(v.key,v):d.set(v.index,v),v=v.sibling;return d}function l(v,d){return v=It(v,d),v.index=0,v.sibling=null,v}function i(v,d,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<d?(v.flags|=67108866,d):y):(v.flags|=67108866,d)):(v.flags|=1048576,d)}function c(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function r(v,d,y,S){return d===null||d.tag!==6?(d=vc(y,v.mode,S),d.return=v,d):(d=l(d,y),d.return=v,d)}function o(v,d,y,S){var x=y.type;return x===gn?p(v,d,y.props.children,S,y.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===da&&$a(x)===d.type)?(d=l(d,y.props),ol(d,y),d.return=v,d):(d=Vs(y.type,y.key,y.props,null,v.mode,S),ol(d,y),d.return=v,d)}function f(v,d,y,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=gc(y,v.mode,S),d.return=v,d):(d=l(d,y.children||[]),d.return=v,d)}function p(v,d,y,S,x){return d===null||d.tag!==7?(d=Xa(y,v.mode,S,x),d.return=v,d):(d=l(d,y),d.return=v,d)}function h(v,d,y){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=vc(""+d,v.mode,y),d.return=v,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case xs:return y=Vs(d.type,d.key,d.props,null,v.mode,y),ol(y,d),y.return=v,y;case gl:return d=gc(d,v.mode,y),d.return=v,d;case da:return d=$a(d),h(v,d,y)}if(yl(d)||cl(d))return d=Xa(d,v.mode,y,null),d.return=v,d;if(typeof d.then=="function")return h(v,Ts(d),y);if(d.$$typeof===Jt)return h(v,Es(v,d),y);ws(v,d)}return null}function m(v,d,y,S){var x=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return x!==null?null:r(v,d,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xs:return y.key===x?o(v,d,y,S):null;case gl:return y.key===x?f(v,d,y,S):null;case da:return y=$a(y),m(v,d,y,S)}if(yl(y)||cl(y))return x!==null?null:p(v,d,y,S,null);if(typeof y.then=="function")return m(v,d,Ts(y),S);if(y.$$typeof===Jt)return m(v,d,Es(v,y),S);ws(v,y)}return null}function g(v,d,y,S,x){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return v=v.get(y)||null,r(d,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xs:return v=v.get(S.key===null?y:S.key)||null,o(d,v,S,x);case gl:return v=v.get(S.key===null?y:S.key)||null,f(d,v,S,x);case da:return S=$a(S),g(v,d,y,S,x)}if(yl(S)||cl(S))return v=v.get(y)||null,p(d,v,S,x,null);if(typeof S.then=="function")return g(v,d,y,Ts(S),x);if(S.$$typeof===Jt)return g(v,d,y,Es(d,S),x);ws(d,S)}return null}function b(v,d,y,S){for(var x=null,E=null,k=d,A=d=0,z=null;k!==null&&A<y.length;A++){k.index>A?(z=k,k=null):z=k.sibling;var C=m(v,k,y[A],S);if(C===null){k===null&&(k=z);break}e&&k&&C.alternate===null&&t(v,k),d=i(C,d,A),E===null?x=C:E.sibling=C,E=C,k=z}if(A===y.length)return a(v,k),I&&Kt(v,A),x;if(k===null){for(;A<y.length;A++)k=h(v,y[A],S),k!==null&&(d=i(k,d,A),E===null?x=k:E.sibling=k,E=k);return I&&Kt(v,A),x}for(k=n(k);A<y.length;A++)z=g(k,v,A,y[A],S),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?A:z.key),d=i(z,d,A),E===null?x=z:E.sibling=z,E=z);return e&&k.forEach(function(M){return t(v,M)}),I&&Kt(v,A),x}function j(v,d,y,S){if(y==null)throw Error(D(151));for(var x=null,E=null,k=d,A=d=0,z=null,C=y.next();k!==null&&!C.done;A++,C=y.next()){k.index>A?(z=k,k=null):z=k.sibling;var M=m(v,k,C.value,S);if(M===null){k===null&&(k=z);break}e&&k&&M.alternate===null&&t(v,k),d=i(M,d,A),E===null?x=M:E.sibling=M,E=M,k=z}if(C.done)return a(v,k),I&&Kt(v,A),x;if(k===null){for(;!C.done;A++,C=y.next())C=h(v,C.value,S),C!==null&&(d=i(C,d,A),E===null?x=C:E.sibling=C,E=C);return I&&Kt(v,A),x}for(k=n(k);!C.done;A++,C=y.next())C=g(k,v,A,C.value,S),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?A:C.key),d=i(C,d,A),E===null?x=C:E.sibling=C,E=C);return e&&k.forEach(function(Y){return t(v,Y)}),I&&Kt(v,A),x}function N(v,d,y,S){if(typeof y=="object"&&y!==null&&y.type===gn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xs:e:{for(var x=y.key;d!==null;){if(d.key===x){if(x=y.type,x===gn){if(d.tag===7){a(v,d.sibling),S=l(d,y.props.children),S.return=v,v=S;break e}}else if(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===da&&$a(x)===d.type){a(v,d.sibling),S=l(d,y.props),ol(S,y),S.return=v,v=S;break e}a(v,d);break}else t(v,d);d=d.sibling}y.type===gn?(S=Xa(y.props.children,v.mode,S,y.key),S.return=v,v=S):(S=Vs(y.type,y.key,y.props,null,v.mode,S),ol(S,y),S.return=v,v=S)}return c(v);case gl:e:{for(x=y.key;d!==null;){if(d.key===x)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){a(v,d.sibling),S=l(d,y.children||[]),S.return=v,v=S;break e}else{a(v,d);break}else t(v,d);d=d.sibling}S=gc(y,v.mode,S),S.return=v,v=S}return c(v);case da:return y=$a(y),N(v,d,y,S)}if(yl(y))return b(v,d,y,S);if(cl(y)){if(x=cl(y),typeof x!="function")throw Error(D(150));return y=x.call(y),j(v,d,y,S)}if(typeof y.then=="function")return N(v,d,Ts(y),S);if(y.$$typeof===Jt)return N(v,d,Es(v,y),S);ws(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,d!==null&&d.tag===6?(a(v,d.sibling),S=l(d,y),S.return=v,v=S):(a(v,d),S=vc(y,v.mode,S),S.return=v,v=S),c(v)):a(v,d)}return function(v,d,y,S){try{Ql=0;var x=N(v,d,y,S);return On=null,x}catch(k){if(k===In||k===Qi)throw k;var E=ct(29,k,null,v.mode);return E.lanes=S,E.return=v,E}finally{}}}var Ia=Jh(!0),Fh=Jh(!1),fa=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=di(e),Gh(e,null,a),t}return $i(e,n,t,a),di(e)}function kl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,mh(e,a)}}function xc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var br=!1;function _l(){if(br){var e=Mn;if(e!==null)throw e}}function Al(e,t,a,n){br=!1;var l=e.updateQueue;fa=!1;var i=l.firstBaseUpdate,c=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var o=r,f=o.next;o.next=null,c===null?i=f:c.next=f,c=o;var p=e.alternate;p!==null&&(p=p.updateQueue,r=p.lastBaseUpdate,r!==c&&(r===null?p.firstBaseUpdate=f:r.next=f,p.lastBaseUpdate=o))}if(i!==null){var h=l.baseState;c=0,p=f=o=null,r=i;do{var m=r.lane&-536870913,g=m!==r.lane;if(g?(W&m)===m:(n&m)===m){m!==0&&m===qn&&(br=!0),p!==null&&(p=p.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var b=e,j=r;m=t;var N=a;switch(j.tag){case 1:if(b=j.payload,typeof b=="function"){h=b.call(N,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=j.payload,m=typeof b=="function"?b.call(N,h,m):b,m==null)break e;h=me({},h,m);break e;case 2:fa=!0}}m=r.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[m]:g.push(m))}else g={lane:m,tag:r.tag,payload:r.payload,callback:r.callback,next:null},p===null?(f=p=g,o=h):p=p.next=g,c|=m;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;g=r,r=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);p===null&&(o=h),l.baseState=o,l.firstBaseUpdate=f,l.lastBaseUpdate=p,i===null&&(l.shared.lanes=0),Ra|=c,e.lanes=c,e.memoizedState=h}}function Wh(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function Ih(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wh(a[e],t)}var Gn=qt(null),pi=qt(0);function id(e,t){e=ia,oe(pi,e),oe(Gn,t),ia=e|t.baseLanes}function jr(){oe(pi,ia),oe(Gn,Gn.current)}function _u(){ia=pi.current,He(Gn),He(pi)}var pt=qt(null),Et=null;function ma(e){var t=e.alternate;oe(je,je.current&1),oe(pt,e),Et===null&&(t===null||Gn.current!==null||t.memoizedState!==null)&&(Et=e)}function Sr(e){oe(je,je.current),oe(pt,e),Et===null&&(Et=e)}function Ph(e){e.tag===22?(oe(je,je.current),oe(pt,e),Et===null&&(Et=e)):pa()}function pa(){oe(je,je.current),oe(pt,pt.current)}function st(e){He(pt),Et===e&&(Et=null),He(je)}var je=qt(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gr(a)||Yr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=0,K=null,se=null,Te=null,gi=!1,Rn=!1,Pa=!1,yi=0,Vl=0,Un=null,Ny=0;function xe(){throw Error(D(321))}function Au(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!mt(e[a],t[a]))return!1;return!0}function Du(e,t,a,n,l,i){return na=i,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Am:Yu,Pa=!1,i=a(n,l),Pa=!1,Rn&&(i=tm(t,a,n,l)),em(e),i}function em(e){$.H=Xl;var t=se!==null&&se.next!==null;if(na=0,Te=se=K=null,gi=!1,Vl=0,Un=null,t)throw Error(D(300));e===null||_e||(e=e.dependencies,e!==null&&hi(e)&&(_e=!0))}function tm(e,t,a,n){K=e;var l=0;do{if(Rn&&(Un=null),Vl=0,Rn=!1,25<=l)throw Error(D(301));if(l+=1,Te=se=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}$.H=Dm,i=t(a,n)}while(Rn);return i}function Cy(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?cs(t):t,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(K.flags|=1024),t}function zu(){var e=yi!==0;return yi=0,e}function Mu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ou(e){if(gi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gi=!1}na=0,Te=se=K=null,Rn=!1,Vl=yi=0,Un=null}function Ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?K.memoizedState=Te=e:Te=Te.next=e,Te}function Se(){if(se===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=Te===null?K.memoizedState:Te.next;if(t!==null)Te=t,se=e;else{if(e===null)throw K.alternate===null?Error(D(467)):Error(D(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Te===null?K.memoizedState=Te=e:Te=Te.next=e}return Te}function Vi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(e){var t=Vl;return Vl+=1,Un===null&&(Un=[]),e=Zh(Un,e,t),t=K,(Te===null?t.memoizedState:Te.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Am:Yu),e}function Xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cs(e);if(e.$$typeof===Jt)return Ve(e)}throw Error(D(438,String(e)))}function Ru(e){var t=null,a=K.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=K.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Vi(),K.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ug;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function Ks(e){var t=Se();return Uu(t,se,e)}function Uu(e,t,a){var n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var c=l.next;l.next=i.next,i.next=c}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var r=c=null,o=null,f=t,p=!1;do{var h=f.lane&-536870913;if(h!==f.lane?(W&h)===h:(na&h)===h){var m=f.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),h===qn&&(p=!0);else if((na&m)===m){f=f.next,m===qn&&(p=!0);continue}else h={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},o===null?(r=o=h,c=i):o=o.next=h,K.lanes|=m,Ra|=m;h=f.action,Pa&&a(i,h),i=f.hasEagerState?f.eagerState:a(i,h)}else m={lane:h,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},o===null?(r=o=m,c=i):o=o.next=m,K.lanes|=h,Ra|=h;f=f.next}while(f!==null&&f!==t);if(o===null?c=i:o.next=r,!mt(i,e.memoizedState)&&(_e=!0,p&&(a=Mn,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=o,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function bc(e){var t=Se(),a=t.queue;if(a===null)throw Error(D(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var c=l=l.next;do i=e(i,c.action),c=c.next;while(c!==l);mt(i,t.memoizedState)||(_e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function am(e,t,a){var n=K,l=Se(),i=I;if(i){if(a===void 0)throw Error(D(407));a=a()}else a=t();var c=!mt((se||l).memoizedState,a);if(c&&(l.memoizedState=a,_e=!0),l=l.queue,Lu(sm.bind(null,n,l,e),[e]),l.getSnapshot!==t||c||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Yn(9,{destroy:void 0},lm.bind(null,n,l,a,t),null),ue===null)throw Error(D(349));i||na&127||nm(n,t,a)}return a}function nm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=K.updateQueue,t===null?(t=Vi(),K.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function lm(e,t,a,n){t.value=a,t.getSnapshot=n,im(t)&&cm(e)}function sm(e,t,a){return a(function(){im(t)&&cm(e)})}function im(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!mt(e,a)}catch{return!0}}function cm(e){var t=ln(e,2);t!==null&&tt(t,e,2)}function Nr(e){var t=Ze();if(typeof e=="function"){var a=e;if(e=a(),Pa){ga(!0);try{a()}finally{ga(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function rm(e,t,a,n){return e.baseState=a,Uu(e,se,typeof n=="function"?n:la)}function Ey(e,t,a,n,l){if(Zi(e))throw Error(D(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};$.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,um(t,i)):(i.next=a.next,t.pending=a.next=i)}}function um(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=$.T,c={};$.T=c;try{var r=a(l,n),o=$.S;o!==null&&o(c,r),cd(e,t,r)}catch(f){Cr(e,t,f)}finally{i!==null&&c.types!==null&&(i.types=c.types),$.T=i}}else try{i=a(l,n),cd(e,t,i)}catch(f){Cr(e,t,f)}}function cd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){rd(e,t,n)},function(n){return Cr(e,t,n)}):rd(e,t,a)}function rd(e,t,a){t.status="fulfilled",t.value=a,om(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,um(e,a)))}function Cr(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,om(t),t=t.next;while(t!==n)}e.action=null}function om(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function dm(e,t){return t}function ud(e,t){if(I){var a=ue.formState;if(a!==null){e:{var n=K;if(I){if(fe){t:{for(var l=fe,i=Ct;l.nodeType!==8;){if(!i){l=null;break t}if(l=Tt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){fe=Tt(l.nextSibling),n=l.data==="F!";break e}}Ma(n)}n=!1}n&&(t=a[0])}}return a=Ze(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:t},a.queue=n,a=wm.bind(null,K,n),n.dispatch=a,n=Nr(!1),i=Gu.bind(null,K,!1,n.queue),n=Ze(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=Ey.bind(null,K,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function od(e){var t=Se();return fm(t,se,e)}function fm(e,t,a){if(t=Uu(e,t,dm)[0],e=Ks(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=cs(t)}catch(c){throw c===In?Qi:c}else n=t;t=Se();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(K.flags|=2048,Yn(9,{destroy:void 0},Ty.bind(null,l,a),null)),[n,i,e]}function Ty(e,t){e.action=t}function dd(e){var t=Se(),a=se;if(a!==null)return fm(t,a,e);Se(),t=t.memoizedState,a=Se();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Yn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=K.updateQueue,t===null&&(t=Vi(),K.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function hm(){return Se().memoizedState}function Zs(e,t,a,n){var l=Ze();K.flags|=e,l.memoizedState=Yn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ki(e,t,a,n){var l=Se();n=n===void 0?null:n;var i=l.memoizedState.inst;se!==null&&n!==null&&Au(n,se.memoizedState.deps)?l.memoizedState=Yn(t,i,a,n):(K.flags|=e,l.memoizedState=Yn(1|t,i,a,n))}function fd(e,t){Zs(8390656,8,e,t)}function Lu(e,t){Ki(2048,8,e,t)}function wy(e){K.flags|=4;var t=K.updateQueue;if(t===null)t=Vi(),K.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function mm(e){var t=Se().memoizedState;return wy({ref:t,nextImpl:e}),function(){if(ee&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function pm(e,t){return Ki(4,2,e,t)}function vm(e,t){return Ki(4,4,e,t)}function gm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,a){a=a!=null?a.concat([e]):null,Ki(4,4,gm.bind(null,t,e),a)}function Hu(){}function xm(e,t){var a=Se();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Au(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function bm(e,t){var a=Se();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Au(t,n[1]))return n[0];if(n=e(),Pa){ga(!0);try{e()}finally{ga(!1)}}return a.memoizedState=[n,t],n}function Bu(e,t,a){return a===void 0||na&1073741824&&!(W&261930)?e.memoizedState=t:(e.memoizedState=a,e=rp(),K.lanes|=e,Ra|=e,a)}function jm(e,t,a,n){return mt(a,t)?a:Gn.current!==null?(e=Bu(e,a,n),mt(e,t)||(_e=!0),e):!(na&42)||na&1073741824&&!(W&261930)?(_e=!0,e.memoizedState=a):(e=rp(),K.lanes|=e,Ra|=e,t)}function Sm(e,t,a,n,l){var i=te.p;te.p=i!==0&&8>i?i:8;var c=$.T,r={};$.T=r,Gu(e,!1,t,a);try{var o=l(),f=$.S;if(f!==null&&f(r,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var p=Sy(o,n);Dl(e,t,p,ht(e))}else Dl(e,t,n,ht(e))}catch(h){Dl(e,t,{then:function(){},status:"rejected",reason:h},ht())}finally{te.p=i,c!==null&&r.types!==null&&(c.types=r.types),$.T=c}}function ky(){}function Er(e,t,a,n){if(e.tag!==5)throw Error(D(476));var l=Nm(e).queue;Sm(e,l,t,Va,a===null?ky:function(){return Cm(e),a(n)})}function Nm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Va,baseState:Va,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:Va},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cm(e){var t=Nm(e);t.next===null&&(t=e.alternate.memoizedState),Dl(e,t.next.queue,{},ht())}function qu(){return Ve(Jl)}function Em(){return Se().memoizedState}function Tm(){return Se().memoizedState}function _y(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ht();e=Ca(a);var n=Ea(t,e,a);n!==null&&(tt(n,t,a),kl(n,t,a)),t={cache:Eu()},e.payload=t;return}t=t.return}}function Ay(e,t,a){var n=ht();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zi(e)?km(t,a):(a=ju(e,t,a,n),a!==null&&(tt(a,e,n),_m(a,t,n)))}function wm(e,t,a){var n=ht();Dl(e,t,a,n)}function Dl(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zi(e))km(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,r=i(c,a);if(l.hasEagerState=!0,l.eagerState=r,mt(r,c))return $i(e,t,l,0),ue===null&&Yi(),!1}catch{}finally{}if(a=ju(e,t,l,n),a!==null)return tt(a,e,n),_m(a,t,n),!0}return!1}function Gu(e,t,a,n){if(n={lane:2,revertLane:Fu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zi(e)){if(t)throw Error(D(479))}else t=ju(e,a,n,2),t!==null&&tt(t,e,2)}function Zi(e){var t=e.alternate;return e===K||t!==null&&t===K}function km(e,t){Rn=gi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function _m(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,mh(e,a)}}var Xl={readContext:Ve,use:Xi,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Xl.useEffectEvent=xe;var Am={readContext:Ve,use:Xi,useCallback:function(e,t){return Ze().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:fd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Zs(4194308,4,gm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){Zs(4,2,e,t)},useMemo:function(e,t){var a=Ze();t=t===void 0?null:t;var n=e();if(Pa){ga(!0);try{e()}finally{ga(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ze();if(a!==void 0){var l=a(t);if(Pa){ga(!0);try{a(t)}finally{ga(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=Ay.bind(null,K,e),[n.memoizedState,e]},useRef:function(e){var t=Ze();return e={current:e},t.memoizedState=e},useState:function(e){e=Nr(e);var t=e.queue,a=wm.bind(null,K,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Hu,useDeferredValue:function(e,t){var a=Ze();return Bu(a,e,t)},useTransition:function(){var e=Nr(!1);return e=Sm.bind(null,K,e.queue,!0,!1),Ze().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=K,l=Ze();if(I){if(a===void 0)throw Error(D(407));a=a()}else{if(a=t(),ue===null)throw Error(D(349));W&127||nm(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,fd(sm.bind(null,n,i,e),[e]),n.flags|=2048,Yn(9,{destroy:void 0},lm.bind(null,n,i,a,t),null),a},useId:function(){var e=Ze(),t=ue.identifierPrefix;if(I){var a=Lt,n=Ut;a=(n&~(1<<32-ft(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=yi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ny++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qu,useFormState:ud,useActionState:ud,useOptimistic:function(e){var t=Ze();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Gu.bind(null,K,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ru,useCacheRefresh:function(){return Ze().memoizedState=_y.bind(null,K)},useEffectEvent:function(e){var t=Ze(),a={impl:e};return t.memoizedState=a,function(){if(ee&2)throw Error(D(440));return a.impl.apply(void 0,arguments)}}},Yu={readContext:Ve,use:Xi,useCallback:xm,useContext:Ve,useEffect:Lu,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:vm,useMemo:bm,useReducer:Ks,useRef:hm,useState:function(){return Ks(la)},useDebugValue:Hu,useDeferredValue:function(e,t){var a=Se();return jm(a,se.memoizedState,e,t)},useTransition:function(){var e=Ks(la)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:am,useId:Em,useHostTransitionStatus:qu,useFormState:od,useActionState:od,useOptimistic:function(e,t){var a=Se();return rm(a,se,e,t)},useMemoCache:Ru,useCacheRefresh:Tm};Yu.useEffectEvent=mm;var Dm={readContext:Ve,use:Xi,useCallback:xm,useContext:Ve,useEffect:Lu,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:vm,useMemo:bm,useReducer:bc,useRef:hm,useState:function(){return bc(la)},useDebugValue:Hu,useDeferredValue:function(e,t){var a=Se();return se===null?Bu(a,e,t):jm(a,se.memoizedState,e,t)},useTransition:function(){var e=bc(la)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:am,useId:Em,useHostTransitionStatus:qu,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var a=Se();return se!==null?rm(a,se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Tm};Dm.useEffectEvent=mm;function jc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:me({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Tr={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ht(),l=Ca(n);l.payload=t,a!=null&&(l.callback=a),t=Ea(e,l,n),t!==null&&(tt(t,e,n),kl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ht(),l=Ca(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Ea(e,l,n),t!==null&&(tt(t,e,n),kl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ht(),n=Ca(a);n.tag=2,t!=null&&(n.callback=t),t=Ea(e,n,a),t!==null&&(tt(t,e,a),kl(t,e,a))}};function hd(e,t,a,n,l,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,c):t.prototype&&t.prototype.isPureReactComponent?!Gl(a,n)||!Gl(l,i):!0}function md(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Tr.enqueueReplaceState(t,t.state,null)}function en(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=me({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function zm(e){oi(e)}function Mm(e){console.error(e)}function Om(e){oi(e)}function xi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function pd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function wr(e,t,a){return a=Ca(a),a.tag=3,a.payload={element:null},a.callback=function(){xi(e,t)},a}function Rm(e){return e=Ca(e),e.tag=3,e}function Um(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){pd(t,a,n)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){pd(t,a,n),typeof l!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function Dy(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Wn(t,a,l,!0),a=pt.current,a!==null){switch(a.tag){case 31:case 13:return Et===null?Ci():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===mi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),zc(e,n,l)),!1;case 22:return a.flags|=65536,n===mi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),zc(e,n,l)),!1}throw Error(D(435,a.tag))}return zc(e,n,l),Ci(),!1}if(I)return t=pt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==mr&&(e=Error(D(422),{cause:n}),$l(Nt(e,a)))):(n!==mr&&(t=Error(D(423),{cause:n}),$l(Nt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=Nt(n,a),l=wr(e.stateNode,n,l),xc(e,l),be!==4&&(be=2)),!1;var i=Error(D(520),{cause:n});if(i=Nt(i,a),Ol===null?Ol=[i]:Ol.push(i),be!==4&&(be=2),t===null)return!0;n=Nt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=wr(a.stateNode,n,e),xc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ta===null||!Ta.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Rm(l),Um(l,e,a,n),xc(a,l),!1}a=a.return}while(a!==null);return!1}var $u=Error(D(461)),_e=!1;function Ge(e,t,a,n){t.child=e===null?Fh(t,null,a,n):Ia(t,e.child,a,n)}function vd(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var c={};for(var r in n)r!=="ref"&&(c[r]=n[r])}else c=n;return Wa(t),n=Du(e,t,a,c,i,l),r=zu(),e!==null&&!_e?(Mu(e,t,l),sa(e,t,l)):(I&&r&&Nu(t),t.flags|=1,Ge(e,t,n,l),t.child)}function gd(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!Su(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Lm(e,t,i,n,l)):(e=Vs(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Qu(e,l)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(c,n)&&e.ref===t.ref)return sa(e,t,l)}return t.flags|=1,e=It(i,n),e.ref=t.ref,e.return=t,t.child=e}function Lm(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(Gl(i,n)&&e.ref===t.ref)if(_e=!1,t.pendingProps=n=i,Qu(e,l))e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,sa(e,t,l)}return kr(e,t,a,n,l)}function Hm(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return yd(e,t,i,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xs(t,i!==null?i.cachePool:null),i!==null?id(t,i):jr(),Ph(t);else return n=t.lanes=536870912,yd(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Xs(t,i.cachePool),id(t,i),pa(),t.memoizedState=null):(e!==null&&Xs(t,null),jr(),pa());return Ge(e,t,l,a),t.child}function bl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yd(e,t,a,n,l){var i=Tu();return i=i===null?null:{parent:ke._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Xs(t,null),jr(),Ph(t),e!==null&&Wn(e,t,n,!0),t.childLanes=l,null}function Js(e,t){return t=bi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xd(e,t,a){return Ia(t,e.child,null,a),e=Js(t,t.pendingProps),e.flags|=2,st(t),t.memoizedState=null,e}function zy(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(I){if(n.mode==="hidden")return e=Js(t,n),t.lanes=536870912,bl(null,e);if(Sr(t),(e=fe)?(e=Ap(e,Ct),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:Ut,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},a=$h(e),a.return=t,t.child=a,Qe=t,fe=null)):e=null,e===null)throw Ma(t);return t.lanes=536870912,null}return Js(t,n)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(Sr(t),l)if(t.flags&256)t.flags&=-257,t=xd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(_e||Wn(e,t,a,!1),l=(a&e.childLanes)!==0,_e||l){if(n=ue,n!==null&&(c=ph(n,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,ln(e,c),tt(n,e,c),$u;Ci(),t=xd(e,t,a)}else e=i.treeContext,fe=Tt(c.nextSibling),Qe=t,I=!0,Na=null,Ct=!1,e!==null&&Vh(t,e),t=Js(t,n),t.flags|=4096;return t}return e=It(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Fs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(D(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function kr(e,t,a,n,l){return Wa(t),a=Du(e,t,a,n,void 0,l),n=zu(),e!==null&&!_e?(Mu(e,t,l),sa(e,t,l)):(I&&n&&Nu(t),t.flags|=1,Ge(e,t,a,l),t.child)}function bd(e,t,a,n,l,i){return Wa(t),t.updateQueue=null,a=tm(t,n,a,l),em(e),n=zu(),e!==null&&!_e?(Mu(e,t,i),sa(e,t,i)):(I&&n&&Nu(t),t.flags|=1,Ge(e,t,a,i),t.child)}function jd(e,t,a,n,l){if(Wa(t),t.stateNode===null){var i=En,c=a.contextType;typeof c=="object"&&c!==null&&(i=Ve(c)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Tr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},ku(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?Ve(c):En,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(jc(t,a,c,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&Tr.enqueueReplaceState(i,i.state,null),Al(t,n,i,l),_l(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var r=t.memoizedProps,o=en(a,r);i.props=o;var f=i.context,p=a.contextType;c=En,typeof p=="object"&&p!==null&&(c=Ve(p));var h=a.getDerivedStateFromProps;p=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||f!==c)&&md(t,i,n,c),fa=!1;var m=t.memoizedState;i.state=m,Al(t,n,i,l),_l(),f=t.memoizedState,r||m!==f||fa?(typeof h=="function"&&(jc(t,a,h,n),f=t.memoizedState),(o=fa||hd(t,a,o,n,m,f,c))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,xr(e,t),c=t.memoizedProps,p=en(a,c),i.props=p,h=t.pendingProps,m=i.context,f=a.contextType,o=En,typeof f=="object"&&f!==null&&(o=Ve(f)),r=a.getDerivedStateFromProps,(f=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||m!==o)&&md(t,i,n,o),fa=!1,m=t.memoizedState,i.state=m,Al(t,n,i,l),_l();var g=t.memoizedState;c!==h||m!==g||fa||e!==null&&e.dependencies!==null&&hi(e.dependencies)?(typeof r=="function"&&(jc(t,a,r,n),g=t.memoizedState),(p=fa||hd(t,a,p,n,m,g,o)||e!==null&&e.dependencies!==null&&hi(e.dependencies))?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=o,n=p):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Fs(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Ia(t,e.child,null,l),t.child=Ia(t,null,a,l)):Ge(e,t,a,l),t.memoizedState=i.state,e=t.child):e=sa(e,t,l),e}function Sd(e,t,a,n){return Fa(),t.flags|=256,Ge(e,t,a,n),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:Kh()}}function Cc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=rt),e}function Bm(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),c&&(l=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(I){if(l?ma(t):pa(),(e=fe)?(e=Ap(e,Ct),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:Ut,overflow:Lt}:null,retryLane:536870912,hydrationErrors:null},a=$h(e),a.return=t,t.child=a,Qe=t,fe=null)):e=null,e===null)throw Ma(t);return Yr(e)?t.lanes=32:t.lanes=536870912,null}var r=n.children;return n=n.fallback,l?(pa(),l=t.mode,r=bi({mode:"hidden",children:r},l),n=Xa(n,l,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n=t.child,n.memoizedState=Nc(a),n.childLanes=Cc(e,c,a),t.memoizedState=Sc,bl(null,n)):(ma(t),_r(t,r))}var o=e.memoizedState;if(o!==null&&(r=o.dehydrated,r!==null)){if(i)t.flags&256?(ma(t),t.flags&=-257,t=Ec(e,t,a)):t.memoizedState!==null?(pa(),t.child=e.child,t.flags|=128,t=null):(pa(),r=n.fallback,l=t.mode,n=bi({mode:"visible",children:n.children},l),r=Xa(r,l,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Ia(t,e.child,null,a),n=t.child,n.memoizedState=Nc(a),n.childLanes=Cc(e,c,a),t.memoizedState=Sc,t=bl(null,n));else if(ma(t),Yr(r)){if(c=r.nextSibling&&r.nextSibling.dataset,c)var f=c.dgst;c=f,n=Error(D(419)),n.stack="",n.digest=c,$l({value:n,source:null,stack:null}),t=Ec(e,t,a)}else if(_e||Wn(e,t,a,!1),c=(a&e.childLanes)!==0,_e||c){if(c=ue,c!==null&&(n=ph(c,a),n!==0&&n!==o.retryLane))throw o.retryLane=n,ln(e,n),tt(c,e,n),$u;Gr(r)||Ci(),t=Ec(e,t,a)}else Gr(r)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,fe=Tt(r.nextSibling),Qe=t,I=!0,Na=null,Ct=!1,e!==null&&Vh(t,e),t=_r(t,n.children),t.flags|=4096);return t}return l?(pa(),r=n.fallback,l=t.mode,o=e.child,f=o.sibling,n=It(o,{mode:"hidden",children:n.children}),n.subtreeFlags=o.subtreeFlags&65011712,f!==null?r=It(f,r):(r=Xa(r,l,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,bl(null,n),n=t.child,r=e.child.memoizedState,r===null?r=Nc(a):(l=r.cachePool,l!==null?(o=ke._currentValue,l=l.parent!==o?{parent:o,pool:o}:l):l=Kh(),r={baseLanes:r.baseLanes|a,cachePool:l}),n.memoizedState=r,n.childLanes=Cc(e,c,a),t.memoizedState=Sc,bl(e.child,n)):(ma(t),a=e.child,e=a.sibling,a=It(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function _r(e,t){return t=bi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bi(e,t){return e=ct(22,e,null,t),e.lanes=0,e}function Ec(e,t,a){return Ia(t,e.child,null,a),e=_r(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vr(e.return,t,a)}function Tc(e,t,a,n,l,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=l,c.treeForkCount=i)}function qm(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var c=je.current,r=(c&2)!==0;if(r?(c=c&1|2,t.flags|=128):c&=1,oe(je,c),Ge(e,t,n,a),n=I?Yl:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,a,t);else if(e.tag===19)Nd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&vi(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Tc(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&vi(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Tc(t,!0,a,null,i,n);break;case"together":Tc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,!(a&t.childLanes))if(e!==null){if(Wn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,a=It(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=It(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Qu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&hi(e)))}function My(e,t,a){switch(t.tag){case 3:ii(t,t.stateNode.containerInfo),ha(t,ke,e.memoizedState.cache),Fa();break;case 27:case 5:nr(t);break;case 4:ii(t,t.stateNode.containerInfo);break;case 10:ha(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Sr(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ma(t),t.flags|=128,null):a&t.child.childLanes?Bm(e,t,a):(ma(t),e=sa(e,t,a),e!==null?e.sibling:null);ma(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Wn(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return qm(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),oe(je,je.current),n)break;return null;case 22:return t.lanes=0,Hm(e,t,a,t.pendingProps);case 24:ha(t,ke,e.memoizedState.cache)}return sa(e,t,a)}function Gm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)_e=!0;else{if(!Qu(e,a)&&!(t.flags&128))return _e=!1,My(e,t,a);_e=!!(e.flags&131072)}else _e=!1,I&&t.flags&1048576&&Qh(t,Yl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=$a(t.elementType),t.type=e,typeof e=="function")Su(e)?(n=en(e,n),t.tag=1,t=jd(null,t,e,n,a)):(t.tag=0,t=kr(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===ru){t.tag=11,t=vd(null,t,e,n,a);break e}else if(l===uu){t.tag=14,t=gd(null,t,e,n,a);break e}}throw t=tr(e)||e,Error(D(306,t,""))}}return t;case 0:return kr(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=en(n,t.pendingProps),jd(e,t,n,l,a);case 3:e:{if(ii(t,t.stateNode.containerInfo),e===null)throw Error(D(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,xr(e,t),Al(t,n,null,a);var c=t.memoizedState;if(n=c.cache,ha(t,ke,n),n!==i.cache&&gr(t,[ke],a,!0),_l(),n=c.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Sd(e,t,n,a);break e}else if(n!==l){l=Nt(Error(D(424)),t),$l(l),t=Sd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Tt(e.firstChild),Qe=t,I=!0,Na=null,Ct=!0,a=Fh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fa(),n===l){t=sa(e,t,a);break e}Ge(e,t,n,a)}t=t.child}return t;case 26:return Fs(e,t),e===null?(a=$d(t.type,null,t.pendingProps,null))?t.memoizedState=a:I||(a=t.type,e=t.pendingProps,n=ki(Sa.current).createElement(a),n[$e]=t,n[at]=e,Xe(n,a,e),Le(n),t.stateNode=n):t.memoizedState=$d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nr(t),e===null&&I&&(n=t.stateNode=Dp(t.type,t.pendingProps,Sa.current),Qe=t,Ct=!0,l=fe,Ha(t.type)?($r=l,fe=Tt(n.firstChild)):fe=l),Ge(e,t,t.pendingProps.children,a),Fs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&I&&((l=n=fe)&&(n=ux(n,t.type,t.pendingProps,Ct),n!==null?(t.stateNode=n,Qe=t,fe=Tt(n.firstChild),Ct=!1,l=!0):l=!1),l||Ma(t)),nr(t),l=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,n=i.children,Br(l,i)?n=null:c!==null&&Br(l,c)&&(t.flags|=32),t.memoizedState!==null&&(l=Du(e,t,Cy,null,null,a),Jl._currentValue=l),Fs(e,t),Ge(e,t,n,a),t.child;case 6:return e===null&&I&&((e=a=fe)&&(a=ox(a,t.pendingProps,Ct),a!==null?(t.stateNode=a,Qe=t,fe=null,e=!0):e=!1),e||Ma(t)),null;case 13:return Bm(e,t,a);case 4:return ii(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ia(t,null,n,a):Ge(e,t,n,a),t.child;case 11:return vd(e,t,t.type,t.pendingProps,a);case 7:return Ge(e,t,t.pendingProps,a),t.child;case 8:return Ge(e,t,t.pendingProps.children,a),t.child;case 12:return Ge(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ha(t,t.type,n.value),Ge(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Wa(t),l=Ve(l),n=n(l),t.flags|=1,Ge(e,t,n,a),t.child;case 14:return gd(e,t,t.type,t.pendingProps,a);case 15:return Lm(e,t,t.type,t.pendingProps,a);case 19:return qm(e,t,a);case 31:return zy(e,t,a);case 22:return Hm(e,t,a,t.pendingProps);case 24:return Wa(t),n=Ve(ke),e===null?(l=Tu(),l===null&&(l=ue,i=Eu(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},ku(t),ha(t,ke,l)):(e.lanes&a&&(xr(e,t),Al(t,null,null,a),_l()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),ha(t,ke,n)):(n=i.cache,ha(t,ke,n),n!==l.cache&&gr(t,[ke],a,!0))),Ge(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function $t(e){e.flags|=4}function wc(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(dp())e.flags|=8192;else throw Za=mi,wu}else e.flags&=-16777217}function Cd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Op(t))if(dp())e.flags|=8192;else throw Za=mi,wu}function ks(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fh():536870912,e.lanes|=t,$n|=t)}function dl(e,t){if(!I)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Oy(e,t,a){var n=t.pendingProps;switch(Cu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return de(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pt(ke),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(on(t)?$t(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yc())),de(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?($t(t),i!==null?(de(t),Cd(t,i)):(de(t),wc(t,l,null,n,a))):i?i!==e.memoizedState?($t(t),de(t),Cd(t,i)):(de(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&$t(t),de(t),wc(t,l,e,n,a)),null;case 27:if(ci(t),a=Sa.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&$t(t);else{if(!n){if(t.stateNode===null)throw Error(D(166));return de(t),null}e=Bt.current,on(t)?Po(t):(e=Dp(l,n,a),t.stateNode=e,$t(t))}return de(t),null;case 5:if(ci(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&$t(t);else{if(!n){if(t.stateNode===null)throw Error(D(166));return de(t),null}if(i=Bt.current,on(t))Po(t);else{var c=ki(Sa.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?c.createElement("select",{is:n.is}):c.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?c.createElement(l,{is:n.is}):c.createElement(l)}}i[$e]=t,i[at]=n;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(Xe(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&$t(t)}}return de(t),wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&$t(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(e=Sa.current,on(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Qe,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[$e]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||wp(e.nodeValue,a)),e||Ma(t,!0)}else e=ki(e).createTextNode(n),e[$e]=t,t.stateNode=e}return de(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=on(t),a!==null){if(e===null){if(!n)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[$e]=t}else Fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),e=!1}else a=yc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(st(t),t):(st(t),null);if(t.flags&128)throw Error(D(558))}return de(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=on(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[$e]=t}else Fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),l=!1}else l=yc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(st(t),t):(st(t),null)}return st(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ks(t,t.updateQueue),de(t),null);case 4:return Ln(),e===null&&Wu(t.stateNode.containerInfo),de(t),null;case 10:return Pt(t.type),de(t),null;case 19:if(He(je),n=t.memoizedState,n===null)return de(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)dl(n,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=vi(e),i!==null){for(t.flags|=128,dl(n,!1),e=i.updateQueue,t.updateQueue=e,ks(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Yh(a,e),a=a.sibling;return oe(je,je.current&1|2),I&&Kt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ot()>Si&&(t.flags|=128,l=!0,dl(n,!1),t.lanes=4194304)}else{if(!l)if(e=vi(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,ks(t,e),dl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!I)return de(t),null}else 2*ot()-n.renderingStartTime>Si&&a!==536870912&&(t.flags|=128,l=!0,dl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ot(),e.sibling=null,a=je.current,oe(je,l?a&1|2:a&1),I&&Kt(t,n.treeForkCount),e):(de(t),null);case 22:case 23:return st(t),_u(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),a=t.updateQueue,a!==null&&ks(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&He(Ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pt(ke),de(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function Ry(e,t){switch(Cu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pt(ke),Ln(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ci(t),null;case 31:if(t.memoizedState!==null){if(st(t),t.alternate===null)throw Error(D(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(st(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(je),null;case 4:return Ln(),null;case 10:return Pt(t.type),null;case 22:case 23:return st(t),_u(),e!==null&&He(Ka),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pt(ke),null;case 25:return null;default:return null}}function Ym(e,t){switch(Cu(t),t.tag){case 3:Pt(ke),Ln();break;case 26:case 27:case 5:ci(t);break;case 4:Ln();break;case 31:t.memoizedState!==null&&st(t);break;case 13:st(t);break;case 19:He(je);break;case 10:Pt(t.type);break;case 22:case 23:st(t),_u(),e!==null&&He(Ka);break;case 24:Pt(ke)}}function rs(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,c=a.inst;n=i(),c.destroy=n}a=a.next}while(a!==l)}}catch(r){ne(t,t.return,r)}}function Oa(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var c=n.inst,r=c.destroy;if(r!==void 0){c.destroy=void 0,l=t;var o=a,f=r;try{f()}catch(p){ne(l,o,p)}}}n=n.next}while(n!==i)}}catch(p){ne(t,t.return,p)}}function $m(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ih(t,a)}catch(n){ne(e,e.return,n)}}}function Qm(e,t,a){a.props=en(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ne(e,t,n)}}function zl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){ne(e,t,l)}}function Ht(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){ne(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){ne(e,t,l)}else a.current=null}function Vm(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){ne(e,e.return,l)}}function kc(e,t,a){try{var n=e.stateNode;nx(n,e.type,a,t),n[at]=t}catch(l){ne(e,e.return,l)}}function Xm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function _c(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ar(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ft));else if(n!==4&&(n===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ar(e,t,a),e=e.sibling;e!==null;)Ar(e,t,a),e=e.sibling}function ji(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ji(e,t,a),e=e.sibling;e!==null;)ji(e,t,a),e=e.sibling}function Km(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Xe(t,n,a),t[$e]=e,t[at]=a}catch(i){ne(e,e.return,i)}}var Zt=!1,we=!1,Ac=!1,Ed=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Uy(e,t){if(e=e.containerInfo,Lr=zi,e=Oh(e),xu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,r=-1,o=-1,f=0,p=0,h=e,m=null;t:for(;;){for(var g;h!==a||l!==0&&h.nodeType!==3||(r=c+l),h!==i||n!==0&&h.nodeType!==3||(o=c+n),h.nodeType===3&&(c+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===a&&++f===l&&(r=c),m===i&&++p===n&&(o=c),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}a=r===-1||o===-1?null:{start:r,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hr={focusedElem:e,selectionRange:a},zi=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){switch(t=Ue,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var b=en(a.type,l);e=n.getSnapshotBeforeUpdate(b,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(j){ne(a,a.return,j)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)qr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}}function Zm(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Vt(e,a),n&4&&rs(5,a);break;case 1:if(Vt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){ne(a,a.return,c)}else{var l=en(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){ne(a,a.return,c)}}n&64&&$m(a),n&512&&zl(a,a.return);break;case 3:if(Vt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ih(e,t)}catch(c){ne(a,a.return,c)}}break;case 27:t===null&&n&4&&Km(a);case 26:case 5:Vt(e,a),t===null&&n&4&&Vm(a),n&512&&zl(a,a.return);break;case 12:Vt(e,a);break;case 31:Vt(e,a),n&4&&Wm(e,a);break;case 13:Vt(e,a),n&4&&Im(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Vy.bind(null,a),dx(e,a))));break;case 22:if(n=a.memoizedState!==null||Zt,!n){t=t!==null&&t.memoizedState!==null||we,l=Zt;var i=we;Zt=n,(we=t)&&!i?Xt(e,a,(a.subtreeFlags&8772)!==0):Vt(e,a),Zt=l,we=i}break;case 30:break;default:Vt(e,a)}}function Jm(e){var t=e.alternate;t!==null&&(e.alternate=null,Jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,Pe=!1;function Qt(e,t,a){for(a=a.child;a!==null;)Fm(e,t,a),a=a.sibling}function Fm(e,t,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ts,a)}catch{}switch(a.tag){case 26:we||Ht(a,t),Qt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ht(a,t);var n=ve,l=Pe;Ha(a.type)&&(ve=a.stateNode,Pe=!1),Qt(e,t,a),Ul(a.stateNode),ve=n,Pe=l;break;case 5:we||Ht(a,t);case 6:if(n=ve,l=Pe,ve=null,Qt(e,t,a),ve=n,Pe=l,ve!==null)if(Pe)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(i){ne(a,t,i)}else try{ve.removeChild(a.stateNode)}catch(i){ne(a,t,i)}break;case 18:ve!==null&&(Pe?(e=ve,Hd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Kn(e)):Hd(ve,a.stateNode));break;case 4:n=ve,l=Pe,ve=a.stateNode.containerInfo,Pe=!0,Qt(e,t,a),ve=n,Pe=l;break;case 0:case 11:case 14:case 15:Oa(2,a,t),we||Oa(4,a,t),Qt(e,t,a);break;case 1:we||(Ht(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Qm(a,t,n)),Qt(e,t,a);break;case 21:Qt(e,t,a);break;case 22:we=(n=we)||a.memoizedState!==null,Qt(e,t,a),we=n;break;default:Qt(e,t,a)}}function Wm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Kn(e)}catch(a){ne(t,t.return,a)}}}function Im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Kn(e)}catch(a){ne(t,t.return,a)}}function Ly(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ed),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ed),t;default:throw Error(D(435,e.tag))}}function _s(e,t){var a=Ly(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=Xy.bind(null,e,n);n.then(l,l)}})}function We(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,c=t,r=c;e:for(;r!==null;){switch(r.tag){case 27:if(Ha(r.type)){ve=r.stateNode,Pe=!1;break e}break;case 5:ve=r.stateNode,Pe=!1;break e;case 3:case 4:ve=r.stateNode.containerInfo,Pe=!0;break e}r=r.return}if(ve===null)throw Error(D(160));Fm(i,c,l),ve=null,Pe=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Pm(t,e),t=t.sibling}var Ot=null;function Pm(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:We(t,e),Ie(e),n&4&&(Oa(3,e,e.return),rs(3,e),Oa(5,e,e.return));break;case 1:We(t,e),Ie(e),n&512&&(we||a===null||Ht(a,a.return)),n&64&&Zt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Ot;if(We(t,e),Ie(e),n&512&&(we||a===null||Ht(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[ls]||i[$e]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Xe(i,n,a),i[$e]=e,Le(i),n=i;break e;case"link":var c=Vd("link","href",l).get(n+(a.href||""));if(c){for(var r=0;r<c.length;r++)if(i=c[r],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(r,1);break t}}i=l.createElement(n),Xe(i,n,a),l.head.appendChild(i);break;case"meta":if(c=Vd("meta","content",l).get(n+(a.content||""))){for(r=0;r<c.length;r++)if(i=c[r],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(r,1);break t}}i=l.createElement(n),Xe(i,n,a),l.head.appendChild(i);break;default:throw Error(D(468,n))}i[$e]=e,Le(i),n=i}e.stateNode=n}else Xd(l,e.type,e.stateNode);else e.stateNode=Qd(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Xd(l,e.type,e.stateNode):Qd(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&kc(e,e.memoizedProps,a.memoizedProps)}break;case 27:We(t,e),Ie(e),n&512&&(we||a===null||Ht(a,a.return)),a!==null&&n&4&&kc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(We(t,e),Ie(e),n&512&&(we||a===null||Ht(a,a.return)),e.flags&32){l=e.stateNode;try{Bn(l,"")}catch(b){ne(e,e.return,b)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,kc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Ac=!0);break;case 6:if(We(t,e),Ie(e),n&4){if(e.stateNode===null)throw Error(D(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(b){ne(e,e.return,b)}}break;case 3:if(Ps=null,l=Ot,Ot=_i(t.containerInfo),We(t,e),Ot=l,Ie(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(b){ne(e,e.return,b)}Ac&&(Ac=!1,ep(e));break;case 4:n=Ot,Ot=_i(e.stateNode.containerInfo),We(t,e),Ie(e),Ot=n;break;case 12:We(t,e),Ie(e);break;case 31:We(t,e),Ie(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,_s(e,n)));break;case 13:We(t,e),Ie(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ji=ot()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,_s(e,n)));break;case 22:l=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,f=Zt,p=we;if(Zt=f||l,we=p||o,We(t,e),we=p,Zt=f,Ie(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||o||Zt||we||Qa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(i=o.stateNode,l)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{r=o.stateNode;var h=o.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;r.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(b){ne(o,o.return,b)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=l?"":o.memoizedProps}catch(b){ne(o,o.return,b)}}}else if(t.tag===18){if(a===null){o=t;try{var g=o.stateNode;l?Bd(g,!0):Bd(o.stateNode,!1)}catch(b){ne(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,_s(e,a))));break;case 19:We(t,e),Ie(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,_s(e,n)));break;case 30:break;case 21:break;default:We(t,e),Ie(e)}}function Ie(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Xm(n)){a=n;break}n=n.return}if(a==null)throw Error(D(160));switch(a.tag){case 27:var l=a.stateNode,i=_c(e);ji(e,i,l);break;case 5:var c=a.stateNode;a.flags&32&&(Bn(c,""),a.flags&=-33);var r=_c(e);ji(e,r,c);break;case 3:case 4:var o=a.stateNode.containerInfo,f=_c(e);Ar(e,f,o);break;default:throw Error(D(161))}}catch(p){ne(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ep(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ep(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Vt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zm(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Oa(4,t,t.return),Qa(t);break;case 1:Ht(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Qm(t,t.return,a),Qa(t);break;case 27:Ul(t.stateNode);case 26:case 5:Ht(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function Xt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Xt(l,i,a),rs(4,i);break;case 1:if(Xt(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){ne(n,n.return,f)}if(n=i,l=n.updateQueue,l!==null){var r=n.stateNode;try{var o=l.shared.hiddenCallbacks;if(o!==null)for(l.shared.hiddenCallbacks=null,l=0;l<o.length;l++)Wh(o[l],r)}catch(f){ne(n,n.return,f)}}a&&c&64&&$m(i),zl(i,i.return);break;case 27:Km(i);case 26:case 5:Xt(l,i,a),a&&n===null&&c&4&&Vm(i),zl(i,i.return);break;case 12:Xt(l,i,a);break;case 31:Xt(l,i,a),a&&c&4&&Wm(l,i);break;case 13:Xt(l,i,a),a&&c&4&&Im(l,i);break;case 22:i.memoizedState===null&&Xt(l,i,a),zl(i,i.return);break;case 30:break;default:Xt(l,i,a)}t=t.sibling}}function Vu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&is(a))}function Xu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e))}function Mt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tp(e,t,a,n),t=t.sibling}function tp(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Mt(e,t,a,n),l&2048&&rs(9,t);break;case 1:Mt(e,t,a,n);break;case 3:Mt(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e)));break;case 12:if(l&2048){Mt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,r=i.onPostCommit;typeof r=="function"&&r(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ne(t,t.return,o)}}else Mt(e,t,a,n);break;case 31:Mt(e,t,a,n);break;case 13:Mt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?Mt(e,t,a,n):Ml(e,t):i._visibility&2?Mt(e,t,a,n):(i._visibility|=2,hn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Vu(c,t);break;case 24:Mt(e,t,a,n),l&2048&&Xu(t.alternate,t);break;default:Mt(e,t,a,n)}}function hn(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,r=a,o=n,f=c.flags;switch(c.tag){case 0:case 11:case 15:hn(i,c,r,o,l),rs(8,c);break;case 23:break;case 22:var p=c.stateNode;c.memoizedState!==null?p._visibility&2?hn(i,c,r,o,l):Ml(i,c):(p._visibility|=2,hn(i,c,r,o,l)),l&&f&2048&&Vu(c.alternate,c);break;case 24:hn(i,c,r,o,l),l&&f&2048&&Xu(c.alternate,c);break;default:hn(i,c,r,o,l)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:Ml(a,n),l&2048&&Vu(n.alternate,n);break;case 24:Ml(a,n),l&2048&&Xu(n.alternate,n);break;default:Ml(a,n)}t=t.sibling}}var jl=8192;function dn(e,t,a){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)ap(e,t,a),e=e.sibling}function ap(e,t,a){switch(e.tag){case 26:dn(e,t,a),e.flags&jl&&e.memoizedState!==null&&Nx(a,Ot,e.memoizedState,e.memoizedProps);break;case 5:dn(e,t,a);break;case 3:case 4:var n=Ot;Ot=_i(e.stateNode.containerInfo),dn(e,t,a),Ot=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=jl,jl=16777216,dn(e,t,a),jl=n):dn(e,t,a));break;default:dn(e,t,a)}}function np(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ue=n,sp(n,e)}np(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lp(e),e=e.sibling}function lp(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Oa(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ws(e)):fl(e);break;default:fl(e)}}function Ws(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ue=n,sp(n,e)}np(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Oa(8,t,t.return),Ws(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ws(t));break;default:Ws(t)}e=e.sibling}}function sp(e,t){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Oa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:is(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ue=n;else e:for(a=e;Ue!==null;){n=Ue;var l=n.sibling,i=n.return;if(Jm(n),n===a){Ue=null;break e}if(l!==null){l.return=i,Ue=l;break e}Ue=i}}}var Hy={getCacheForType:function(e){var t=Ve(ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ve(ke).controller.signal}},By=typeof WeakMap=="function"?WeakMap:Map,ee=0,ue=null,F=null,W=0,ae=0,lt=null,xa=!1,Pn=!1,Ku=!1,ia=0,be=0,Ra=0,Ja=0,Zu=0,rt=0,$n=0,Ol=null,et=null,Dr=!1,Ji=0,ip=0,Si=1/0,Ni=null,Ta=null,ze=0,wa=null,Qn=null,ea=0,zr=0,Mr=null,cp=null,Rl=0,Or=null;function ht(){return ee&2&&W!==0?W&-W:$.T!==null?Fu():vh()}function rp(){if(rt===0)if(!(W&536870912)||I){var e=js;js<<=1,!(js&3932160)&&(js=262144),rt=e}else rt=536870912;return e=pt.current,e!==null&&(e.flags|=32),rt}function tt(e,t,a){(e===ue&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(Vn(e,0),ba(e,W,rt,!1)),ns(e,a),(!(ee&2)||e!==ue)&&(e===ue&&(!(ee&2)&&(Ja|=a),be===4&&ba(e,W,rt,!1)),Gt(e))}function up(e,t,a){if(ee&6)throw Error(D(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||as(e,t),l=n?Yy(e,t):Dc(e,t,!0),i=n;do{if(l===0){Pn&&!n&&ba(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!qy(a)){l=Dc(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var r=e;l=Ol;var o=r.current.memoizedState.isDehydrated;if(o&&(Vn(r,c).flags|=256),c=Dc(r,c,!1),c!==2){if(Ku&&!o){r.errorRecoveryDisabledLanes|=i,Ja|=i,l=4;break e}i=et,et=l,i!==null&&(et===null?et=i:et.push.apply(et,i))}l=c}if(i=!1,l!==2)continue}}if(l===1){Vn(e,0),ba(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:ba(n,t,rt,!xa);break e;case 2:et=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(l=Ji+300-ot(),10<l)){if(ba(n,t,rt,!xa),Hi(n,0,!0)!==0)break e;ea=t,n.timeoutHandle=_p(Td.bind(null,n,a,et,Ni,Dr,t,rt,Ja,$n,xa,i,"Throttled",-0,0),l);break e}Td(n,a,et,Ni,Dr,t,rt,Ja,$n,xa,i,null,-0,0)}}break}while(!0);Gt(e)}function Td(e,t,a,n,l,i,c,r,o,f,p,h,m,g){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ft},ap(t,i,h);var b=(i&62914560)===i?Ji-ot():(i&4194048)===i?ip-ot():0;if(b=Cx(h,b),b!==null){ea=i,e.cancelPendingCommit=b(kd.bind(null,e,t,i,a,n,l,c,r,o,p,h,null,m,g)),ba(e,i,c,!f);return}}kd(e,t,i,a,n,l,c,r,o)}function qy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!mt(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t,a,n){t&=~Zu,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-ft(l),c=1<<i;n[i]=-1,l&=~c}a!==0&&hh(e,a,t)}function Fi(){return ee&6?!0:(us(0),!1)}function Ju(){if(F!==null){if(ae===0)var e=F.return;else e=F,Wt=sn=null,Ou(e),On=null,Ql=0,e=F;for(;e!==null;)Ym(e.alternate,e),e=e.return;F=null}}function Vn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ix(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ea=0,Ju(),ue=e,F=a=It(e.current,null),W=t,ae=0,lt=null,xa=!1,Pn=as(e,t),Ku=!1,$n=rt=Zu=Ja=Ra=be=0,et=Ol=null,Dr=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-ft(n),i=1<<l;t|=e[l],n&=~i}return ia=t,Yi(),a}function op(e,t){K=null,$.H=Xl,t===In||t===Qi?(t=ld(),ae=3):t===wu?(t=ld(),ae=4):ae=t===$u?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,lt=t,F===null&&(be=1,xi(e,Nt(t,e.current)))}function dp(){var e=pt.current;return e===null?!0:(W&4194048)===W?Et===null:(W&62914560)===W||W&536870912?e===Et:!1}function fp(){var e=$.H;return $.H=Xl,e===null?Xl:e}function hp(){var e=$.A;return $.A=Hy,e}function Ci(){be=4,xa||(W&4194048)!==W&&pt.current!==null||(Pn=!0),!(Ra&134217727)&&!(Ja&134217727)||ue===null||ba(ue,W,rt,!1)}function Dc(e,t,a){var n=ee;ee|=2;var l=fp(),i=hp();(ue!==e||W!==t)&&(Ni=null,Vn(e,t)),t=!1;var c=be;e:do try{if(ae!==0&&F!==null){var r=F,o=lt;switch(ae){case 8:Ju(),c=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var f=ae;if(ae=0,lt=null,kn(e,r,o,f),a&&Pn){c=0;break e}break;default:f=ae,ae=0,lt=null,kn(e,r,o,f)}}Gy(),c=be;break}catch(p){op(e,p)}while(!0);return t&&e.shellSuspendCounter++,Wt=sn=null,ee=n,$.H=l,$.A=i,F===null&&(ue=null,W=0,Yi()),c}function Gy(){for(;F!==null;)mp(F)}function Yy(e,t){var a=ee;ee|=2;var n=fp(),l=hp();ue!==e||W!==t?(Ni=null,Si=ot()+500,Vn(e,t)):Pn=as(e,t);e:do try{if(ae!==0&&F!==null){t=F;var i=lt;t:switch(ae){case 1:ae=0,lt=null,kn(e,t,i,1);break;case 2:case 9:if(nd(i)){ae=0,lt=null,wd(t);break}t=function(){ae!==2&&ae!==9||ue!==e||(ae=7),Gt(e)},i.then(t,t);break e;case 3:ae=7;break e;case 4:ae=5;break e;case 7:nd(i)?(ae=0,lt=null,wd(t)):(ae=0,lt=null,kn(e,t,i,7));break;case 5:var c=null;switch(F.tag){case 26:c=F.memoizedState;case 5:case 27:var r=F;if(c?Op(c):r.stateNode.complete){ae=0,lt=null;var o=r.sibling;if(o!==null)F=o;else{var f=r.return;f!==null?(F=f,Wi(f)):F=null}break t}}ae=0,lt=null,kn(e,t,i,5);break;case 6:ae=0,lt=null,kn(e,t,i,6);break;case 8:Ju(),be=6;break e;default:throw Error(D(462))}}$y();break}catch(p){op(e,p)}while(!0);return Wt=sn=null,$.H=n,$.A=l,ee=a,F!==null?0:(ue=null,W=0,Yi(),be)}function $y(){for(;F!==null&&!fg();)mp(F)}function mp(e){var t=Gm(e.alternate,e,ia);e.memoizedProps=e.pendingProps,t===null?Wi(e):F=t}function wd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=bd(a,t,t.pendingProps,t.type,void 0,W);break;case 11:t=bd(a,t,t.pendingProps,t.type.render,t.ref,W);break;case 5:Ou(t);default:Ym(a,t),t=F=Yh(t,ia),t=Gm(a,t,ia)}e.memoizedProps=e.pendingProps,t===null?Wi(e):F=t}function kn(e,t,a,n){Wt=sn=null,Ou(t),On=null,Ql=0;var l=t.return;try{if(Dy(e,l,t,a,W)){be=1,xi(e,Nt(a,e.current)),F=null;return}}catch(i){if(l!==null)throw F=l,i;be=1,xi(e,Nt(a,e.current)),F=null;return}t.flags&32768?(I||n===1?e=!0:Pn||W&536870912?e=!1:(xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=pt.current,n!==null&&n.tag===13&&(n.flags|=16384))),pp(t,e)):Wi(t)}function Wi(e){var t=e;do{if(t.flags&32768){pp(t,xa);return}e=t.return;var a=Oy(t.alternate,t,ia);if(a!==null){F=a;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);be===0&&(be=5)}function pp(e,t){do{var a=Ry(e.alternate,e);if(a!==null){a.flags&=32767,F=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=a}while(e!==null);be=6,F=null}function kd(e,t,a,n,l,i,c,r,o){e.cancelPendingCommit=null;do Ii();while(ze!==0);if(ee&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(i=t.lanes|t.childLanes,i|=bu,Sg(e,a,i,c,r,o),e===ue&&(F=ue=null,W=0),Qn=t,wa=e,ea=a,zr=i,Mr=l,cp=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Ky(ri,function(){return bp(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=$.T,$.T=null,l=te.p,te.p=2,c=ee,ee|=4;try{Uy(e,t,a)}finally{ee=c,te.p=l,$.T=n}}ze=1,vp(),gp(),yp()}}function vp(){if(ze===1){ze=0;var e=wa,t=Qn,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=$.T,$.T=null;var n=te.p;te.p=2;var l=ee;ee|=4;try{Pm(t,e);var i=Hr,c=Oh(e.containerInfo),r=i.focusedElem,o=i.selectionRange;if(c!==r&&r&&r.ownerDocument&&Mh(r.ownerDocument.documentElement,r)){if(o!==null&&xu(r)){var f=o.start,p=o.end;if(p===void 0&&(p=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(p,r.value.length);else{var h=r.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var g=m.getSelection(),b=r.textContent.length,j=Math.min(o.start,b),N=o.end===void 0?j:Math.min(o.end,b);!g.extend&&j>N&&(c=N,N=j,j=c);var v=Fo(r,j),d=Fo(r,N);if(v&&d&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==d.node||g.focusOffset!==d.offset)){var y=h.createRange();y.setStart(v.node,v.offset),g.removeAllRanges(),j>N?(g.addRange(y),g.extend(d.node,d.offset)):(y.setEnd(d.node,d.offset),g.addRange(y))}}}}for(h=[],g=r;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<h.length;r++){var S=h[r];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}zi=!!Lr,Hr=Lr=null}finally{ee=l,te.p=n,$.T=a}}e.current=t,ze=2}}function gp(){if(ze===2){ze=0;var e=wa,t=Qn,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=$.T,$.T=null;var n=te.p;te.p=2;var l=ee;ee|=4;try{Zm(e,t.alternate,t)}finally{ee=l,te.p=n,$.T=a}}ze=3}}function yp(){if(ze===4||ze===3){ze=0,hg();var e=wa,t=Qn,a=ea,n=cp;t.subtreeFlags&10256||t.flags&10256?ze=5:(ze=0,Qn=wa=null,xp(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Ta=null),fu(a),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ts,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=$.T,l=te.p,te.p=2,$.T=null;try{for(var i=e.onRecoverableError,c=0;c<n.length;c++){var r=n[c];i(r.value,{componentStack:r.stack})}}finally{$.T=t,te.p=l}}ea&3&&Ii(),Gt(e),l=e.pendingLanes,a&261930&&l&42?e===Or?Rl++:(Rl=0,Or=e):Rl=0,us(0)}}function xp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,is(t)))}function Ii(){return vp(),gp(),yp(),bp()}function bp(){if(ze!==5)return!1;var e=wa,t=zr;zr=0;var a=fu(ea),n=$.T,l=te.p;try{te.p=32>a?32:a,$.T=null,a=Mr,Mr=null;var i=wa,c=ea;if(ze=0,Qn=wa=null,ea=0,ee&6)throw Error(D(331));var r=ee;if(ee|=4,lp(i.current),tp(i,i.current,c,a),ee=r,us(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ts,i)}catch{}return!0}finally{te.p=l,$.T=n,xp(e,t)}}function _d(e,t,a){t=Nt(a,t),t=wr(e.stateNode,t,2),e=Ea(e,t,2),e!==null&&(ns(e,2),Gt(e))}function ne(e,t,a){if(e.tag===3)_d(e,e,a);else for(;t!==null;){if(t.tag===3){_d(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){e=Nt(a,e),a=Rm(2),n=Ea(t,a,2),n!==null&&(Um(a,n,t,e),ns(n,2),Gt(n));break}}t=t.return}}function zc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new By;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(Ku=!0,l.add(a),e=Qy.bind(null,e,t,a),t.then(e,e))}function Qy(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ue===e&&(W&a)===a&&(be===4||be===3&&(W&62914560)===W&&300>ot()-Ji?!(ee&2)&&Vn(e,0):Zu|=a,$n===W&&($n=0)),Gt(e)}function jp(e,t){t===0&&(t=fh()),e=ln(e,t),e!==null&&(ns(e,t),Gt(e))}function Vy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),jp(e,a)}function Xy(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(D(314))}n!==null&&n.delete(t),jp(e,a)}function Ky(e,t){return ou(e,t)}var Ei=null,mn=null,Rr=!1,Ti=!1,Mc=!1,ja=0;function Gt(e){e!==mn&&e.next===null&&(mn===null?Ei=mn=e:mn=mn.next=e),Ti=!0,Rr||(Rr=!0,Jy())}function us(e,t){if(!Mc&&Ti){Mc=!0;do for(var a=!1,n=Ei;n!==null;){if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var c=n.suspendedLanes,r=n.pingedLanes;i=(1<<31-ft(42|e)+1)-1,i&=l&~(c&~r),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Ad(n,i))}else i=W,i=Hi(n,n===ue?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||as(n,i)||(a=!0,Ad(n,i));n=n.next}while(a);Mc=!1}}function Zy(){Sp()}function Sp(){Ti=Rr=!1;var e=0;ja!==0&&sx()&&(e=ja);for(var t=ot(),a=null,n=Ei;n!==null;){var l=n.next,i=Np(n,t);i===0?(n.next=null,a===null?Ei=l:a.next=l,l===null&&(mn=a)):(a=n,(e!==0||i&3)&&(Ti=!0)),n=l}ze!==0&&ze!==5||us(e),ja!==0&&(ja=0)}function Np(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-ft(i),r=1<<c,o=l[c];o===-1?(!(r&a)||r&n)&&(l[c]=jg(r,t)):o<=t&&(e.expiredLanes|=r),i&=~r}if(t=ue,a=W,a=Hi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&cc(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||as(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&cc(n),fu(a)){case 2:case 8:a=oh;break;case 32:a=ri;break;case 268435456:a=dh;break;default:a=ri}return n=Cp.bind(null,e),a=ou(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&cc(n),e.callbackPriority=2,e.callbackNode=null,2}function Cp(e,t){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ii()&&e.callbackNode!==a)return null;var n=W;return n=Hi(e,e===ue?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(up(e,n,t),Np(e,ot()),e.callbackNode!=null&&e.callbackNode===a?Cp.bind(null,e):null)}function Ad(e,t){if(Ii())return null;up(e,t,!0)}function Jy(){cx(function(){ee&6?ou(uh,Zy):Sp()})}function Fu(){if(ja===0){var e=qn;e===0&&(e=bs,bs<<=1,!(bs&261888)&&(bs=256)),ja=e}return ja}function Dd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function zd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Fy(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=Dd((l[at]||null).action),c=n.submitter;c&&(t=(t=c[at]||null)?Dd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var r=new Bi("action","action",null,n,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ja!==0){var o=c?zd(l,c):new FormData(l);Er(a,{pending:!0,data:o,method:l.method,action:i},null,o)}}else typeof i=="function"&&(r.preventDefault(),o=c?zd(l,c):new FormData(l),Er(a,{pending:!0,data:o,method:l.method,action:i},i,o))},currentTarget:l}]})}}for(var Oc=0;Oc<hr.length;Oc++){var Rc=hr[Oc],Wy=Rc.toLowerCase(),Iy=Rc[0].toUpperCase()+Rc.slice(1);Rt(Wy,"on"+Iy)}Rt(Uh,"onAnimationEnd");Rt(Lh,"onAnimationIteration");Rt(Hh,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(my,"onTransitionRun");Rt(py,"onTransitionStart");Rt(vy,"onTransitionCancel");Rt(Bh,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Ep(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var c=n.length-1;0<=c;c--){var r=n[c],o=r.instance,f=r.currentTarget;if(r=r.listener,o!==i&&l.isPropagationStopped())break e;i=r,l.currentTarget=f;try{i(l)}catch(p){oi(p)}l.currentTarget=null,i=o}else for(c=0;c<n.length;c++){if(r=n[c],o=r.instance,f=r.currentTarget,r=r.listener,o!==i&&l.isPropagationStopped())break e;i=r,l.currentTarget=f;try{i(l)}catch(p){oi(p)}l.currentTarget=null,i=o}}}}function J(e,t){var a=t[sr];a===void 0&&(a=t[sr]=new Set);var n=e+"__bubble";a.has(n)||(Tp(t,e,2,!1),a.add(n))}function Uc(e,t,a){var n=0;t&&(n|=4),Tp(a,e,n,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function Wu(e){if(!e[As]){e[As]=!0,gh.forEach(function(a){a!=="selectionchange"&&(Py.has(a)||Uc(a,!1,e),Uc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,Uc("selectionchange",!1,t))}}function Tp(e,t,a,n){switch(Bp(t)){case 2:var l=wx;break;case 8:l=kx;break;default:l=to}a=l.bind(null,t,a,e),l=void 0,!or||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function Lc(e,t,a,n,l){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var r=n.stateNode.containerInfo;if(r===l)break;if(c===4)for(c=n.return;c!==null;){var o=c.tag;if((o===3||o===4)&&c.stateNode.containerInfo===l)return;c=c.return}for(;r!==null;){if(c=xn(r),c===null)return;if(o=c.tag,o===5||o===6||o===26||o===27){n=i=c;continue e}r=r.parentNode}}n=n.return}Eh(function(){var f=i,p=pu(a),h=[];e:{var m=qh.get(e);if(m!==void 0){var g=Bi,b=e;switch(e){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":g=Xg;break;case"focusin":b="focus",g=fc;break;case"focusout":b="blur",g=fc;break;case"beforeblur":case"afterblur":g=fc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Jg;break;case Uh:case Lh:case Hh:g=Lg;break;case Bh:g=Wg;break;case"scroll":case"scrollend":g=zg;break;case"wheel":g=Pg;break;case"copy":case"cut":case"paste":g=Bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yo;break;case"toggle":case"beforetoggle":g=ty}var j=(t&4)!==0,N=!j&&(e==="scroll"||e==="scrollend"),v=j?m!==null?m+"Capture":null:m;j=[];for(var d=f,y;d!==null;){var S=d;if(y=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||y===null||v===null||(S=Bl(d,v),S!=null&&j.push(Zl(d,S,y))),N)break;d=d.return}0<j.length&&(m=new g(m,b,null,a,p),h.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&a!==ur&&(b=a.relatedTarget||a.fromElement)&&(xn(b)||b[Jn]))break e;if((g||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=a.relatedTarget||a.toElement,g=f,b=b?xn(b):null,b!==null&&(N=es(b),j=b.tag,b!==N||j!==5&&j!==27&&j!==6)&&(b=null)):(g=null,b=f),g!==b)){if(j=qo,S="onMouseLeave",v="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(j=Yo,S="onPointerLeave",v="onPointerEnter",d="pointer"),N=g==null?m:xl(g),y=b==null?m:xl(b),m=new j(S,d+"leave",g,a,p),m.target=N,m.relatedTarget=y,S=null,xn(p)===f&&(j=new j(v,d+"enter",b,a,p),j.target=y,j.relatedTarget=N,S=j),N=S,g&&b)t:{for(j=ex,v=g,d=b,y=0,S=v;S;S=j(S))y++;S=0;for(var x=d;x;x=j(x))S++;for(;0<y-S;)v=j(v),y--;for(;0<S-y;)d=j(d),S--;for(;y--;){if(v===d||d!==null&&v===d.alternate){j=v;break t}v=j(v),d=j(d)}j=null}else j=null;g!==null&&Md(h,m,g,j,!1),b!==null&&N!==null&&Md(h,N,b,j,!0)}}e:{if(m=f?xl(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var E=Xo;else if(Vo(m))if(Dh)E=dy;else{E=uy;var k=ry}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?f&&mu(f.elementType)&&(E=Xo):E=oy;if(E&&(E=E(e,f))){Ah(h,E,a,p);break e}k&&k(e,m,f),e==="focusout"&&f&&m.type==="number"&&f.memoizedProps.value!=null&&rr(m,"number",m.value)}switch(k=f?xl(f):window,e){case"focusin":(Vo(k)||k.contentEditable==="true")&&(Sn=k,dr=f,Tl=null);break;case"focusout":Tl=dr=Sn=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,Wo(h,a,p);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":Wo(h,a,p)}var A;if(yu)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else jn?kh(e,a)&&(z="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(z="onCompositionStart");z&&(wh&&a.locale!=="ko"&&(jn||z!=="onCompositionStart"?z==="onCompositionEnd"&&jn&&(A=Th()):(ya=p,vu="value"in ya?ya.value:ya.textContent,jn=!0)),k=wi(f,z),0<k.length&&(z=new Go(z,e,null,a,p),h.push({event:z,listeners:k}),A?z.data=A:(A=_h(a),A!==null&&(z.data=A)))),(A=ny?ly(e,a):sy(e,a))&&(z=wi(f,"onBeforeInput"),0<z.length&&(k=new Go("onBeforeInput","beforeinput",null,a,p),h.push({event:k,listeners:z}),k.data=A)),Fy(h,e,f,a,p)}Ep(h,t)})}function Zl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function wi(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Bl(e,a),l!=null&&n.unshift(Zl(e,l,i)),l=Bl(e,t),l!=null&&n.push(Zl(e,l,i))),e.tag===3)return n;e=e.return}return[]}function ex(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Md(e,t,a,n,l){for(var i=t._reactName,c=[];a!==null&&a!==n;){var r=a,o=r.alternate,f=r.stateNode;if(r=r.tag,o!==null&&o===n)break;r!==5&&r!==26&&r!==27||f===null||(o=f,l?(f=Bl(a,i),f!=null&&c.unshift(Zl(a,f,o))):l||(f=Bl(a,i),f!=null&&c.push(Zl(a,f,o)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var tx=/\r\n?/g,ax=/\u0000|\uFFFD/g;function Od(e){return(typeof e=="string"?e:""+e).replace(tx,`
`).replace(ax,"")}function wp(e,t){return t=Od(t),Od(e)===t}function le(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Bn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Bn(e,""+n);break;case"className":Ns(e,"class",n);break;case"tabIndex":Ns(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ns(e,a,n);break;case"style":Ch(e,n,i);break;case"data":if(t!=="object"){Ns(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ys(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&le(e,t,"name",l.name,l,null),le(e,t,"formEncType",l.formEncType,l,null),le(e,t,"formMethod",l.formMethod,l,null),le(e,t,"formTarget",l.formTarget,l,null)):(le(e,t,"encType",l.encType,l,null),le(e,t,"method",l.method,l,null),le(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ys(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ft);break;case"onScroll":n!=null&&J("scroll",e);break;case"onScrollEnd":n!=null&&J("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(D(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(D(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ys(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":J("beforetoggle",e),J("toggle",e),Gs(e,"popover",n);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Gs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ag.get(a)||a,Gs(e,a,n))}}function Ur(e,t,a,n,l,i){switch(a){case"style":Ch(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(D(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(D(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Bn(e,n):(typeof n=="number"||typeof n=="bigint")&&Bn(e,""+n);break;case"onScroll":n!=null&&J("scroll",e);break;case"onScrollEnd":n!=null&&J("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ft);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[at]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Gs(e,a,n)}}}function Xe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":J("error",e),J("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:le(e,t,i,c,a,null)}}l&&le(e,t,"srcSet",a.srcSet,a,null),n&&le(e,t,"src",a.src,a,null);return;case"input":J("invalid",e);var r=i=c=l=null,o=null,f=null;for(n in a)if(a.hasOwnProperty(n)){var p=a[n];if(p!=null)switch(n){case"name":l=p;break;case"type":c=p;break;case"checked":o=p;break;case"defaultChecked":f=p;break;case"value":i=p;break;case"defaultValue":r=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(D(137,t));break;default:le(e,t,n,p,a,null)}}jh(e,i,r,o,f,c,l,!1);return;case"select":J("invalid",e),n=c=i=null;for(l in a)if(a.hasOwnProperty(l)&&(r=a[l],r!=null))switch(l){case"value":i=r;break;case"defaultValue":c=r;break;case"multiple":n=r;default:le(e,t,l,r,a,null)}t=i,a=c,e.multiple=!!n,t!=null?Dn(e,!!n,t,!1):a!=null&&Dn(e,!!n,a,!0);return;case"textarea":J("invalid",e),i=l=n=null;for(c in a)if(a.hasOwnProperty(c)&&(r=a[c],r!=null))switch(c){case"value":n=r;break;case"defaultValue":l=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(D(91));break;default:le(e,t,c,r,a,null)}Nh(e,n,l,i);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(n=a[o],n!=null))switch(o){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:le(e,t,o,n,a,null)}return;case"dialog":J("beforetoggle",e),J("toggle",e),J("cancel",e),J("close",e);break;case"iframe":case"object":J("load",e);break;case"video":case"audio":for(n=0;n<Kl.length;n++)J(Kl[n],e);break;case"image":J("error",e),J("load",e);break;case"details":J("toggle",e);break;case"embed":case"source":case"link":J("error",e),J("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in a)if(a.hasOwnProperty(f)&&(n=a[f],n!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:le(e,t,f,n,a,null)}return;default:if(mu(t)){for(p in a)a.hasOwnProperty(p)&&(n=a[p],n!==void 0&&Ur(e,t,p,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&le(e,t,r,n,a,null))}function nx(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,c=null,r=null,o=null,f=null,p=null;for(g in a){var h=a[g];if(a.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=h;default:n.hasOwnProperty(g)||le(e,t,g,null,n,h)}}for(var m in n){var g=n[m];if(h=a[m],n.hasOwnProperty(m)&&(g!=null||h!=null))switch(m){case"type":i=g;break;case"name":l=g;break;case"checked":f=g;break;case"defaultChecked":p=g;break;case"value":c=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(D(137,t));break;default:g!==h&&le(e,t,m,g,n,h)}}cr(e,c,r,o,f,p,i,l);return;case"select":g=c=r=m=null;for(i in a)if(o=a[i],a.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":g=o;default:n.hasOwnProperty(i)||le(e,t,i,null,n,o)}for(l in n)if(i=n[l],o=a[l],n.hasOwnProperty(l)&&(i!=null||o!=null))switch(l){case"value":m=i;break;case"defaultValue":r=i;break;case"multiple":c=i;default:i!==o&&le(e,t,l,i,n,o)}t=r,a=c,n=g,m!=null?Dn(e,!!a,m,!1):!!n!=!!a&&(t!=null?Dn(e,!!a,t,!0):Dn(e,!!a,a?[]:"",!1));return;case"textarea":g=m=null;for(r in a)if(l=a[r],a.hasOwnProperty(r)&&l!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:le(e,t,r,null,n,l)}for(c in n)if(l=n[c],i=a[c],n.hasOwnProperty(c)&&(l!=null||i!=null))switch(c){case"value":m=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(D(91));break;default:l!==i&&le(e,t,c,l,n,i)}Sh(e,m,g);return;case"option":for(var b in a)if(m=a[b],a.hasOwnProperty(b)&&m!=null&&!n.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:le(e,t,b,null,n,m)}for(o in n)if(m=n[o],g=a[o],n.hasOwnProperty(o)&&m!==g&&(m!=null||g!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:le(e,t,o,m,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in a)m=a[j],a.hasOwnProperty(j)&&m!=null&&!n.hasOwnProperty(j)&&le(e,t,j,null,n,m);for(f in n)if(m=n[f],g=a[f],n.hasOwnProperty(f)&&m!==g&&(m!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(D(137,t));break;default:le(e,t,f,m,n,g)}return;default:if(mu(t)){for(var N in a)m=a[N],a.hasOwnProperty(N)&&m!==void 0&&!n.hasOwnProperty(N)&&Ur(e,t,N,void 0,n,m);for(p in n)m=n[p],g=a[p],!n.hasOwnProperty(p)||m===g||m===void 0&&g===void 0||Ur(e,t,p,m,n,g);return}}for(var v in a)m=a[v],a.hasOwnProperty(v)&&m!=null&&!n.hasOwnProperty(v)&&le(e,t,v,null,n,m);for(h in n)m=n[h],g=a[h],!n.hasOwnProperty(h)||m===g||m==null&&g==null||le(e,t,h,m,n,g)}function Rd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,c=l.initiatorType,r=l.duration;if(i&&r&&Rd(c)){for(c=0,r=l.responseEnd,n+=1;n<a.length;n++){var o=a[n],f=o.startTime;if(f>r)break;var p=o.transferSize,h=o.initiatorType;p&&Rd(h)&&(o=o.responseEnd,c+=p*(o<r?1:(r-f)/(o-f)))}if(--n,t+=8*(i+c)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lr=null,Hr=null;function ki(e){return e.nodeType===9?e:e.ownerDocument}function Ud(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Br(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hc=null;function sx(){var e=window.event;return e&&e.type==="popstate"?e===Hc?!1:(Hc=e,!0):(Hc=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,cx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(e){return Ld.resolve(null).then(e).catch(rx)}:_p;function rx(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function Hd(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Kn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ul(a);for(var i=a.firstChild;i;){var c=i.nextSibling,r=i.nodeName;i[ls]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&Ul(e.ownerDocument.body);a=l}while(a);Kn(t)}function Bd(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function qr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qr(a),hu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ux(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[ls])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Tt(e.nextSibling),e===null)break}return null}function ox(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Tt(e.nextSibling),e===null))return null;return e}function Ap(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tt(e.nextSibling),e===null))return null;return e}function Gr(e){return e.data==="$?"||e.data==="$~"}function Yr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $r=null;function qd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Tt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Dp(e,t,a){switch(t=ki(a),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function Ul(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hu(e)}var wt=new Map,Yd=new Set;function _i(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ra=te.d;te.d={f:fx,r:hx,D:mx,C:px,L:vx,m:gx,X:xx,S:yx,M:bx};function fx(){var e=ra.f(),t=Fi();return e||t}function hx(e){var t=Fn(e);t!==null&&t.tag===5&&t.type==="form"?Cm(t):ra.r(e)}var el=typeof document>"u"?null:document;function zp(e,t,a){var n=el;if(n&&typeof t=="string"&&t){var l=St(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),Yd.has(l)||(Yd.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Xe(t,"link",e),Le(t),n.head.appendChild(t)))}}function mx(e){ra.D(e),zp("dns-prefetch",e,null)}function px(e,t){ra.C(e,t),zp("preconnect",e,t)}function vx(e,t,a){ra.L(e,t,a);var n=el;if(n&&e&&t){var l='link[rel="preload"][as="'+St(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+St(a.imageSizes)+'"]')):l+='[href="'+St(e)+'"]';var i=l;switch(t){case"style":i=Xn(e);break;case"script":i=tl(e)}wt.has(i)||(e=me({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),wt.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(os(i))||t==="script"&&n.querySelector(ds(i))||(t=n.createElement("link"),Xe(t,"link",e),Le(t),n.head.appendChild(t)))}}function gx(e,t){ra.m(e,t);var a=el;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+St(n)+'"][href="'+St(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=tl(e)}if(!wt.has(i)&&(e=me({rel:"modulepreload",href:e},t),wt.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ds(i)))return}n=a.createElement("link"),Xe(n,"link",e),Le(n),a.head.appendChild(n)}}}function yx(e,t,a){ra.S(e,t,a);var n=el;if(n&&e){var l=An(n).hoistableStyles,i=Xn(e);t=t||"default";var c=l.get(i);if(!c){var r={loading:0,preload:null};if(c=n.querySelector(os(i)))r.loading=5;else{e=me({rel:"stylesheet",href:e,"data-precedence":t},a),(a=wt.get(i))&&Iu(e,a);var o=c=n.createElement("link");Le(o),Xe(o,"link",e),o._p=new Promise(function(f,p){o.onload=f,o.onerror=p}),o.addEventListener("load",function(){r.loading|=1}),o.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Is(c,t,n)}c={type:"stylesheet",instance:c,count:1,state:r},l.set(i,c)}}}function xx(e,t){ra.X(e,t);var a=el;if(a&&e){var n=An(a).hoistableScripts,l=tl(e),i=n.get(l);i||(i=a.querySelector(ds(l)),i||(e=me({src:e,async:!0},t),(t=wt.get(l))&&Pu(e,t),i=a.createElement("script"),Le(i),Xe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function bx(e,t){ra.M(e,t);var a=el;if(a&&e){var n=An(a).hoistableScripts,l=tl(e),i=n.get(l);i||(i=a.querySelector(ds(l)),i||(e=me({src:e,async:!0,type:"module"},t),(t=wt.get(l))&&Pu(e,t),i=a.createElement("script"),Le(i),Xe(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function $d(e,t,a,n){var l=(l=Sa.current)?_i(l):null;if(!l)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Xn(a.href),a=An(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xn(a.href);var i=An(l).hoistableStyles,c=i.get(e);if(c||(l=l.ownerDocument||l,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=l.querySelector(os(e)))&&!i._p&&(c.instance=i,c.state.loading=5),wt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wt.set(e,a),i||jx(l,e,a,c.state))),t&&n===null)throw Error(D(528,""));return c}if(t&&n!==null)throw Error(D(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=tl(a),a=An(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function Xn(e){return'href="'+St(e)+'"'}function os(e){return'link[rel="stylesheet"]['+e+"]"}function Mp(e){return me({},e,{"data-precedence":e.precedence,precedence:null})}function jx(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Xe(t,"link",a),Le(t),e.head.appendChild(t))}function tl(e){return'[src="'+St(e)+'"]'}function ds(e){return"script[async]"+e}function Qd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+St(a.href)+'"]');if(n)return t.instance=n,Le(n),n;var l=me({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Le(n),Xe(n,"style",l),Is(n,a.precedence,e),t.instance=n;case"stylesheet":l=Xn(a.href);var i=e.querySelector(os(l));if(i)return t.state.loading|=4,t.instance=i,Le(i),i;n=Mp(a),(l=wt.get(l))&&Iu(n,l),i=(e.ownerDocument||e).createElement("link"),Le(i);var c=i;return c._p=new Promise(function(r,o){c.onload=r,c.onerror=o}),Xe(i,"link",n),t.state.loading|=4,Is(i,a.precedence,e),t.instance=i;case"script":return i=tl(a.src),(l=e.querySelector(ds(i)))?(t.instance=l,Le(l),l):(n=a,(l=wt.get(i))&&(n=me({},a),Pu(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),Le(l),Xe(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Is(n,a.precedence,e));return t.instance}function Is(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,c=0;c<n.length;c++){var r=n[c];if(r.dataset.precedence===t)i=r;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ps=null;function Vd(e,t,a){if(Ps===null){var n=new Map,l=Ps=new Map;l.set(a,n)}else l=Ps,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[ls]||i[$e]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var r=n.get(c);r?r.push(i):n.set(c,[i])}}return n}function Xd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Sx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Op(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Nx(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var l=Xn(n.href),i=t.querySelector(os(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ai.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Le(i);return}i=t.ownerDocument||t,n=Mp(n),(l=wt.get(l))&&Iu(n,l),i=i.createElement("link"),Le(i);var c=i;c._p=new Promise(function(r,o){c.onload=r,c.onerror=o}),Xe(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=Ai.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Bc=0;function Cx(e,t){return e.stylesheets&&e.count===0&&ei(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ei(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Bc===0&&(Bc=62500*lx());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ei(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Bc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function Ai(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ei(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Di=null;function ei(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Di=new Map,t.forEach(Ex,e),Di=null,Ai.call(e))}function Ex(e,t){if(!(t.state.loading&4)){var a=Di.get(e);if(a)var n=a.get(null);else{a=new Map,Di.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var c=l[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),n=c)}n&&a.set(null,n)}l=t.instance,c=l.getAttribute("data-precedence"),i=a.get(c)||n,i===n&&a.set(null,l),a.set(c,l),this.count++,n=Ai.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Jl={$$typeof:Jt,Provider:null,Consumer:null,_currentValue:Va,_currentValue2:Va,_threadCount:0};function Tx(e,t,a,n,l,i,c,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.hiddenUpdates=rc(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Rp(e,t,a,n,l,i,c,r,o,f,p,h){return e=new Tx(e,t,a,c,o,f,p,h,r),t=1,i===!0&&(t|=24),i=ct(3,null,null,t),e.current=i,i.stateNode=e,t=Eu(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},ku(i),e}function Up(e){return e?(e=En,e):En}function Lp(e,t,a,n,l,i){l=Up(l),n.context===null?n.context=l:n.pendingContext=l,n=Ca(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Ea(e,n,t),a!==null&&(tt(a,e,t),kl(a,e,t))}function Kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function eo(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}function Hp(e){if(e.tag===13||e.tag===31){var t=ln(e,67108864);t!==null&&tt(t,e,67108864),eo(e,67108864)}}function Zd(e){if(e.tag===13||e.tag===31){var t=ht();t=du(t);var a=ln(e,t);a!==null&&tt(a,e,t),eo(e,t)}}var zi=!0;function wx(e,t,a,n){var l=$.T;$.T=null;var i=te.p;try{te.p=2,to(e,t,a,n)}finally{te.p=i,$.T=l}}function kx(e,t,a,n){var l=$.T;$.T=null;var i=te.p;try{te.p=8,to(e,t,a,n)}finally{te.p=i,$.T=l}}function to(e,t,a,n){if(zi){var l=Qr(n);if(l===null)Lc(e,t,n,Mi,a),Jd(e,n);else if(Ax(l,e,t,a,n))n.stopPropagation();else if(Jd(e,n),t&4&&-1<_x.indexOf(e)){for(;l!==null;){var i=Fn(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Ya(i.pendingLanes);if(c!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;c;){var o=1<<31-ft(c);r.entanglements[1]|=o,c&=~o}Gt(i),!(ee&6)&&(Si=ot()+500,us(0))}}break;case 31:case 13:r=ln(i,2),r!==null&&tt(r,i,2),Fi(),eo(i,2)}if(i=Qr(n),i===null&&Lc(e,t,n,Mi,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else Lc(e,t,n,null,a)}}function Qr(e){return e=pu(e),ao(e)}var Mi=null;function ao(e){if(Mi=null,e=xn(e),e!==null){var t=es(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=lh(t),e!==null)return e;e=null}else if(a===31){if(e=sh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mi=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mg()){case uh:return 2;case oh:return 8;case ri:case pg:return 32;case dh:return 268435456;default:return 32}default:return 32}}var Vr=!1,ka=null,_a=null,Aa=null,Fl=new Map,Wl=new Map,va=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jd(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(t.pointerId)}}function hl(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Fn(t),t!==null&&Hp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ax(e,t,a,n,l){switch(t){case"focusin":return ka=hl(ka,e,t,a,n,l),!0;case"dragenter":return _a=hl(_a,e,t,a,n,l),!0;case"mouseover":return Aa=hl(Aa,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Fl.set(i,hl(Fl.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Wl.set(i,hl(Wl.get(i)||null,e,t,a,n,l)),!0}return!1}function qp(e){var t=xn(e.target);if(t!==null){var a=es(t);if(a!==null){if(t=a.tag,t===13){if(t=lh(a),t!==null){e.blockedOn=t,Mo(e.priority,function(){Zd(a)});return}}else if(t===31){if(t=sh(a),t!==null){e.blockedOn=t,Mo(e.priority,function(){Zd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Qr(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ur=n,a.target.dispatchEvent(n),ur=null}else return t=Fn(a),t!==null&&Hp(t),e.blockedOn=a,!1;t.shift()}return!0}function Fd(e,t,a){ti(e)&&a.delete(t)}function Dx(){Vr=!1,ka!==null&&ti(ka)&&(ka=null),_a!==null&&ti(_a)&&(_a=null),Aa!==null&&ti(Aa)&&(Aa=null),Fl.forEach(Fd),Wl.forEach(Fd)}function Ds(e,t){e.blockedOn===t&&(e.blockedOn=null,Vr||(Vr=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,Dx)))}var zs=null;function Wd(e){zs!==e&&(zs=e,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,function(){zs===e&&(zs=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(ao(n||a)===null)continue;break}var i=Fn(a);i!==null&&(e.splice(t,3),t-=3,Er(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Kn(e){function t(o){return Ds(o,e)}ka!==null&&Ds(ka,e),_a!==null&&Ds(_a,e),Aa!==null&&Ds(Aa,e),Fl.forEach(t),Wl.forEach(t);for(var a=0;a<va.length;a++){var n=va[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<va.length&&(a=va[0],a.blockedOn===null);)qp(a),a.blockedOn===null&&va.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],c=l[at]||null;if(typeof i=="function")c||Wd(a);else if(c){var r=null;if(i&&i.hasAttribute("formAction")){if(l=i,c=i[at]||null)r=c.formAction;else if(ao(l)!==null)continue}else r=c.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),Wd(a)}}}function Gp(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return l=c})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function no(e){this._internalRoot=e}Pi.prototype.render=no.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var a=t.current,n=ht();Lp(a,n,e,t,null,null)};Pi.prototype.unmount=no.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lp(e.current,2,null,e,null,null),Fi(),t[Jn]=null}};function Pi(e){this._internalRoot=e}Pi.prototype.unstable_scheduleHydration=function(e){if(e){var t=vh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<va.length&&t!==0&&t<va[a].priority;a++);va.splice(a,0,e),a===0&&qp(e)}};var Id=ah.version;if(Id!=="19.2.3")throw Error(D(527,Id,"19.2.3"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=cg(t),e=e!==null?ih(e):null,e=e===null?null:e.stateNode,e};var zx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{ts=Ms.inject(zx),dt=Ms}catch{}}Ui.createRoot=function(e,t){if(!nh(e))throw Error(D(299));var a=!1,n="",l=zm,i=Mm,c=Om;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Rp(e,1,!1,null,null,a,n,null,l,i,c,Gp),e[Jn]=t.current,Wu(e),new no(t)};Ui.hydrateRoot=function(e,t,a){if(!nh(e))throw Error(D(299));var n=!1,l="",i=zm,c=Mm,r=Om,o=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(o=a.formState)),t=Rp(e,1,!0,t,a??null,n,l,o,i,c,r,Gp),t.context=Up(null),a=t.current,n=ht(),n=du(n),l=Ca(n),l.callback=null,Ea(a,l,n),a=n,t.current.lanes=a,ns(t,a),Gt(t),e[Jn]=t.current,Wu(e),new Pi(t)};Ui.version="19.2.3";function Yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yp)}catch(e){console.error(e)}}Yp(),Ff.exports=Ui;var Mx=Ff.exports;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pd="popstate";function Ox(e={}){function t(n,l){let{pathname:i,search:c,hash:r}=n.location;return Xr("",{pathname:i,search:c,hash:r},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(n,l){return typeof l=="string"?l:Il(l)}return Ux(t,a,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rx(){return Math.random().toString(36).substring(2,10)}function ef(e,t){return{usr:e.state,key:e.key,idx:t}}function Xr(e,t,a=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fs(t):t,state:a,key:t&&t.key||n||Rx()}}function Il({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function fs(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Ux(e,t,a,n={}){let{window:l=document.defaultView,v5Compat:i=!1}=n,c=l.history,r="POP",o=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function h(){r="POP";let N=p(),v=N==null?null:N-f;f=N,o&&o({action:r,location:j.location,delta:v})}function m(N,v){r="PUSH";let d=Xr(j.location,N,v);f=p()+1;let y=ef(d,f),S=j.createHref(d);try{c.pushState(y,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;l.location.assign(S)}i&&o&&o({action:r,location:j.location,delta:1})}function g(N,v){r="REPLACE";let d=Xr(j.location,N,v);f=p();let y=ef(d,f),S=j.createHref(d);c.replaceState(y,"",S),i&&o&&o({action:r,location:j.location,delta:0})}function b(N){return Lx(N)}let j={get action(){return r},get location(){return e(l,c)},listen(N){if(o)throw new Error("A history only accepts one active listener");return l.addEventListener(Pd,h),o=N,()=>{l.removeEventListener(Pd,h),o=null}},createHref(N){return t(l,N)},createURL:b,encodeLocation(N){let v=b(N);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:g,go(N){return c.go(N)}};return j}function Lx(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(a,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Il(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function $p(e,t,a="/"){return Hx(e,t,a,!1)}function Hx(e,t,a,n){let l=typeof t=="string"?fs(t):t,i=ca(l.pathname||"/",a);if(i==null)return null;let c=Qp(e);Bx(c);let r=null;for(let o=0;r==null&&o<c.length;++o){let f=Fx(i);r=Zx(c[o],f,n)}return r}function Qp(e,t=[],a=[],n="",l=!1){let i=(c,r,o=l,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:r,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&o)return;Ae(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let h=ta([n,p.relativePath]),m=a.concat(p);c.children&&c.children.length>0&&(Ae(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Qp(c.children,t,m,h,o)),!(c.path==null&&!c.index)&&t.push({path:h,score:Xx(h,c.index),routesMeta:m})};return e.forEach((c,r)=>{var o;if(c.path===""||!((o=c.path)!=null&&o.includes("?")))i(c,r);else for(let f of Vp(c.path))i(c,r,!0,f)}),t}function Vp(e){let t=e.split("/");if(t.length===0)return[];let[a,...n]=t,l=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return l?[i,""]:[i];let c=Vp(n.join("/")),r=[];return r.push(...c.map(o=>o===""?i:[i,o].join("/"))),l&&r.push(...c),r.map(o=>e.startsWith("/")&&o===""?"/":o)}function Bx(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:Kx(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var qx=/^:[\w-]+$/,Gx=3,Yx=2,$x=1,Qx=10,Vx=-2,tf=e=>e==="*";function Xx(e,t){let a=e.split("/"),n=a.length;return a.some(tf)&&(n+=Vx),t&&(n+=Yx),a.filter(l=>!tf(l)).reduce((l,i)=>l+(qx.test(i)?Gx:i===""?$x:Qx),n)}function Kx(e,t){return e.length===t.length&&e.slice(0,-1).every((n,l)=>n===t[l])?e[e.length-1]-t[t.length-1]:0}function Zx(e,t,a=!1){let{routesMeta:n}=e,l={},i="/",c=[];for(let r=0;r<n.length;++r){let o=n[r],f=r===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",h=Oi({path:o.relativePath,caseSensitive:o.caseSensitive,end:f},p),m=o.route;if(!h&&f&&a&&!n[n.length-1].route.index&&(h=Oi({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},p)),!h)return null;Object.assign(l,h.params),c.push({params:l,pathname:ta([i,h.pathname]),pathnameBase:e1(ta([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=ta([i,h.pathnameBase]))}return c}function Oi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=Jx(e.path,e.caseSensitive,e.end),l=t.match(a);if(!l)return null;let i=l[0],c=i.replace(/(.)\/+$/,"$1"),r=l.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:h},m)=>{if(p==="*"){let b=r[m]||"";c=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=r[m];return h&&!g?f[p]=void 0:f[p]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:c,pattern:e}}function Jx(e,t=!1,a=!0){vt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,r,o)=>(n.push({paramName:r,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),n]}function Fx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ca(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}var Xp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wx=e=>Xp.test(e);function Ix(e,t="/"){let{pathname:a,search:n="",hash:l=""}=typeof e=="string"?fs(e):e,i;if(a)if(Wx(a))i=a;else{if(a.includes("//")){let c=a;a=a.replace(/\/\/+/g,"/"),vt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${a}`)}a.startsWith("/")?i=af(a.substring(1),"/"):i=af(a,t)}else i=t;return{pathname:i,search:t1(n),hash:a1(l)}}function af(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function qc(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Px(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function lo(e){let t=Px(e);return t.map((a,n)=>n===t.length-1?a.pathname:a.pathnameBase)}function so(e,t,a,n=!1){let l;typeof e=="string"?l=fs(e):(l={...e},Ae(!l.pathname||!l.pathname.includes("?"),qc("?","pathname","search",l)),Ae(!l.pathname||!l.pathname.includes("#"),qc("#","pathname","hash",l)),Ae(!l.search||!l.search.includes("#"),qc("#","search","hash",l)));let i=e===""||l.pathname==="",c=i?"/":l.pathname,r;if(c==null)r=a;else{let h=t.length-1;if(!n&&c.startsWith("..")){let m=c.split("/");for(;m[0]==="..";)m.shift(),h-=1;l.pathname=m.join("/")}r=h>=0?t[h]:"/"}let o=Ix(l,r),f=c&&c!=="/"&&c.endsWith("/"),p=(i||c===".")&&a.endsWith("/");return!o.pathname.endsWith("/")&&(f||p)&&(o.pathname+="/"),o}var ta=e=>e.join("/").replace(/\/\/+/g,"/"),e1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,n1=class{constructor(e,t,a,n=!1){this.status=e,this.statusText=t||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function l1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function s1(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zp(e,t){let a=e;if(typeof a!="string"||!Xp.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let n=a,l=!1;if(Kp)try{let i=new URL(window.location.href),c=a.startsWith("//")?new URL(i.protocol+a):new URL(a),r=ca(c.pathname,t);c.origin===i.origin&&r!=null?a=r+c.search+c.hash:l=!0}catch{vt(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:l,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jp=["POST","PUT","PATCH","DELETE"];new Set(Jp);var i1=["GET",...Jp];new Set(i1);var al=u.createContext(null);al.displayName="DataRouter";var ec=u.createContext(null);ec.displayName="DataRouterState";var c1=u.createContext(!1),Fp=u.createContext({isTransitioning:!1});Fp.displayName="ViewTransition";var r1=u.createContext(new Map);r1.displayName="Fetchers";var u1=u.createContext(null);u1.displayName="Await";var gt=u.createContext(null);gt.displayName="Navigation";var tc=u.createContext(null);tc.displayName="Location";var kt=u.createContext({outlet:null,matches:[],isDataRoute:!1});kt.displayName="Route";var io=u.createContext(null);io.displayName="RouteError";var Wp="REACT_ROUTER_ERROR",o1="REDIRECT",d1="ROUTE_ERROR_RESPONSE";function f1(e){if(e.startsWith(`${Wp}:${o1}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function h1(e){if(e.startsWith(`${Wp}:${d1}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new n1(t.status,t.statusText,t.data)}catch{}}function m1(e,{relative:t}={}){Ae(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=u.useContext(gt),{hash:l,pathname:i,search:c}=hs(e,{relative:t}),r=i;return a!=="/"&&(r=i==="/"?a:ta([a,i])),n.createHref({pathname:r,search:c,hash:l})}function nl(){return u.useContext(tc)!=null}function _t(){return Ae(nl(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(tc).location}var Ip="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pp(e){u.useContext(gt).static||u.useLayoutEffect(e)}function At(){let{isDataRoute:e}=u.useContext(kt);return e?_1():p1()}function p1(){Ae(nl(),"useNavigate() may be used only in the context of a <Router> component.");let e=u.useContext(al),{basename:t,navigator:a}=u.useContext(gt),{matches:n}=u.useContext(kt),{pathname:l}=_t(),i=JSON.stringify(lo(n)),c=u.useRef(!1);return Pp(()=>{c.current=!0}),u.useCallback((o,f={})=>{if(vt(c.current,Ip),!c.current)return;if(typeof o=="number"){a.go(o);return}let p=so(o,JSON.parse(i),l,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ta([t,p.pathname])),(f.replace?a.replace:a.push)(p,f.state,f)},[t,a,i,l,e])}var v1=u.createContext(null);function g1(e){let t=u.useContext(kt).outlet;return u.useMemo(()=>t&&u.createElement(v1.Provider,{value:e},t),[t,e])}function ev(){let{matches:e}=u.useContext(kt),t=e[e.length-1];return t?t.params:{}}function hs(e,{relative:t}={}){let{matches:a}=u.useContext(kt),{pathname:n}=_t(),l=JSON.stringify(lo(a));return u.useMemo(()=>so(e,JSON.parse(l),n,t==="path"),[e,l,n,t])}function y1(e,t){return tv(e)}function tv(e,t,a,n,l){Ae(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=u.useContext(gt),{matches:c}=u.useContext(kt),r=c[c.length-1],o=r?r.params:{},f=r?r.pathname:"/",p=r?r.pathnameBase:"/",h=r&&r.route;{let d=h&&h.path||"";nv(f,!h||d.endsWith("*")||d.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${d}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${d}"> to <Route path="${d==="/"?"*":`${d}/*`}">.`)}let m=_t(),g;g=m;let b=g.pathname||"/",j=b;if(p!=="/"){let d=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(d.length).join("/")}let N=$p(e,{pathname:j});return vt(h||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),vt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),N1(N&&N.map(d=>Object.assign({},d,{params:Object.assign({},o,d.params),pathname:ta([p,i.encodeLocation?i.encodeLocation(d.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?p:ta([p,i.encodeLocation?i.encodeLocation(d.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:d.pathnameBase])})),c,a,n,l)}function x1(){let e=k1(),t=l1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:i},"ErrorBoundary")," or"," ",u.createElement("code",{style:i},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),a?u.createElement("pre",{style:l},a):null,c)}var b1=u.createElement(x1,null),av=class extends u.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const a=h1(e.digest);a&&(e=a)}let t=e!==void 0?u.createElement(kt.Provider,{value:this.props.routeContext},u.createElement(io.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?u.createElement(j1,{error:e},t):t}};av.contextType=c1;var Gc=new WeakMap;function j1({children:e,error:t}){let{basename:a}=u.useContext(gt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=f1(t.digest);if(n){let l=Gc.get(t);if(l)throw l;let i=Zp(n.location,a);if(Kp&&!Gc.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw Gc.set(t,c),c}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function S1({routeContext:e,match:t,children:a}){let n=u.useContext(al);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),u.createElement(kt.Provider,{value:e},a)}function N1(e,t=[],a=null,n=null,l=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let i=e,c=a==null?void 0:a.errors;if(c!=null){let p=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);Ae(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let r=!1,o=-1;if(a)for(let p=0;p<i.length;p++){let h=i[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=p),h.route.id){let{loaderData:m,errors:g}=a,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){r=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}let f=a&&n?(p,h)=>{var m,g;n(p,{location:a.location,params:((g=(m=a.matches)==null?void 0:m[0])==null?void 0:g.params)??{},unstable_pattern:s1(a.matches),errorInfo:h})}:void 0;return i.reduceRight((p,h,m)=>{let g,b=!1,j=null,N=null;a&&(g=c&&h.route.id?c[h.route.id]:void 0,j=h.route.errorElement||b1,r&&(o<0&&m===0?(nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):o===m&&(b=!0,N=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,m+1)),d=()=>{let y;return g?y=j:b?y=N:h.route.Component?y=u.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=p,u.createElement(S1,{match:h,routeContext:{outlet:p,matches:v,isDataRoute:a!=null},children:y})};return a&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?u.createElement(av,{location:a.location,revalidation:a.revalidation,component:j,error:g,children:d(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:f}):d()},null)}function co(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C1(e){let t=u.useContext(al);return Ae(t,co(e)),t}function E1(e){let t=u.useContext(ec);return Ae(t,co(e)),t}function T1(e){let t=u.useContext(kt);return Ae(t,co(e)),t}function ro(e){let t=T1(e),a=t.matches[t.matches.length-1];return Ae(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function w1(){return ro("useRouteId")}function k1(){var n;let e=u.useContext(io),t=E1("useRouteError"),a=ro("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[a]}function _1(){let{router:e}=C1("useNavigate"),t=ro("useNavigate"),a=u.useRef(!1);return Pp(()=>{a.current=!0}),u.useCallback(async(l,i={})=>{vt(a.current,Ip),a.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:t,...i}))},[e,t])}var nf={};function nv(e,t,a){!t&&!nf[e]&&(nf[e]=!0,vt(!1,a))}u.memo(A1);function A1({routes:e,future:t,state:a,onError:n}){return tv(e,void 0,a,n,t)}function D1({to:e,replace:t,state:a,relative:n}){Ae(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=u.useContext(gt);vt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=u.useContext(kt),{pathname:c}=_t(),r=At(),o=so(e,lo(i),c,n==="path"),f=JSON.stringify(o);return u.useEffect(()=>{r(JSON.parse(f),{replace:t,state:a,relative:n})},[r,f,n,t,a]),null}function lv(e){return g1(e.context)}function z1({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:l,static:i=!1,unstable_useTransitions:c}){Ae(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=e.replace(/^\/*/,"/"),o=u.useMemo(()=>({basename:r,navigator:l,static:i,unstable_useTransitions:c,future:{}}),[r,l,i,c]);typeof a=="string"&&(a=fs(a));let{pathname:f="/",search:p="",hash:h="",state:m=null,key:g="default"}=a,b=u.useMemo(()=>{let j=ca(f,r);return j==null?null:{location:{pathname:j,search:p,hash:h,state:m,key:g},navigationType:n}},[r,f,p,h,m,g,n]);return vt(b!=null,`<Router basename="${r}"> is not able to match the URL "${f}${p}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:u.createElement(gt.Provider,{value:o},u.createElement(tc.Provider,{children:t,value:b}))}var ai="get",ni="application/x-www-form-urlencoded";function ac(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function M1(e){return ac(e)&&e.tagName.toLowerCase()==="button"}function O1(e){return ac(e)&&e.tagName.toLowerCase()==="form"}function R1(e){return ac(e)&&e.tagName.toLowerCase()==="input"}function U1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L1(e,t){return e.button===0&&(!t||t==="_self")&&!U1(e)}function Kr(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map(l=>[a,l]):[[a,n]])},[]))}function H1(e,t){let a=Kr(e);return t&&t.forEach((n,l)=>{a.has(l)||t.getAll(l).forEach(i=>{a.append(l,i)})}),a}var Os=null;function B1(){if(Os===null)try{new FormData(document.createElement("form"),0),Os=!1}catch{Os=!0}return Os}var q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yc(e){return e!=null&&!q1.has(e)?(vt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ni}"`),null):e}function G1(e,t){let a,n,l,i,c;if(O1(e)){let r=e.getAttribute("action");n=r?ca(r,t):null,a=e.getAttribute("method")||ai,l=Yc(e.getAttribute("enctype"))||ni,i=new FormData(e)}else if(M1(e)||R1(e)&&(e.type==="submit"||e.type==="image")){let r=e.form;if(r==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||r.getAttribute("action");if(n=o?ca(o,t):null,a=e.getAttribute("formmethod")||r.getAttribute("method")||ai,l=Yc(e.getAttribute("formenctype"))||Yc(r.getAttribute("enctype"))||ni,i=new FormData(r,e),!B1()){let{name:f,type:p,value:h}=e;if(p==="image"){let m=f?`${f}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else f&&i.append(f,h)}}else{if(ac(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ai,n=null,l=ni,c=e}return i&&l==="text/plain"&&(c=i,i=void 0),{action:n,method:a.toLowerCase(),encType:l,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y1(e,t,a,n){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${n}`:l.pathname=`${l.pathname}.${n}`:l.pathname==="/"?l.pathname=`_root.${n}`:t&&ca(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${n}`,l}async function $1(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function V1(e,t,a){let n=await Promise.all(e.map(async l=>{let i=t.routes[l.route.id];if(i){let c=await $1(i,a);return c.links?c.links():[]}return[]}));return J1(n.flat(1).filter(Q1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function lf(e,t,a,n,l,i){let c=(o,f)=>a[f]?o.route.id!==a[f].route.id:!0,r=(o,f)=>{var p;return a[f].pathname!==o.pathname||((p=a[f].route.path)==null?void 0:p.endsWith("*"))&&a[f].params["*"]!==o.params["*"]};return i==="assets"?t.filter((o,f)=>c(o,f)||r(o,f)):i==="data"?t.filter((o,f)=>{var h;let p=n.routes[o.route.id];if(!p||!p.hasLoader)return!1;if(c(o,f)||r(o,f))return!0;if(o.route.shouldRevalidate){let m=o.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((h=a[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function X1(e,t,{includeHydrateFallback:a}={}){return K1(e.map(n=>{let l=t.routes[n.route.id];if(!l)return[];let i=[l.module];return l.clientActionModule&&(i=i.concat(l.clientActionModule)),l.clientLoaderModule&&(i=i.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(i=i.concat(l.hydrateFallbackModule)),l.imports&&(i=i.concat(l.imports)),i}).flat(1))}function K1(e){return[...new Set(e)]}function Z1(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}function J1(e,t){let a=new Set;return new Set(t),e.reduce((n,l)=>{let i=JSON.stringify(Z1(l));return a.has(i)||(a.add(i),n.push({key:i,link:l})),n},[])}function sv(){let e=u.useContext(al);return uo(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function F1(){let e=u.useContext(ec);return uo(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oo=u.createContext(void 0);oo.displayName="FrameworkContext";function iv(){let e=u.useContext(oo);return uo(e,"You must render this element inside a <HydratedRouter> element"),e}function W1(e,t){let a=u.useContext(oo),[n,l]=u.useState(!1),[i,c]=u.useState(!1),{onFocus:r,onBlur:o,onMouseEnter:f,onMouseLeave:p,onTouchStart:h}=t,m=u.useRef(null);u.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=v=>{v.forEach(d=>{c(d.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return m.current&&N.observe(m.current),()=>{N.disconnect()}}},[e]),u.useEffect(()=>{if(n){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[n]);let g=()=>{l(!0)},b=()=>{l(!1),c(!1)};return a?e!=="intent"?[i,m,{}]:[i,m,{onFocus:ml(r,g),onBlur:ml(o,b),onMouseEnter:ml(f,g),onMouseLeave:ml(p,b),onTouchStart:ml(h,g)}]:[!1,m,{}]}function ml(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function I1({page:e,...t}){let{router:a}=sv(),n=u.useMemo(()=>$p(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?u.createElement(eb,{page:e,matches:n,...t}):null}function P1(e){let{manifest:t,routeModules:a}=iv(),[n,l]=u.useState([]);return u.useEffect(()=>{let i=!1;return V1(e,t,a).then(c=>{i||l(c)}),()=>{i=!0}},[e,t,a]),n}function eb({page:e,matches:t,...a}){let n=_t(),{future:l,manifest:i,routeModules:c}=iv(),{basename:r}=sv(),{loaderData:o,matches:f}=F1(),p=u.useMemo(()=>lf(e,t,f,i,n,"data"),[e,t,f,i,n]),h=u.useMemo(()=>lf(e,t,f,i,n,"assets"),[e,t,f,i,n]),m=u.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,N=!1;if(t.forEach(d=>{var S;let y=i.routes[d.route.id];!y||!y.hasLoader||(!p.some(x=>x.route.id===d.route.id)&&d.route.id in o&&((S=c[d.route.id])!=null&&S.shouldRevalidate)||y.hasClientLoader?N=!0:j.add(d.route.id))}),j.size===0)return[];let v=Y1(e,r,l.unstable_trailingSlashAwareDataRequests,"data");return N&&j.size>0&&v.searchParams.set("_routes",t.filter(d=>j.has(d.route.id)).map(d=>d.route.id).join(",")),[v.pathname+v.search]},[r,l.unstable_trailingSlashAwareDataRequests,o,n,i,p,t,e,c]),g=u.useMemo(()=>X1(h,i),[h,i]),b=P1(h);return u.createElement(u.Fragment,null,m.map(j=>u.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...a})),g.map(j=>u.createElement("link",{key:j,rel:"modulepreload",href:j,...a})),b.map(({key:j,link:N})=>u.createElement("link",{key:j,nonce:a.nonce,...N})))}function tb(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ab&&(window.__reactRouterVersion="7.12.0")}catch{}function nb({basename:e,children:t,unstable_useTransitions:a,window:n}){let l=u.useRef();l.current==null&&(l.current=Ox({window:n,v5Compat:!0}));let i=l.current,[c,r]=u.useState({action:i.action,location:i.location}),o=u.useCallback(f=>{a===!1?r(f):u.startTransition(()=>r(f))},[a]);return u.useLayoutEffect(()=>i.listen(o),[i,o]),u.createElement(z1,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:i,unstable_useTransitions:a})}var cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=u.forwardRef(function({onClick:t,discover:a="render",prefetch:n="none",relative:l,reloadDocument:i,replace:c,state:r,target:o,to:f,preventScrollReset:p,viewTransition:h,unstable_defaultShouldRevalidate:m,...g},b){let{basename:j,unstable_useTransitions:N}=u.useContext(gt),v=typeof f=="string"&&cv.test(f),d=Zp(f,j);f=d.to;let y=m1(f,{relative:l}),[S,x,E]=W1(n,g),k=ib(f,{replace:c,state:r,target:o,preventScrollReset:p,relative:l,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:N});function A(C){t&&t(C),C.defaultPrevented||k(C)}let z=u.createElement("a",{...g,...E,href:d.absoluteURL||y,onClick:d.isExternal||i?t:A,ref:tb(b,x),target:o,"data-discover":!v&&a==="render"?"true":void 0});return S&&!v?u.createElement(u.Fragment,null,z,u.createElement(I1,{page:y})):z});Da.displayName="Link";var Re=u.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:n="",end:l=!1,style:i,to:c,viewTransition:r,children:o,...f},p){let h=hs(c,{relative:f.relative}),m=_t(),g=u.useContext(ec),{navigator:b,basename:j}=u.useContext(gt),N=g!=null&&db(h)&&r===!0,v=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,d=m.pathname,y=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(d=d.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase()),y&&j&&(y=ca(y,j)||y);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let x=d===v||!l&&d.startsWith(v)&&d.charAt(S)==="/",E=y!=null&&(y===v||!l&&y.startsWith(v)&&y.charAt(v.length)==="/"),k={isActive:x,isPending:E,isTransitioning:N},A=x?t:void 0,z;typeof n=="function"?z=n(k):z=[n,x?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(k):i;return u.createElement(Da,{...f,"aria-current":A,className:z,ref:p,style:C,to:c,viewTransition:r},typeof o=="function"?o(k):o)});Re.displayName="NavLink";var lb=u.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:l,state:i,method:c=ai,action:r,onSubmit:o,relative:f,preventScrollReset:p,viewTransition:h,unstable_defaultShouldRevalidate:m,...g},b)=>{let{unstable_useTransitions:j}=u.useContext(gt),N=ub(),v=ob(r,{relative:f}),d=c.toLowerCase()==="get"?"get":"post",y=typeof r=="string"&&cv.test(r),S=x=>{if(o&&o(x),x.defaultPrevented)return;x.preventDefault();let E=x.nativeEvent.submitter,k=(E==null?void 0:E.getAttribute("formmethod"))||c,A=()=>N(E||x.currentTarget,{fetcherKey:t,method:k,navigate:a,replace:l,state:i,relative:f,preventScrollReset:p,viewTransition:h,unstable_defaultShouldRevalidate:m});j&&a!==!1?u.startTransition(()=>A()):A()};return u.createElement("form",{ref:b,method:d,action:v,onSubmit:n?o:S,...g,"data-discover":!y&&e==="render"?"true":void 0})});lb.displayName="Form";function sb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rv(e){let t=u.useContext(al);return Ae(t,sb(e)),t}function ib(e,{target:t,replace:a,state:n,preventScrollReset:l,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:r,unstable_useTransitions:o}={}){let f=At(),p=_t(),h=hs(e,{relative:i});return u.useCallback(m=>{if(L1(m,t)){m.preventDefault();let g=a!==void 0?a:Il(p)===Il(h),b=()=>f(e,{replace:g,state:n,preventScrollReset:l,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:r});o?u.startTransition(()=>b()):b()}},[p,f,h,a,n,t,e,l,i,c,r,o])}function fo(e){vt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=u.useRef(Kr(e)),a=u.useRef(!1),n=_t(),l=u.useMemo(()=>H1(n.search,a.current?null:t.current),[n.search]),i=At(),c=u.useCallback((r,o)=>{const f=Kr(typeof r=="function"?r(new URLSearchParams(l)):r);a.current=!0,i("?"+f,o)},[i,l]);return[l,c]}var cb=0,rb=()=>`__${String(++cb)}__`;function ub(){let{router:e}=rv("useSubmit"),{basename:t}=u.useContext(gt),a=w1(),n=e.fetch,l=e.navigate;return u.useCallback(async(i,c={})=>{let{action:r,method:o,encType:f,formData:p,body:h}=G1(i,t);if(c.navigate===!1){let m=c.fetcherKey||rb();await n(m,a,c.action||r,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:h,formMethod:c.method||o,formEncType:c.encType||f,flushSync:c.flushSync})}else await l(c.action||r,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:h,formMethod:c.method||o,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,l,t,a])}function ob(e,{relative:t}={}){let{basename:a}=u.useContext(gt),n=u.useContext(kt);Ae(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),i={...hs(e||".",{relative:t})},c=_t();if(e==null){i.search=c.search;let r=new URLSearchParams(i.search),o=r.getAll("index");if(o.some(p=>p==="")){r.delete("index"),o.filter(h=>h).forEach(h=>r.append("index",h));let p=r.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&l.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:ta([a,i.pathname])),Il(i)}function db(e,{relative:t}={}){let a=u.useContext(Fp);Ae(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rv("useViewTransitionState"),l=hs(e,{relative:t});if(!a.isTransitioning)return!1;let i=ca(a.currentLocation.pathname,n)||a.currentLocation.pathname,c=ca(a.nextLocation.pathname,n)||a.nextLocation.pathname;return Oi(l.pathname,c)!=null||Oi(l.pathname,i)!=null}const sf={dashboard:'<rect x="3" y="3" width="7" height="9" /><rect x="14" y="3" width="7" height="5" /><rect x="14" y="12" width="7" height="9" /><rect x="3" y="16" width="7" height="5" />',tasks:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2" /><line x1="9" y1="9" x2="15" y2="9" /><line x1="9" y1="13" x2="15" y2="13" /><line x1="9" y1="17" x2="13" y2="17" />',board:'<rect x="3" y="3" width="5" height="18" rx="1" /><rect x="10" y="3" width="5" height="12" rx="1" /><rect x="17" y="3" width="4" height="7" rx="1" />',prompts:'<polyline points="4 7 4 4 20 4 20 7" /><line x1="9" y1="20" x2="15" y2="20" /><line x1="12" y1="4" x2="12" y2="20" />',file:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" /><polyline points="14 2 14 8 20 8" /><line x1="16" y1="13" x2="8" y2="13" /><line x1="16" y1="17" x2="8" y2="17" /><line x1="10" y1="9" x2="8" y2="9" />',skills:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />',hooks:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" /><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />',mcp:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2" /><rect x="9" y="9" width="6" height="6" /><line x1="9" y1="1" x2="9" y2="4" /><line x1="15" y1="1" x2="15" y2="4" /><line x1="9" y1="20" x2="9" y2="23" /><line x1="15" y1="20" x2="15" y2="23" /><line x1="20" y1="9" x2="23" y2="9" /><line x1="20" y1="14" x2="23" y2="14" /><line x1="1" y1="9" x2="4" y2="9" /><line x1="1" y1="14" x2="4" y2="14" />',tools:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" />',agents:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" /><circle cx="9" cy="7" r="4" /><path d="M23 21v-2a4 4 0 0 0-3-3.87" /><path d="M16 3.13a4 4 0 0 1 0 7.75" />',scripts:'<polyline points="16 18 22 12 16 6" /><polyline points="8 6 2 12 8 18" />',settings:'<circle cx="12" cy="12" r="3" /><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />',config:'<line x1="4" y1="21" x2="4" y2="14" /><line x1="4" y1="10" x2="4" y2="3" /><line x1="12" y1="21" x2="12" y2="12" /><line x1="12" y1="8" x2="12" y2="3" /><line x1="20" y1="21" x2="20" y2="16" /><line x1="20" y1="12" x2="20" y2="3" /><line x1="1" y1="14" x2="7" y2="14" /><line x1="9" y1="8" x2="15" y2="8" /><line x1="17" y1="16" x2="23" y2="16" />',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" />',export:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" /><polyline points="17 8 12 3 7 8" /><line x1="12" y1="3" x2="12" y2="15" />',"file-text":'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" /><polyline points="14 2 14 8 20 8" /><line x1="16" y1="13" x2="8" y2="13" /><line x1="16" y1="17" x2="8" y2="17" /><line x1="10" y1="9" x2="8" y2="9" />',robot:'<rect x="3" y="11" width="18" height="10" rx="2" /><circle cx="12" cy="5" r="2" /><path d="M12 7v4" /><line x1="8" y1="16" x2="8" y2="16" /><line x1="16" y1="16" x2="16" y2="16" />',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2" /><polyline points="2 17 12 22 22 17" /><polyline points="2 12 12 17 22 12" />',plugin:'<path d="M19.5 12.5c0 1.5-1.5 2.5-3 2.5v4H5v-4c-1.5 0-3-1-3-2.5s1.5-2.5 3-2.5V6h4V4c0-1.1.9-2 2-2s2 .9 2 2v2h3.5c0-1.5 1-3 2.5-3s2.5 1.5 2.5 3v6c0 .3 0 .5-.5.5" />',plus:'<line x1="12" y1="5" x2="12" y2="19" /><line x1="5" y1="12" x2="19" y2="12" />',search:'<circle cx="11" cy="11" r="8" /><path d="m21 21-4.35-4.35" />',close:'<line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" />',check:'<polyline points="20 6 9 17 4 12" />',trash:'<polyline points="3 6 5 6 21 6" /><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />',play:'<polygon points="5 3 19 12 5 21 5 3" />',pause:'<rect x="6" y="4" width="4" height="16" rx="1" /><rect x="14" y="4" width="4" height="16" rx="1" />',"chevron-down":'<polyline points="6 9 12 15 18 9" />',"chevron-right":'<polyline points="9 18 15 12 9 6" />',"chevron-left":'<polyline points="15 18 9 12 15 6" />',"chevron-up":'<polyline points="18 15 12 9 6 15" />',"chevrons-down":'<polyline points="17 13 12 18 7 13" /><polyline points="17 6 12 11 7 6" />',success:'<polyline points="20 6 9 17 4 12" />',error:'<circle cx="12" cy="12" r="10" /><line x1="15" y1="9" x2="9" y2="15" /><line x1="9" y1="9" x2="15" y2="15" />',warning:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" /><line x1="12" y1="9" x2="12" y2="13" /><line x1="12" y1="17" x2="12.01" y2="17" />',info:'<circle cx="12" cy="12" r="10" /><line x1="12" y1="16" x2="12" y2="12" /><line x1="12" y1="8" x2="12.01" y2="8" />',clock:'<circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" />',blocked:'<circle cx="12" cy="12" r="10" /><line x1="4.93" y1="4.93" x2="19.07" y2="19.07" />',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" />',dollar:'<path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />',branch:'<line x1="6" y1="3" x2="6" y2="15" /><circle cx="18" cy="6" r="3" /><circle cx="6" cy="18" r="3" /><path d="M18 9a9 9 0 0 1-9 9" />',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" />',terminal:'<polyline points="4 17 10 11 4 5" /><line x1="12" y1="19" x2="20" y2="19" />',claude:'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" fill="currentColor" stroke="none" />',pin:'<line x1="12" y1="17" x2="12" y2="22" /><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z" />',"empty-box":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2" /><line x1="9" y1="9" x2="15" y2="15" /><line x1="15" y1="9" x2="9" y2="15" />',sliders:'<line x1="4" y1="21" x2="4" y2="14" /><line x1="4" y1="10" x2="4" y2="3" /><line x1="12" y1="21" x2="12" y2="12" /><line x1="12" y1="8" x2="12" y2="3" /><line x1="20" y1="21" x2="20" y2="16" /><line x1="20" y1="12" x2="20" y2="3" /><line x1="1" y1="14" x2="7" y2="14" /><line x1="9" y1="8" x2="15" y2="8" /><line x1="17" y1="16" x2="23" y2="16" />',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2" /><rect x="2" y="14" width="20" height="8" rx="2" ry="2" /><line x1="6" y1="6" x2="6.01" y2="6" /><line x1="6" y1="18" x2="6.01" y2="18" />',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" /><polyline points="3.27 6.96 12 12.01 20.73 6.96" /><line x1="12" y1="22.08" x2="12" y2="12" />',palette:'<circle cx="13.5" cy="6.5" r=".5" fill="currentColor" /><circle cx="17.5" cy="10.5" r=".5" fill="currentColor" /><circle cx="8.5" cy="7.5" r=".5" fill="currentColor" /><circle cx="6.5" cy="12.5" r=".5" fill="currentColor" /><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2z" />',"git-branch":'<line x1="6" y1="3" x2="6" y2="15" /><circle cx="18" cy="6" r="3" /><circle cx="6" cy="18" r="3" /><path d="M18 9a9 9 0 0 1-9 9" />',statusline:'<line x1="3" y1="12" x2="21" y2="12" /><line x1="3" y1="6" x2="21" y2="6" /><line x1="3" y1="18" x2="21" y2="18" /><circle cx="6" cy="12" r="2" fill="currentColor" /><circle cx="18" cy="6" r="2" fill="currentColor" />',"panel-left-close":'<rect x="3" y="3" width="18" height="18" rx="2" /><path d="M9 3v18" /><path d="m16 15-3-3 3-3" />',"panel-left-open":'<rect x="3" y="3" width="18" height="18" rx="2" /><path d="M9 3v18" /><path d="m14 9 3 3-3 3" />',database:'<ellipse cx="12" cy="5" rx="9" ry="3" /><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" /><path d="M3 12c0 1.66 4 3 9 3s9-1.34 9-3" />',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12" /><polyline points="12 19 5 12 12 5" />',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" /><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />',archive:'<polyline points="21 8 21 21 3 21 3 8" /><rect x="1" y="3" width="22" height="5" /><line x1="10" y1="12" x2="14" y2="12" />',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" /><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />',x:'<line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" />',circle:'<circle cx="12" cy="12" r="10" />',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" /><polyline points="22 4 12 14.01 9 11.01" />',"play-circle":'<circle cx="12" cy="12" r="10" /><polygon points="10 8 16 12 10 16 10 8" />',"pause-circle":'<circle cx="12" cy="12" r="10" /><line x1="10" y1="15" x2="10" y2="9" /><line x1="14" y1="15" x2="14" y2="9" />',"x-circle":'<circle cx="12" cy="12" r="10" /><line x1="15" y1="9" x2="9" y2="15" /><line x1="9" y1="9" x2="15" y2="15" />',"alert-circle":'<circle cx="12" cy="12" r="10" /><line x1="12" y1="8" x2="12" y2="12" /><line x1="12" y1="16" x2="12.01" y2="16" />',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" /><rect x="8" y="2" width="8" height="4" rx="1" ry="1" />',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />',list:'<line x1="8" y1="6" x2="21" y2="6" /><line x1="8" y1="12" x2="21" y2="12" /><line x1="8" y1="18" x2="21" y2="18" /><line x1="3" y1="6" x2="3.01" y2="6" /><line x1="3" y1="12" x2="3.01" y2="12" /><line x1="3" y1="18" x2="3.01" y2="18" />',"rotate-ccw":'<polyline points="1 4 1 10 7 10" /><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10" />',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2" /><line x1="3" y1="9" x2="21" y2="9" /><line x1="9" y1="21" x2="9" y2="9" />',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" /><polyline points="17 8 12 3 7 8" /><line x1="12" y1="3" x2="12" y2="15" />',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" /><polyline points="7 10 12 15 17 10" /><line x1="12" y1="15" x2="12" y2="3" />',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2" /><rect x="9" y="9" width="6" height="6" /><line x1="9" y1="1" x2="9" y2="4" /><line x1="15" y1="1" x2="15" y2="4" /><line x1="9" y1="20" x2="9" y2="23" /><line x1="15" y1="20" x2="15" y2="23" /><line x1="20" y1="9" x2="23" y2="9" /><line x1="20" y1="14" x2="23" y2="14" /><line x1="1" y1="9" x2="4" y2="9" /><line x1="1" y1="14" x2="4" y2="14" />',slash:'<circle cx="12" cy="12" r="10" /><line x1="4.93" y1="4.93" x2="19.07" y2="19.07" />',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" /><line x1="12" y1="9" x2="12" y2="13" /><line x1="12" y1="17" x2="12.01" y2="17" />'};function _({name:e,size:t=20,className:a=""}){const n=sf[e]||sf.error;return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,"aria-hidden":"true",dangerouslySetInnerHTML:{__html:n}})}const cf={created:{color:"var(--text-muted)",glow:"transparent",label:"Created"},classifying:{color:"var(--status-warning)",glow:"var(--status-warning-glow)",label:"Classifying"},planned:{color:"var(--text-secondary)",glow:"transparent",label:"Planned"},running:{color:"var(--accent-primary)",glow:"var(--accent-glow)",label:"Running"},paused:{color:"var(--status-warning)",glow:"var(--status-warning-glow)",label:"Paused"},blocked:{color:"var(--status-danger)",glow:"var(--status-danger-glow)",label:"Blocked"},finalizing:{color:"var(--status-info)",glow:"var(--status-info-glow)",label:"Finalizing"},completed:{color:"var(--status-success)",glow:"transparent",label:"Completed"},finished:{color:"var(--status-success)",glow:"transparent",label:"Finished"},failed:{color:"var(--status-danger)",glow:"transparent",label:"Failed"}};function ll({status:e,size:t="md",showLabel:a=!1}){const n=cf[e]||cf.created,l=e==="running",i=e==="paused",c=["status-indicator",`size-${t}`,l&&"animated",i&&"paused"].filter(Boolean).join(" ");return s.jsxs("div",{className:c,children:[s.jsx("span",{className:"orb",style:{"--status-color":n.color,"--status-glow":n.glow}}),a&&s.jsx("span",{className:"label",style:{color:n.color},children:n.label})]})}const rf=e=>{let t;const a=new Set,n=(f,p)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const m=t;t=p??(typeof h!="object"||h===null)?h:Object.assign({},t,h),a.forEach(g=>g(t,m))}},l=()=>t,r={setState:n,getState:l,getInitialState:()=>o,subscribe:f=>(a.add(f),()=>a.delete(f))},o=t=e(n,l,r);return r},fb=e=>e?rf(e):rf,hb=e=>e;function mb(e,t=hb){const a=vl.useSyncExternalStore(e.subscribe,vl.useCallback(()=>t(e.getState()),[e,t]),vl.useCallback(()=>t(e.getInitialState()),[e,t]));return vl.useDebugValue(a),a}const pb=e=>{const t=fb(e),a=n=>mb(t,n);return Object.assign(a,t),a},ms=e=>pb,vb=e=>(t,a,n)=>{const l=n.subscribe;return n.subscribe=(c,r,o)=>{let f=c;if(r){const p=(o==null?void 0:o.equalityFn)||Object.is;let h=c(n.getState());f=m=>{const g=c(m);if(!p(h,g)){const b=h;r(h=g,b)}},o!=null&&o.fireImmediately&&r(h,h)}return l(f)},e(t,a,n)},ps=vb,gb=["running","blocked","paused"],yb=["completed","failed","finished"],xb=["completed","failed","finished"],uf={tasks:[],taskStates:new Map,loading:!1,error:null},Ke=ms()(ps((e,t)=>({...uf,getActiveTasks:()=>{const{tasks:a}=t();return a.filter(n=>gb.includes(n.status))},getRecentTasks:()=>{const{tasks:a}=t();return a.filter(n=>yb.includes(n.status)).sort((n,l)=>new Date(l.updated_at).getTime()-new Date(n.updated_at).getTime()).slice(0,10)},getRunningTasks:()=>{const{tasks:a}=t();return a.filter(n=>n.status==="running")},getStatusCounts:()=>{const{tasks:a}=t();return a.reduce((n,l)=>(n.all++,xb.includes(l.status)||n.active++,(l.status==="completed"||l.status==="finished")&&n.completed++,l.status==="failed"&&n.failed++,l.status==="running"&&n.running++,l.status==="blocked"&&n.blocked++,n),{all:0,active:0,completed:0,failed:0,running:0,blocked:0})},setTasks:a=>e({tasks:a,error:null}),addTask:a=>e(n=>n.tasks.some(l=>l.id===a.id)?n:{tasks:[...n.tasks,a]}),updateTask:(a,n)=>e(l=>({tasks:l.tasks.map(i=>i.id===a?{...i,...n}:i)})),updateTaskStatus:(a,n,l)=>e(i=>({tasks:i.tasks.map(c=>c.id===a?{...c,status:n,...l!==void 0&&{current_phase:l}}:c)})),removeTask:a=>e(n=>({tasks:n.tasks.filter(l=>l.id!==a),taskStates:(()=>{const l=new Map(n.taskStates);return l.delete(a),l})()})),updateTaskState:(a,n)=>e(l=>{const i=new Map(l.taskStates);i.set(a,n);const c=l.tasks.findIndex(r=>r.id===a);if(c!==-1&&n.status){const r=[...l.tasks];return r[c]={...r[c],status:n.status,current_phase:n.current_phase},{taskStates:i,tasks:r}}return{taskStates:i}}),removeTaskState:a=>e(n=>{const l=new Map(n.taskStates);return l.delete(a),{taskStates:l}}),getTask:a=>t().tasks.find(n=>n.id===a),getTaskState:a=>t().taskStates.get(a),setLoading:a=>e({loading:a}),setError:a=>e({error:a}),reset:()=>e(uf)}))),Zr="orc_current_project_id",Jr="project";function uv(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get(Jr)}function $c(e,t=!1){if(typeof window>"u")return;const a=new URL(window.location.href);e?a.searchParams.set(Jr,e):a.searchParams.delete(Jr),t?window.history.replaceState({projectId:e},"",a.toString()):window.history.pushState({projectId:e},"",a.toString())}function bb(){if(typeof window>"u")return null;try{return localStorage.getItem(Zr)}catch{return null}}function Sl(e){if(!(typeof window>"u"))try{e?localStorage.setItem(Zr,e):localStorage.removeItem(Zr)}catch{}}function jb(){const e=uv();return e||bb()}const of={projects:[],currentProjectId:null,loading:!1,error:null,_isHandlingPopState:!1},Ye=ms()(ps((e,t)=>({...of,getCurrentProject:()=>{const{projects:a,currentProjectId:n}=t();return a.find(l=>l.id===n)},setProjects:a=>{const{currentProjectId:n}=t();if(n&&!a.some(l=>l.id===n)){const l=a[0];l?(e({projects:a,currentProjectId:l.id}),Sl(l.id),$c(l.id,!0)):e({projects:a,currentProjectId:null})}else e({projects:a})},selectProject:a=>{const{_isHandlingPopState:n}=t();e({currentProjectId:a}),Sl(a),n||$c(a,!1)},handlePopState:a=>{var i;const n=((i=a.state)==null?void 0:i.projectId)??uv(),{currentProjectId:l}=t();n!==l&&(e({_isHandlingPopState:!0}),e({currentProjectId:n}),Sl(n),e({_isHandlingPopState:!1}))},initializeFromUrl:()=>{const a=jb();a&&(e({currentProjectId:a}),Sl(a),$c(a,!0))},setLoading:a=>e({loading:a}),setError:a=>e({error:a}),reset:()=>e(of)})));Ye.subscribe(e=>e.currentProjectId,e=>{Sl(e)});const Sb=()=>Ye(e=>e.getCurrentProject()),ho=()=>Ye(e=>e.currentProjectId),df=e=>Symbol.iterator in e,ff=e=>"entries"in e,hf=(e,t)=>{const a=e instanceof Map?e:new Map(e.entries()),n=t instanceof Map?t:new Map(t.entries());if(a.size!==n.size)return!1;for(const[l,i]of a)if(!n.has(l)||!Object.is(i,n.get(l)))return!1;return!0},Nb=(e,t)=>{const a=e[Symbol.iterator](),n=t[Symbol.iterator]();let l=a.next(),i=n.next();for(;!l.done&&!i.done;){if(!Object.is(l.value,i.value))return!1;l=a.next(),i=n.next()}return!!l.done&&!!i.done};function Cb(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:df(e)&&df(t)?ff(e)&&ff(t)?hf(e,t):Nb(e,t):hf({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Eb(e){const t=vl.useRef(void 0);return a=>{const n=e(a);return Cb(t.current,n)?t.current:t.current=n}}const ut="__unassigned__",Fr="orc_current_initiative_id",Wr="initiative";function ov(){return typeof window>"u"?null:new URLSearchParams(window.location.search).get(Wr)}function Rs(e,t=!1){if(typeof window>"u")return;const a=new URL(window.location.href);e?a.searchParams.set(Wr,e):a.searchParams.delete(Wr),t?window.history.replaceState({initiativeId:e},"",a.toString()):window.history.pushState({initiativeId:e},"",a.toString())}function Tb(){if(typeof window>"u")return null;try{return localStorage.getItem(Fr)}catch{return null}}function pn(e){if(!(typeof window>"u"))try{e?localStorage.setItem(Fr,e):localStorage.removeItem(Fr)}catch{}}function wb(){const e=ov();return e||Tb()}const mf={initiatives:new Map,currentInitiativeId:null,loading:!1,error:null,hasLoaded:!1,_isHandlingPopState:!1},Me=ms()(ps((e,t)=>({...mf,getInitiativesList:()=>{const{initiatives:a}=t();return Array.from(a.values())},getCurrentInitiative:()=>{const{initiatives:a,currentInitiativeId:n}=t();if(!(!n||n===ut))return a.get(n)},getInitiativeProgress:a=>{const n=new Map;for(const l of a){if(!l.initiative_id)continue;const i=n.get(l.initiative_id),c=l.status==="completed"||l.status==="finished";i?(i.total++,c&&i.completed++):n.set(l.initiative_id,{id:l.initiative_id,completed:c?1:0,total:1})}return n},getInitiative:a=>t().initiatives.get(a),getInitiativeTitle:a=>{const n=t().initiatives.get(a);return(n==null?void 0:n.title)??a},setInitiatives:a=>{const n=new Map;for(const i of a)n.set(i.id,i);const{currentInitiativeId:l}=t();l&&l!==ut&&!n.has(l)?(e({initiatives:n,currentInitiativeId:null,hasLoaded:!0}),pn(null),Rs(null,!0)):e({initiatives:n,hasLoaded:!0})},addInitiative:a=>e(n=>{const l=new Map(n.initiatives);return l.set(a.id,a),{initiatives:l}}),updateInitiative:(a,n)=>e(l=>{const i=l.initiatives.get(a);if(!i)return l;const c=new Map(l.initiatives);return c.set(a,{...i,...n}),{initiatives:c}}),removeInitiative:a=>e(n=>{const l=new Map(n.initiatives);return l.delete(a),n.currentInitiativeId===a?(pn(null),Rs(null,!0),{initiatives:l,currentInitiativeId:null}):{initiatives:l}}),selectInitiative:a=>{const{_isHandlingPopState:n}=t();e({currentInitiativeId:a}),pn(a),n||Rs(a,!1)},handlePopState:a=>{var i;const n=((i=a.state)==null?void 0:i.initiativeId)??ov(),{currentInitiativeId:l}=t();n!==l&&(e({_isHandlingPopState:!0}),e({currentInitiativeId:n}),pn(n),e({_isHandlingPopState:!1}))},initializeFromUrl:()=>{const a=wb();a&&(e({currentInitiativeId:a}),pn(a),Rs(a,!0))},setLoading:a=>e({loading:a}),setError:a=>e({error:a}),setHasLoaded:a=>e({hasLoaded:a}),reset:()=>e(mf)})));Me.subscribe(e=>e.currentInitiativeId,e=>{pn(e)});const mo=()=>Me(Eb(e=>Array.from(e.initiatives.values()))),kb=()=>Me(e=>{const{initiatives:t,currentInitiativeId:a}=e;if(!(!a||a===ut))return t.get(a)}),po=()=>Me(e=>e.currentInitiativeId);function _b(e,t=20){return e.length<=t?e:e.slice(0,t-1)+""}function Ab(e,t=20){const a=Me.getState().getInitiativeTitle(e);return{display:_b(a,t),full:a}}const dv="orc-sidebar-expanded";function Db(){if(typeof window>"u")return!0;try{const e=localStorage.getItem(dv);return e===null?!0:e==="true"}catch{return!0}}function Ir(e){if(!(typeof window>"u"))try{localStorage.setItem(dv,String(e))}catch{}}let zb=0;function Mb(){return`toast-${Date.now()}-${++zb}`}const Ob={success:5e3,error:8e3,warning:5e3,info:5e3},pf={sidebarExpanded:!0,wsStatus:"disconnected",toasts:[]},it=ms()(ps((e,t)=>{const a=(l,i)=>{i>0&&setTimeout(()=>{t().dismissToast(l)},i)},n=l=>{const i=l.id??Mb(),c=l.duration??Ob[l.type],r=l.dismissible??!0,o={...l,id:i,duration:c,dismissible:r};return e(f=>({toasts:[...f.toasts,o]})),c&&c>0&&a(i,c),i};return{...pf,sidebarExpanded:Db(),toggleSidebar:()=>e(l=>{const i=!l.sidebarExpanded;return Ir(i),{sidebarExpanded:i}}),setSidebarExpanded:l=>{Ir(l),e({sidebarExpanded:l})},setWsStatus:l=>e({wsStatus:l}),addToast:n,dismissToast:l=>e(i=>({toasts:i.toasts.filter(c=>c.id!==l)})),clearToasts:()=>e({toasts:[]}),toast:{success:(l,i)=>n({type:"success",message:l,...i}),error:(l,i)=>n({type:"error",message:l,...i}),warning:(l,i)=>n({type:"warning",message:l,...i}),info:(l,i)=>n({type:"info",message:l,...i})},reset:()=>e(pf)}}));it.subscribe(e=>e.sidebarExpanded,e=>{Ir(e)});const Rb=()=>it(e=>e.sidebarExpanded),Ub=()=>it(e=>e.wsStatus),G={success:(e,t)=>it.getState().toast.success(e,t),error:(e,t)=>it.getState().toast.error(e,t),warning:(e,t)=>it.getState().toast.warning(e,t),info:(e,t)=>it.getState().toast.info(e,t),dismiss:e=>it.getState().dismissToast(e),clear:()=>it.getState().clearToasts()},Pr="orc_dependency_status_filter",eu="dependency_status",vf=[{value:"all",label:"All tasks"},{value:"ready",label:"Ready"},{value:"blocked",label:"Blocked"},{value:"none",label:"No dependencies"}];function Lb(){if(typeof window>"u")return null;try{const e=localStorage.getItem(Pr);return e&&["all","blocked","ready","none"].includes(e)?e:null}catch{return null}}function li(e){if(!(typeof window>"u"))try{e&&e!=="all"?localStorage.setItem(Pr,e):localStorage.removeItem(Pr)}catch{}}function fv(){if(typeof window>"u")return null;try{const t=new URLSearchParams(window.location.search).get(eu);return t&&["blocked","ready","none"].includes(t)?t:null}catch{return null}}function gf(e,t=!1){if(!(typeof window>"u"))try{const a=new URL(window.location.href);e&&e!=="all"?a.searchParams.set(eu,e):a.searchParams.delete(eu),a.href!==window.location.href&&(t?window.history.replaceState({...history.state,dependencyStatus:e},"",a.href):window.history.pushState({...history.state,dependencyStatus:e},"",a.href))}catch{}}function Hb(){const e=fv();if(e)return e;const t=Lb();return t||"all"}const Bb={currentDependencyStatus:"all",_isHandlingPopState:!1},vo=ms()(ps((e,t)=>({...Bb,selectDependencyStatus:a=>{const n=a??"all",{_isHandlingPopState:l}=t();e({currentDependencyStatus:n}),li(n),l||gf(n,!1)},handlePopState:a=>{var i;const n=((i=a.state)==null?void 0:i.dependencyStatus)??fv()??"all",{currentDependencyStatus:l}=t();n!==l&&(e({_isHandlingPopState:!0}),e({currentDependencyStatus:n}),li(n),e({_isHandlingPopState:!1}))},initializeFromUrl:()=>{const a=Hb();e({currentDependencyStatus:a}),li(a),a!=="all"&&gf(a,!0)}})));vo.subscribe(e=>e.currentDependencyStatus,e=>{li(e)});const hv=()=>vo(e=>e.currentDependencyStatus);function go(){var t;if(typeof navigator>"u")return!1;const e=navigator;return(t=e.userAgentData)!=null&&t.platform?e.userAgentData.platform.toLowerCase()==="macos":/Mac|iPod|iPhone|iPad/.test(navigator.userAgent)}function qb(){return go()?"":"Shift+Alt"}function Gb(){return go()?"":"Shift+Alt+"}function mv(e,t=!0){return t?`${Gb()}${e}`:e}const Yb=[{label:"Dashboard",href:"/dashboard",icon:"dashboard"},{label:"Tasks",href:"/",icon:"tasks"},{label:"Board",href:"/board",icon:"board"}],Us={label:"Overview",href:"/environment",icon:"layers"},$b=[{label:"Claude Code",icon:"terminal",basePath:"/environment/claude",items:[{label:"Skills",href:"/environment/claude/skills",icon:"skills"},{label:"Hooks",href:"/environment/claude/hooks",icon:"hooks"},{label:"Agents",href:"/environment/claude/agents",icon:"agents"},{label:"Tools",href:"/environment/claude/tools",icon:"tools"},{label:"MCP Servers",href:"/environment/claude/mcp",icon:"mcp"}]},{label:"Orchestrator",icon:"layers",basePath:"/environment/orchestrator",items:[{label:"Prompts",href:"/environment/orchestrator/prompts",icon:"prompts"},{label:"Scripts",href:"/environment/orchestrator/scripts",icon:"scripts"},{label:"Automation",href:"/environment/orchestrator/automation",icon:"config"},{label:"Export",href:"/environment/orchestrator/export",icon:"export"},{label:"Knowledge",href:"/environment/knowledge",icon:"database"}]}],Ls={label:"Documentation",href:"/environment/docs",icon:"file-text"},pl={label:"Preferences",href:"/preferences",icon:"user"},pv="orc-sidebar-sections",vv="orc-sidebar-groups";function yf(){const e=new Set(["initiatives"]);if(typeof window>"u")return{sections:e,groups:new Set};try{const t=localStorage.getItem(pv),a=localStorage.getItem(vv);return{sections:t?new Set(JSON.parse(t)):e,groups:a?new Set(JSON.parse(a)):new Set}}catch{return{sections:e,groups:new Set}}}function Qb(e,t){if(!(typeof window>"u"))try{localStorage.setItem(pv,JSON.stringify([...e])),localStorage.setItem(vv,JSON.stringify([...t]))}catch{}}function Vb({onNewInitiative:e}){const t=_t(),a=Rb(),n=it(x=>x.toggleSidebar),l=mo(),i=po(),c=Me(x=>x.selectInitiative),r=Me(x=>x.getInitiativeProgress),o=Ke(x=>x.tasks),[f,p]=u.useState(()=>yf().sections),[h,m]=u.useState(()=>yf().groups);u.useEffect(()=>{Qb(f,h)},[f,h]);const g=u.useMemo(()=>[...l].sort((x,E)=>x.status==="active"&&E.status!=="active"?-1:E.status==="active"&&x.status!=="active"?1:new Date(E.updated_at).getTime()-new Date(x.updated_at).getTime()),[l]),b=u.useMemo(()=>r(o),[r,o]),j=u.useCallback(x=>{p(E=>{const k=new Set(E);return k.has(x)?k.delete(x):k.add(x),k})},[]),N=u.useCallback(x=>{m(E=>{const k=new Set(E);return k.has(x)?k.delete(x):k.add(x),k})},[]),v=u.useCallback(x=>{const E=t.pathname;return x==="/"?E==="/"||E.startsWith("/tasks"):x==="/dashboard"?E==="/dashboard":x==="/environment"?E==="/environment":E.startsWith(x)},[t.pathname]),d=u.useCallback(x=>t.pathname.startsWith(x),[t.pathname]),y=u.useCallback((x,E)=>{E.preventDefault(),c(x)},[c]),S=u.useCallback(x=>b.get(x)||{completed:0,total:0},[b]);return s.jsxs("aside",{className:`sidebar ${a?"expanded":""}`,role:"navigation","aria-label":"Main navigation",children:[s.jsxs("div",{className:"logo-section",children:[a&&s.jsxs(Re,{to:"/",className:"logo",children:[s.jsx("span",{className:"logo-icon",children:">_"}),s.jsx("span",{className:"logo-text",children:"ORC"})]}),s.jsx("button",{className:"toggle-btn",onClick:n,title:a?"Collapse sidebar":"Expand sidebar","aria-label":a?"Collapse sidebar":"Expand sidebar",children:s.jsx(_,{name:a?"panel-left-close":"panel-left-open",size:18})})]}),s.jsxs("div",{className:"nav-container",children:[s.jsxs("nav",{className:"nav-section",children:[a&&s.jsx("div",{className:"section-header",children:"Work"}),s.jsx("ul",{className:"nav-list",children:Yb.map(x=>s.jsx("li",{children:s.jsxs(Re,{to:x.href,end:x.href==="/",className:`nav-item ${v(x.href)?"active":""}`,title:a?void 0:x.label,children:[s.jsx("span",{className:"nav-icon",children:s.jsx(_,{name:x.icon,size:18})}),a&&s.jsx("span",{className:"nav-label",children:x.label})]})},x.href))})]}),a&&s.jsxs("nav",{className:"nav-section initiatives-section",children:[s.jsxs("button",{className:"section-header clickable",onClick:()=>j("initiatives"),"aria-expanded":f.has("initiatives"),children:[s.jsx("span",{children:"Initiatives"}),s.jsx(_,{name:f.has("initiatives")?"chevron-down":"chevron-right",size:14})]}),f.has("initiatives")&&s.jsxs("ul",{className:"nav-list initiative-list",children:[s.jsx("li",{children:s.jsxs("a",{href:"/",className:`nav-item initiative-item ${i===null?"active":""}`,onClick:x=>y(null,x),children:[s.jsx("span",{className:`initiative-indicator ${i===null?"selected":""}`,children:s.jsx("span",{className:`indicator-dot ${i===null?"filled":""}`})}),s.jsx("span",{className:"nav-label",children:"All Tasks"})]})}),g.map(x=>{const E=S(x.id);return s.jsx("li",{children:s.jsxs("a",{href:`/?initiative=${x.id}`,className:`nav-item initiative-item ${i===x.id?"active":""}`,onClick:k=>y(x.id,k),title:x.title,children:[s.jsx("span",{className:`initiative-indicator ${i===x.id?"selected":""}`,children:s.jsx("span",{className:`indicator-dot ${i===x.id?"filled":""}`})}),s.jsx("span",{className:"nav-label initiative-title",children:x.title}),x.status!=="active"?s.jsx("span",{className:`initiative-status-badge status-${x.status}`,children:x.status}):E.total>0?s.jsxs("span",{className:"initiative-progress",children:["(",E.completed,"/",E.total,")"]}):null]})},x.id)}),e&&s.jsx("li",{children:s.jsxs("button",{className:"nav-item new-initiative-btn",onClick:e,title:"Create new initiative",children:[s.jsx("span",{className:"nav-icon",children:s.jsx(_,{name:"plus",size:14})}),s.jsx("span",{className:"nav-label",children:"New Initiative"})]})})]})]}),s.jsx("div",{className:"nav-divider"}),s.jsxs("nav",{className:"nav-section environment-section",children:[a?s.jsxs("button",{className:"section-header clickable",onClick:()=>j("environment"),"aria-expanded":f.has("environment"),children:[s.jsx("span",{children:"Environment"}),s.jsx(_,{name:f.has("environment")?"chevron-down":"chevron-right",size:14})]}):s.jsx(Re,{to:"/environment",className:`nav-item ${t.pathname.startsWith("/environment")?"active":""}`,title:"Environment",children:s.jsx("span",{className:"nav-icon",children:s.jsx(_,{name:"layers",size:18})})}),a&&f.has("environment")&&s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"nav-list",children:s.jsx("li",{children:s.jsxs(Re,{to:Us.href,end:!0,className:`nav-item sub-item ${v(Us.href)?"active":""}`,children:[s.jsx("span",{className:"nav-icon",children:s.jsx(_,{name:Us.icon,size:16})}),s.jsx("span",{className:"nav-label",children:Us.label})]})})}),$b.map(x=>s.jsxs("div",{className:"nav-group",children:[s.jsxs("button",{className:`group-header ${d(x.basePath)?"active":""}`,onClick:()=>N(x.label),"aria-expanded":h.has(x.label),children:[s.jsx("span",{className:"group-icon",children:s.jsx(_,{name:x.icon,size:16})}),s.jsx("span",{className:"group-label",children:x.label}),s.jsx(_,{name:h.has(x.label)?"chevron-down":"chevron-right",size:12})]}),h.has(x.label)&&s.jsx("ul",{className:"nav-list nested",children:x.items.map(E=>s.jsx("li",{children:s.jsxs(Re,{to:E.href,className:`nav-item nested-item ${v(E.href)?"active":""}`,children:[s.jsx("span",{className:"nav-icon",children:s.jsx(_,{name:E.icon,size:14})}),s.jsx("span",{className:"nav-label",children:E.label})]})},E.href))})]},x.label)),s.jsx("ul",{className:"nav-list",children:s.jsx("li",{children:s.jsxs(Re,{to:Ls.href,className:`nav-item sub-item ${v(Ls.href)?"active":""}`,children:[s.jsx("span",{className:"nav-icon",children:s.jsx(_,{name:Ls.icon,size:16})}),s.jsx("span",{className:"nav-label",children:Ls.label})]})})})]})]})]}),s.jsxs("div",{className:"bottom-section",children:[s.jsx("div",{className:"nav-divider"}),s.jsx("nav",{className:"nav-section",children:s.jsx("ul",{className:"nav-list",children:s.jsx("li",{children:s.jsxs(Re,{to:pl.href,className:`nav-item ${v(pl.href)?"active":""}`,title:a?void 0:pl.label,children:[s.jsx("span",{className:"nav-icon",children:s.jsx(_,{name:pl.icon,size:18})}),a&&s.jsx("span",{className:"nav-label",children:pl.label})]})})})})]}),a&&s.jsxs("div",{className:"keyboard-hint",children:[s.jsx("kbd",{children:mv("B")})," to toggle"]})]})}function Xb({onProjectClick:e,onNewTask:t,onCommandPalette:a}){const n=_t(),l=Sb(),i=qb(),c=Kb(n.pathname);return s.jsxs("header",{className:"header",children:[s.jsxs("div",{className:"header-left",children:[s.jsxs("button",{className:"project-btn",onClick:e,title:`Switch project (${i}+P)`,children:[s.jsx("span",{className:"project-icon",children:s.jsx(_,{name:"folder",size:16})}),s.jsx("span",{className:"project-name",children:(l==null?void 0:l.name)||"Select project"}),s.jsx("span",{className:"project-chevron",children:s.jsx(_,{name:"chevron-down",size:12})})]}),s.jsxs("div",{className:"page-info",children:[s.jsx("span",{className:"separator",children:"/"}),s.jsx("h1",{className:"page-title",children:c})]})]}),s.jsxs("div",{className:"header-right",children:[s.jsxs("button",{className:"cmd-hint",onClick:a,title:`Command palette (${i}+K)`,children:[s.jsx("span",{className:"cmd-hint-label",children:"Commands"}),s.jsx("kbd",{children:mv("K")})]}),t&&s.jsxs("button",{className:"primary new-task-btn",onClick:t,children:[s.jsx(_,{name:"plus",size:16}),"New Task"]})]})]})}function Kb(e){if(e==="/"||e.startsWith("/tasks"))return e.startsWith("/tasks/")?"Task Details":"Tasks";const t=e.split("/")[1];return{board:"Board",dashboard:"Dashboard",prompts:"Prompts",claudemd:"CLAUDE.md",skills:"Skills",hooks:"Hooks",mcp:"MCP Servers",tools:"Tools",agents:"Agents",scripts:"Scripts",settings:"Settings",config:"Configuration",preferences:"Preferences",environment:"Environment",initiatives:"Initiative"}[t]||t}function Zb(){const[e,t]=fo(),a=_t(),n=Ye(m=>m.currentProjectId),l=Ye(m=>m.selectProject),i=Me(m=>m.currentInitiativeId),c=Me(m=>m.selectInitiative),r=u.useRef(!1),o=u.useRef(!1),f=e.get("project"),p=e.get("initiative"),h=a.pathname==="/"||a.pathname==="/board";return u.useEffect(()=>{o.current||(r.current=!0,f!==n&&l(f),h&&p!==i&&c(p),setTimeout(()=>{r.current=!1},0))},[f,p,n,i,l,c,h]),u.useEffect(()=>{if(r.current)return;o.current=!0;const m=new URLSearchParams(e);let g=!1;n&&n!==f?(m.set("project",n),g=!0):!n&&f&&(m.delete("project"),g=!0),h&&(i&&i!==p?(m.set("initiative",i),g=!0):!i&&p&&(m.delete("initiative"),g=!0)),g&&t(m,{replace:!0}),setTimeout(()=>{o.current=!1},0)},[n,i,e,t,f,p,h]),null}const xf={critical:0,high:1,normal:2,low:3},gv={critical:{label:"Critical",color:"var(--status-error)"},high:{label:"High",color:"var(--status-warning)"},normal:{label:"Normal",color:"var(--text-muted)"},low:{label:"Low",color:"var(--text-muted)"}},Jb={feature:{label:"Feature",color:"var(--status-success)",icon:""},bug:{label:"Bug",color:"var(--status-error)",icon:""},refactor:{label:"Refactor",color:"var(--status-info)",icon:""},chore:{label:"Chore",color:"var(--text-muted)",icon:""},docs:{label:"Docs",color:"var(--status-warning)",icon:""},test:{label:"Test",color:"var(--accent-secondary)",icon:""}},Ll="*";class Fb{constructor(t){Ce(this,"ws",null);Ce(this,"taskId",null);Ce(this,"primarySubscription",null);Ce(this,"listeners",new Map);Ce(this,"statusListeners",new Set);Ce(this,"reconnectAttempts",0);Ce(this,"maxReconnects",5);Ce(this,"reconnectDelay",1e3);Ce(this,"reconnectTimer",null);Ce(this,"pingInterval",null);Ce(this,"status","disconnected");Ce(this,"url");const a=window.location.protocol==="https:"?"wss:":"ws:",n=t||window.location.host;this.url=`${a}//${n}/api/ws`}connect(t){var a;if(((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN){t&&this.subscribe(t);return}this.setStatus("connecting"),this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.setStatus("connected"),this.reconnectAttempts=0,t&&this.subscribe(t),this.startPingInterval()},this.ws.onmessage=n=>{try{const l=JSON.parse(n.data);this.handleMessage(l)}catch(l){console.error("Failed to parse WebSocket message:",l)}},this.ws.onclose=()=>{this.setStatus("disconnected"),this.stopPingInterval(),this.attemptReconnect()},this.ws.onerror=n=>{console.error("WebSocket error:",n),this.notifyListeners("error",{type:"error",error:"Connection error"})}}disconnect(){this.clearReconnectTimer(),this.stopPingInterval(),this.ws&&(this.ws.close(),this.ws=null),this.taskId=null,this.primarySubscription=null,this.setStatus("disconnected")}subscribe(t){if(!this.ws||this.ws.readyState!==WebSocket.OPEN){this.taskId=t;return}this.taskId=t,this.send({type:"subscribe",task_id:t})}subscribeGlobal(){this.primarySubscription=Ll,this.subscribe(Ll)}setPrimarySubscription(t){this.primarySubscription=t}getPrimarySubscription(){return this.primarySubscription}isGlobalSubscription(){return this.taskId===Ll}unsubscribe(){var t;((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN&&this.taskId&&this.send({type:"unsubscribe",task_id:this.taskId}),this.taskId=null}command(t,a){this.send({type:"command",task_id:t,action:a})}pause(t){this.command(t,"pause")}resume(t){this.command(t,"resume")}cancel(t){this.command(t,"cancel")}on(t,a){const n=t==="all"?"*":t;return this.listeners.has(n)||this.listeners.set(n,new Set),this.listeners.get(n).add(a),()=>{var l;(l=this.listeners.get(n))==null||l.delete(a)}}onStatusChange(t){return this.statusListeners.add(t),t(this.status),()=>this.statusListeners.delete(t)}getStatus(){return this.status}getTaskId(){return this.taskId}isConnected(){var t;return((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN}send(t){var a;((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN&&this.ws.send(JSON.stringify(t))}handleMessage(t){const a=t;switch(a.type){case"event":this.notifyListeners(a.event,a);break;case"subscribed":console.log("Subscribed to task:",a.task_id);break;case"command_result":console.log("Command result:",a);break;case"error":this.notifyListeners("error",{type:"error",error:String(a.error||"Unknown error")});break;default:console.log("Unknown message type:",a)}}notifyListeners(t,a){var n,l;(n=this.listeners.get(t))==null||n.forEach(i=>i(a)),(l=this.listeners.get("*"))==null||l.forEach(i=>i(a))}setStatus(t){this.status=t,this.statusListeners.forEach(a=>a(t))}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnects){console.log("Max reconnect attempts reached");return}this.setStatus("reconnecting"),this.reconnectAttempts++;const t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Reconnecting in ${t}ms (attempt ${this.reconnectAttempts})`),this.reconnectTimer=setTimeout(()=>{const a=this.primarySubscription||this.taskId||void 0;this.connect(a)},t)}clearReconnectTimer(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}startPingInterval(){this.pingInterval=setInterval(()=>{var t;((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN&&this.send({type:"ping"})},3e4)}stopPingInterval(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}}const yv=u.createContext(null);function Wb({children:e,baseUrl:t,autoConnect:a=!0,autoSubscribeGlobal:n=!0}){const l=u.useRef(null),[i,c]=u.useState("disconnected"),r=it(N=>N.setWsStatus);u.useEffect(()=>{l.current=new Fb(t);const N=l.current.onStatusChange(d=>{c(d),r(d)}),v=l.current.on("all",d=>{"event"in d?Ib(d):d.type==="error"&&Pb(d)});return a&&(n?(l.current.setPrimarySubscription(Ll),l.current.connect(Ll)):l.current.connect()),()=>{var d;N(),v(),(d=l.current)==null||d.disconnect(),l.current=null}},[t,a,n]);const o=u.useCallback(N=>{var v;(v=l.current)==null||v.subscribe(N)},[]),f=u.useCallback(()=>{var N;(N=l.current)==null||N.unsubscribe()},[]),p=u.useCallback(()=>{var N;(N=l.current)==null||N.subscribeGlobal()},[]),h=u.useCallback((N,v)=>l.current?l.current.on(N,v):()=>{},[]),m=u.useCallback((N,v)=>{var d;(d=l.current)==null||d.command(N,v)},[]),g=u.useCallback(()=>{var N;return((N=l.current)==null?void 0:N.isConnected())??!1},[]),b=u.useCallback(()=>{var N;return((N=l.current)==null?void 0:N.getTaskId())??null},[]),j=u.useMemo(()=>({status:i,subscribe:o,unsubscribe:f,subscribeGlobal:p,on:h,command:m,isConnected:g,getTaskId:b}),[i,o,f,p,h,m,g,b]);return s.jsx(yv.Provider,{value:j,children:e})}function xv(){const e=u.useContext(yv);if(!e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e}function Ib(e){const{event:t,task_id:a,data:n}=e,l=Ke.getState();switch(t){case"state":{const i=n;l.updateTaskState(a,i);break}case"phase":{const i=n,c=l.getTaskState(a);c&&l.updateTaskState(a,{...c,current_phase:i.phase}),l.updateTask(a,{current_phase:i.phase});break}case"tokens":{const i=n,c=l.getTaskState(a);c&&l.updateTaskState(a,{...c,tokens:i});break}case"complete":{const i=n;l.updateTaskStatus(a,i.status,i.phase);break}case"finalize":{const i=n;i.status==="running"?l.updateTaskStatus(a,"finalizing"):i.status==="completed"?l.updateTaskStatus(a,"finished"):i.status==="failed"&&l.updateTaskStatus(a,"failed");break}case"task_created":{const i=n;l.addTask(i);break}case"task_updated":{const i=n;l.updateTask(a,i);break}case"task_deleted":{l.removeTask(a),G.info(`Task ${a} was deleted`);break}case"initiative_created":{const i=n;Me.getState().addInitiative(i);break}case"initiative_updated":{const i=n;Me.getState().updateInitiative(i.id,i);break}case"initiative_deleted":{Me.getState().removeInitiative(a),G.info(`Initiative ${a} was deleted`);break}case"error":{const i=n;G.error(i.message||"An error occurred");break}case"transcript":break;default:console.log("Unhandled WebSocket event:",t,n)}}function Pb(e){console.error("WebSocket error:",e.error),G.error(`WebSocket: ${e.error}`)}function e0(e){const{on:t,status:a}=xv(),n=Ke(o=>e?o.taskStates.get(e):void 0),[l,i]=u.useState([]),[c,r]=u.useState(!1);return u.useEffect(()=>{if(!e){r(!1),i([]);return}if(a==="disconnected")return;i([]);const o=t("transcript",p=>{if("event"in p&&p.task_id===e){const h=p.data;i(m=>[...m,h])}}),f=t("state",p=>{"event"in p&&p.task_id});return r(!0),()=>{o(),f(),r(!1)}},[e,t,a]),{state:n,transcript:l,isSubscribed:c,connectionStatus:a,clearTranscript:u.useCallback(()=>i([]),[])}}class t0{constructor(){Ce(this,"shortcuts",new Map);Ce(this,"sequences",[]);Ce(this,"sequenceBuffer",[]);Ce(this,"sequenceTimeout",null);Ce(this,"enabled",!0);Ce(this,"currentContext","global");Ce(this,"boundHandleKeydown");this.boundHandleKeydown=this.handleKeydown.bind(this),typeof window<"u"&&window.addEventListener("keydown",this.boundHandleKeydown)}register(t){const a=this.normalizeKey(t.key,t.modifiers);return this.shortcuts.set(a,t),()=>this.shortcuts.delete(a)}registerSequence(t){return this.sequences.push(t),()=>{const a=this.sequences.indexOf(t);a!==-1&&this.sequences.splice(a,1)}}setContext(t){this.currentContext=t}getContext(){return this.currentContext}setEnabled(t){this.enabled=t}isEnabled(){return this.enabled}getShortcuts(){const t=[];for(const[a,n]of this.shortcuts)t.push({key:this.formatKey(a),description:n.description,context:n.context||"global"});for(const a of this.sequences)t.push({key:a.keys.join(" "),description:a.description,context:a.context||"global"});return t}handleKeydown(t){if(!this.enabled)return;const a=t.target;if(this.isInputElement(a)&&t.key!=="Escape")return;const n=this.getKeyString(t);if(this.handleSequence(n)){t.preventDefault();return}const l=this.normalizeKey(t.key.toLowerCase(),this.getModifiers(t)),i=this.shortcuts.get(l);i&&this.matchesContext(i.context)&&(t.preventDefault(),i.action())}handleSequence(t){this.sequenceBuffer.push(t),this.sequenceTimeout&&clearTimeout(this.sequenceTimeout);const a=this.sequenceBuffer.join(" ");for(const n of this.sequences){if(!this.matchesContext(n.context))continue;const l=n.keys.join(" ");if(l===a)return this.clearSequenceBuffer(),n.action(),!0;if(l.startsWith(a))return this.sequenceTimeout=setTimeout(()=>{this.clearSequenceBuffer()},1e3),!1}return this.clearSequenceBuffer(),!1}clearSequenceBuffer(){this.sequenceBuffer=[],this.sequenceTimeout&&(clearTimeout(this.sequenceTimeout),this.sequenceTimeout=null)}matchesContext(t){return!t||t==="global"?!0:t===this.currentContext}isInputElement(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}getKeyString(t){return t.key.toLowerCase()}getModifiers(t){const a=[];return t.ctrlKey&&a.push("ctrl"),t.metaKey&&a.push("meta"),t.shiftKey&&!this.isShiftedCharacter(t.key)&&a.push("shift"),t.altKey&&a.push("alt"),a}isShiftedCharacter(t){return'~!@#$%^&*()_+{}|:"<>?'.includes(t)}normalizeKey(t,a){return[...a?[...a].sort():[],t.toLowerCase()].join("+")}formatKey(t){return t.split("+").map(n=>{switch(n){case"meta":return"";case"ctrl":return"Ctrl";case"shift":return"";case"alt":return typeof navigator<"u"&&/Mac|iPod|iPhone|iPad/.test(navigator.userAgent)?"":"Alt";default:return n.toUpperCase()}}).join(" + ")}destroy(){typeof window<"u"&&window.removeEventListener("keydown",this.boundHandleKeydown)}}let Qc=null;function yo(){return Qc||(Qc=new t0),Qc}const Ee={COMMAND_PALETTE:{key:"k",modifiers:["shift","alt"],description:"Open command palette"},NEW_TASK:{key:"n",modifiers:["shift","alt"],description:"Create new task"},TOGGLE_SIDEBAR:{key:"b",modifiers:["shift","alt"],description:"Toggle sidebar"},PROJECT_SWITCHER:{key:"p",modifiers:["shift","alt"],description:"Switch project"},SEARCH:{key:"/",description:"Focus search"},HELP:{key:"?",description:"Show keyboard shortcuts"},ESCAPE:{key:"escape",description:"Close overlay / Cancel"},GO_DASHBOARD:{keys:["g","d"],description:"Go to dashboard"},GO_TASKS:{keys:["g","t"],description:"Go to tasks"},GO_ENVIRONMENT:{keys:["g","e"],description:"Go to environment"},GO_PREFERENCES:{keys:["g","r"],description:"Go to preferences"},GO_PROMPTS:{keys:["g","p"],description:"Go to prompts"},GO_HOOKS:{keys:["g","h"],description:"Go to hooks"},GO_SKILLS:{keys:["g","k"],description:"Go to skills"},TASK_NAV_DOWN:{key:"j",context:"tasks",description:"Select next task"},TASK_NAV_UP:{key:"k",context:"tasks",description:"Select previous task"},TASK_OPEN:{key:"enter",context:"tasks",description:"Open selected task"},TASK_RUN:{key:"r",context:"tasks",description:"Run selected task"},TASK_PAUSE:{key:"p",context:"tasks",description:"Pause selected task"},TASK_DELETE:{key:"d",context:"tasks",description:"Delete selected task"}};function a0(e){const t=yo(),a=[];return e.onCommandPalette&&a.push(t.register({...Ee.COMMAND_PALETTE,action:e.onCommandPalette})),e.onNewTask&&a.push(t.register({...Ee.NEW_TASK,action:e.onNewTask})),e.onToggleSidebar&&a.push(t.register({...Ee.TOGGLE_SIDEBAR,action:e.onToggleSidebar})),e.onProjectSwitcher&&a.push(t.register({...Ee.PROJECT_SWITCHER,action:e.onProjectSwitcher})),e.onSearch&&a.push(t.register({...Ee.SEARCH,action:e.onSearch})),e.onHelp&&a.push(t.register({...Ee.HELP,action:e.onHelp})),e.onEscape&&a.push(t.register({...Ee.ESCAPE,action:e.onEscape})),e.onGoDashboard&&a.push(t.registerSequence({...Ee.GO_DASHBOARD,action:e.onGoDashboard})),e.onGoTasks&&a.push(t.registerSequence({...Ee.GO_TASKS,action:e.onGoTasks})),e.onGoEnvironment&&a.push(t.registerSequence({...Ee.GO_ENVIRONMENT,action:e.onGoEnvironment})),e.onGoPreferences&&a.push(t.registerSequence({...Ee.GO_PREFERENCES,action:e.onGoPreferences})),e.onGoPrompts&&a.push(t.registerSequence({...Ee.GO_PROMPTS,action:e.onGoPrompts})),e.onGoHooks&&a.push(t.registerSequence({...Ee.GO_HOOKS,action:e.onGoHooks})),e.onGoSkills&&a.push(t.registerSequence({...Ee.GO_SKILLS,action:e.onGoSkills})),()=>{a.forEach(n=>n())}}function n0(e){const t=yo();t.setContext("tasks");const a=[];return e.onNavDown&&a.push(t.register({...Ee.TASK_NAV_DOWN,action:e.onNavDown})),e.onNavUp&&a.push(t.register({...Ee.TASK_NAV_UP,action:e.onNavUp})),e.onOpen&&a.push(t.register({...Ee.TASK_OPEN,action:e.onOpen})),e.onRun&&a.push(t.register({...Ee.TASK_RUN,action:e.onRun})),e.onPause&&a.push(t.register({...Ee.TASK_PAUSE,action:e.onPause})),e.onDelete&&a.push(t.register({...Ee.TASK_DELETE,action:e.onDelete})),()=>{t.setContext("global"),a.forEach(n=>n())}}const l0=u.createContext(null);function s0({children:e}){const t=yo(),a={registerShortcut:u.useCallback(n=>t.register(n),[t]),registerSequence:u.useCallback(n=>t.registerSequence(n),[t]),setContext:u.useCallback(n=>t.setContext(n),[t]),getContext:u.useCallback(()=>t.getContext(),[t]),setEnabled:u.useCallback(n=>t.setEnabled(n),[t]),isEnabled:u.useCallback(()=>t.isEnabled(),[t]),getShortcuts:u.useCallback(()=>t.getShortcuts(),[t])};return s.jsx(l0.Provider,{value:a,children:e})}function i0(e={}){const t=At(),a=it(n=>n.toggleSidebar);u.useEffect(()=>a0({onCommandPalette:e.onCommandPalette,onNewTask:e.onNewTask,onToggleSidebar:a,onProjectSwitcher:e.onProjectSwitcher,onSearch:e.onSearch,onHelp:e.onHelp,onEscape:e.onEscape,onGoDashboard:()=>t("/dashboard"),onGoTasks:()=>t("/"),onGoEnvironment:()=>t("/environment/settings"),onGoPreferences:()=>t("/preferences"),onGoPrompts:()=>t("/environment/prompts"),onGoHooks:()=>t("/environment/hooks"),onGoSkills:()=>t("/environment/skills")}),[t,a,e.onCommandPalette,e.onNewTask,e.onProjectSwitcher,e.onSearch,e.onHelp,e.onEscape])}function c0(e){u.useEffect(()=>n0({onNavDown:e.onNavDown,onNavUp:e.onNavUp,onOpen:e.onOpen,onRun:e.onRun,onPause:e.onPause,onDelete:e.onDelete}),[e.onNavDown,e.onNavUp,e.onOpen,e.onRun,e.onPause,e.onDelete])}const r0={sm:"max-width-sm",md:"max-width-md",lg:"max-width-lg",xl:"max-width-xl"},bf='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';function _n({open:e,onClose:t,size:a="md",title:n,showClose:l=!0,children:i}){const c=u.useRef(null),r=u.useRef(null),o=u.useCallback(m=>{m.key==="Escape"&&(m.preventDefault(),t())},[t]),f=u.useCallback(m=>{if(m.key!=="Tab"||!c.current)return;const g=c.current.querySelectorAll(bf),b=g[0],j=g[g.length-1];b&&(m.shiftKey?document.activeElement===b&&(m.preventDefault(),j==null||j.focus()):document.activeElement===j&&(m.preventDefault(),b==null||b.focus()))},[]);u.useEffect(()=>{if(!e)return;r.current=document.activeElement,requestAnimationFrame(()=>{if(!c.current)return;const b=c.current.querySelectorAll(bf);b.length>0?b[0].focus():c.current.focus()}),window.addEventListener("keydown",o),window.addEventListener("keydown",f);const g=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",o),window.removeEventListener("keydown",f),document.body.style.overflow=g,r.current&&r.current.focus&&r.current.focus()}},[e,o,f]);const p=m=>{m.target===m.currentTarget&&t()};if(!e)return null;const h=s.jsx("div",{ref:c,className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,tabIndex:-1,onClick:p,children:s.jsxs("div",{className:`modal-content ${r0[a]}`,children:[(n||l)&&s.jsxs("div",{className:"modal-header",children:[n&&s.jsx("h2",{id:"modal-title",className:"modal-title",children:n}),l&&s.jsx("button",{className:"modal-close",onClick:t,"aria-label":"Close modal",title:"Close (Esc)",children:s.jsx(_,{name:"close",size:18})})]}),s.jsx("div",{className:"modal-body",children:i})]})});return cu.createPortal(h,document.body)}function u0(){return go()?"":"Shift+Alt+"}function o0(){const e=u0();return[{name:"Global",shortcuts:[{keys:`${e}K`,description:"Open command palette"},{keys:`${e}N`,description:"Create new task"},{keys:`${e}B`,description:"Toggle sidebar"},{keys:`${e}P`,description:"Switch project"},{keys:"/",description:"Focus search"},{keys:"?",description:"Show this help"},{keys:"Esc",description:"Close overlay"}]},{name:"Navigation",shortcuts:[{keys:"g d",description:"Go to dashboard"},{keys:"g t",description:"Go to tasks"},{keys:"g e",description:"Go to environment"},{keys:"g r",description:"Go to preferences"},{keys:"g p",description:"Go to prompts"},{keys:"g h",description:"Go to hooks"},{keys:"g k",description:"Go to skills"}]},{name:"Task List",shortcuts:[{keys:"j",description:"Select next task"},{keys:"k",description:"Select previous task"},{keys:"Enter",description:"Open selected task"},{keys:"r",description:"Run selected task"},{keys:"p",description:"Pause selected task"},{keys:"d",description:"Delete selected task"}]}]}function d0({open:e,onClose:t}){const a=u.useMemo(()=>o0(),[]);return s.jsx(_n,{open:e,onClose:t,title:"Keyboard Shortcuts",size:"md",children:s.jsx("div",{className:"shortcuts-help",children:a.map(n=>s.jsxs("section",{className:"category",children:[s.jsx("h3",{className:"category-title",children:n.name}),s.jsx("div",{className:"shortcuts-list",children:n.shortcuts.map(l=>s.jsxs("div",{className:"shortcut-row",children:[s.jsx("div",{className:"shortcut-keys",children:l.keys.split(" ").map((i,c)=>s.jsx("kbd",{className:"key",children:i},c))}),s.jsx("span",{className:"shortcut-description",children:l.description})]},l.keys))})]},n.name))})})}function f0({open:e,onClose:t}){const a=Ye(d=>d.projects),n=ho(),l=Ye(d=>d.selectProject),i=Ye(d=>d.loading),c=Ye(d=>d.error),[r,o]=u.useState(""),[f,p]=u.useState(0),h=u.useRef(null),m=u.useMemo(()=>{if(!r.trim())return a;const d=r.toLowerCase();return a.filter(y=>y.name.toLowerCase().includes(d)||y.path.toLowerCase().includes(d))},[a,r]),g=u.useMemo(()=>a.find(d=>d.id===n),[a,n]);u.useEffect(()=>{e&&(o(""),p(0),requestAnimationFrame(()=>{var d;(d=h.current)==null||d.focus()}))},[e]),u.useEffect(()=>{p(0)},[r]);const b=u.useCallback(d=>{l(d),t()},[l,t]),j=u.useCallback(d=>{switch(d.key){case"ArrowDown":d.preventDefault(),p(y=>Math.min(y+1,m.length-1));break;case"ArrowUp":d.preventDefault(),p(y=>Math.max(y-1,0));break;case"Enter":d.preventDefault(),m[f]&&b(m[f].id);break;case"Escape":d.preventDefault(),t();break}},[m,f,b,t]),N=u.useCallback(d=>{d.target===d.currentTarget&&t()},[t]);if(!e)return null;const v=s.jsx("div",{className:"switcher-backdrop",role:"dialog","aria-modal":"true","aria-label":"Switch project",tabIndex:-1,onClick:N,onKeyDown:j,children:s.jsxs("div",{className:"switcher-content",children:[s.jsxs("div",{className:"switcher-header",children:[s.jsx("h2",{children:"Switch Project"}),s.jsx("button",{className:"close-btn",onClick:t,"aria-label":"Close",title:"Close (Esc)",children:s.jsx(_,{name:"close",size:16})})]}),g&&s.jsxs("div",{className:"current-project",children:[s.jsx("span",{className:"current-label",children:"Current"}),s.jsxs("div",{className:"current-info",children:[s.jsx("span",{className:"current-name",children:g.name}),s.jsx("span",{className:"current-path",children:g.path})]})]}),s.jsxs("div",{className:"switcher-search",children:[s.jsx(_,{name:"search",size:16,className:"search-icon"}),s.jsx("input",{ref:h,type:"text",value:r,onChange:d=>o(d.target.value),placeholder:"Search projects...",className:"search-input","aria-label":"Search projects"})]}),s.jsx("div",{className:"project-list",children:i?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading projects..."})]}):c?s.jsxs("div",{className:"error-state",children:[s.jsx("span",{className:"error-icon",children:"!"}),s.jsx("span",{className:"error-message",children:c})]}):m.length===0?s.jsx("div",{className:"empty-state",children:r.trim()?s.jsxs("p",{children:['No projects match "',r,'"']}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"No projects registered"}),s.jsx("span",{className:"empty-hint",children:"Run `orc init` in a project directory"})]})}):m.map((d,y)=>s.jsxs("button",{className:`project-item ${y===f?"selected":""} ${d.id===n?"active":""}`,onClick:()=>b(d.id),onMouseEnter:()=>p(y),children:[s.jsx("div",{className:"project-icon",children:d.id===n?s.jsx(_,{name:"check",size:14}):s.jsx(_,{name:"folder",size:14})}),s.jsxs("div",{className:"project-info",children:[s.jsx("span",{className:"project-name",children:d.name}),s.jsx("span",{className:"project-path",children:d.path})]}),d.id===n&&s.jsx("span",{className:"active-badge",children:"Active"})]},d.id))}),s.jsxs("div",{className:"switcher-footer",children:[s.jsxs("div",{className:"footer-hint",children:[s.jsx("kbd",{children:""}),s.jsx("kbd",{children:""})," navigate"]}),s.jsxs("div",{className:"footer-hint",children:[s.jsx("kbd",{children:""})," select"]}),s.jsxs("div",{className:"footer-hint",children:[s.jsx("kbd",{children:"esc"})," close"]})]})]})});return cu.createPortal(v,document.body)}function h0(){const[e,t]=u.useState(!1),[a,n]=u.useState(!1),[l,i]=u.useState(!1),[c,r]=u.useState(!1),o=it(p=>p.sidebarExpanded),f=u.useCallback(()=>{t(!1),n(!1),i(!1),r(!1)},[]);return i0({onHelp:()=>t(!0),onEscape:f,onCommandPalette:()=>r(!0),onNewTask:()=>i(!0),onProjectSwitcher:()=>n(!0)}),s.jsxs("div",{className:`app-layout ${o?"sidebar-expanded":"sidebar-collapsed"}`,children:[s.jsx(Zb,{}),s.jsx(Vb,{}),s.jsxs("div",{className:"app-main",children:[s.jsx(Xb,{onProjectClick:()=>n(!0),onNewTask:()=>i(!0),onCommandPalette:()=>r(!0)}),s.jsx("main",{className:"app-content",children:s.jsx(lv,{})})]}),s.jsx(d0,{open:e,onClose:()=>t(!1)}),s.jsx(f0,{open:a,onClose:()=>n(!1)})]})}const Dt="/api";async function P(e,t){const a=await fetch(`${Dt}${e}`,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});if(!a.ok){const n=await a.json().catch(()=>({error:a.statusText}));throw new Error(n.error||"Request failed")}return a.json()}async function bv(e){return P("/tasks")}async function vs(e){return P(`/tasks/${e}`)}async function Ua(e,t){return P(`/tasks/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function m0(e){return P(`/tasks/${e}/plan`)}async function p0(e){return P(`/tasks/${e}/run`,{method:"POST"})}async function v0(e){return P(`/tasks/${e}/pause`,{method:"POST"})}async function g0(e){return P(`/tasks/${e}/resume`,{method:"POST"})}async function y0(e){const t=await fetch(`${Dt}/tasks/${e}`,{method:"DELETE"});if(!t.ok&&t.status!==204){const a=await t.json().catch(()=>({error:t.statusText}));throw new Error(a.error||"Failed to delete task")}}async function x0(e){return P(`/tasks/${e}/transcripts`)}async function b0(){return P("/projects")}async function j0(e){return P(`/projects/${e}/tasks`)}async function jv(e,t){return P(`/projects/${e}/tasks/${t}/run`,{method:"POST"})}async function Sv(e,t){return P(`/projects/${e}/tasks/${t}/pause`,{method:"POST"})}async function Nv(e,t){return P(`/projects/${e}/tasks/${t}/resume`,{method:"POST"})}async function S0(e,t){const a=await fetch(`${Dt}/projects/${e}/tasks/${t}`,{method:"DELETE"});if(!a.ok&&a.status!==204){const n=await a.json().catch(()=>({error:a.statusText}));throw new Error(n.error||"Failed to delete task")}}async function N0(e,t,a){return P(`/projects/${e}/tasks/${t}/escalate`,{method:"POST",body:JSON.stringify({reason:a})})}async function jf(){return P("/dashboard/stats")}async function C0(e){return P(`/tasks/${e}/review/comments`)}async function Sf(e,t){return P(`/tasks/${e}/review/comments`,{method:"POST",body:JSON.stringify(t)})}async function Nf(e,t,a){return P(`/tasks/${e}/review/comments/${t}`,{method:"PATCH",body:JSON.stringify(a)})}async function E0(e,t){const a=await fetch(`${Dt}/tasks/${e}/review/comments/${t}`,{method:"DELETE"});if(!a.ok&&a.status!==204){const n=await a.json().catch(()=>({error:a.statusText}));throw new Error(n.error||"Failed to delete comment")}}async function T0(e){await P(`/tasks/${e}/review/retry`,{method:"POST",body:JSON.stringify({include_comments:!0})})}async function w0(e,t,a){let n=`/tasks/${e}/comments`;const l=new URLSearchParams;return l.toString()&&(n+=`?${l.toString()}`),P(n)}async function k0(e,t){return P(`/tasks/${e}/comments`,{method:"POST",body:JSON.stringify(t)})}async function _0(e,t,a){return P(`/tasks/${e}/comments/${t}`,{method:"PATCH",body:JSON.stringify(a)})}async function A0(e,t){const a=await fetch(`${Dt}/tasks/${e}/comments/${t}`,{method:"DELETE"});if(!a.ok&&a.status!==204){const n=await a.json().catch(()=>({error:a.statusText}));throw new Error(n.error||"Failed to delete comment")}}async function D0(e,t){return P(`/tasks/${e}/export`,{method:"POST",body:JSON.stringify(t)})}async function z0(e){return P(`/tasks/${e}/attachments`)}async function M0(e,t,a){const n=new FormData;n.append("file",t);const l=await fetch(`${Dt}/tasks/${e}/attachments`,{method:"POST",body:n});if(!l.ok){const i=await l.json().catch(()=>({error:l.statusText}));throw new Error(i.error||"Upload failed")}return l.json()}function Vc(e,t){return`${Dt}/tasks/${e}/attachments/${encodeURIComponent(t)}`}async function O0(e,t){const a=await fetch(`${Dt}/tasks/${e}/attachments/${encodeURIComponent(t)}`,{method:"DELETE"});if(!a.ok&&a.status!==204){const n=await a.json().catch(()=>({error:a.statusText}));throw new Error(n.error||"Delete failed")}}async function R0(e){return P(`/tasks/${e}/test-results`)}function Cf(e,t){return`${Dt}/tasks/${e}/test-results/screenshots/${encodeURIComponent(t)}`}function U0(e){return`${Dt}/tasks/${e}/test-results/report`}function L0(e,t){return`${Dt}/tasks/${e}/test-results/traces/${encodeURIComponent(t)}`}async function H0(e){return P(`/tasks/${e}/dependencies`)}async function B0(e,t){const n=[...(await vs(e)).blocked_by||[]];return n.includes(t)||n.push(t),Ua(e,{blocked_by:n})}async function q0(e,t){const n=((await vs(e)).blocked_by||[]).filter(l=>l!==t);return Ua(e,{blocked_by:n})}async function G0(e,t){const n=[...(await vs(e)).related_to||[]];return n.includes(t)||n.push(t),Ua(e,{related_to:n})}async function Y0(e,t){const n=((await vs(e)).related_to||[]).filter(l=>l!==t);return Ua(e,{related_to:n})}async function tu(e){const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.shared&&t.set("shared","true");const a=t.toString();return P(`/initiatives${a?"?"+a:""}`)}async function $0(e,t){return P(`/initiatives/${e}`)}async function Ef(e,t,a){return P(`/initiatives/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Q0(e,t,a){return P(`/initiatives/${e}/tasks`,{method:"POST",body:JSON.stringify(t)})}async function V0(e,t,a){const l=await fetch(`${Dt}/initiatives/${e}/tasks/${t}`,{method:"DELETE"});if(!l.ok&&l.status!==204){const i=await l.json().catch(()=>({error:l.statusText}));throw new Error(i.error||"Failed to remove task from initiative")}}async function X0(e,t,a){return P(`/initiatives/${e}/decisions`,{method:"POST",body:JSON.stringify(t)})}async function K0(e,t){return P(`/tasks/${e}/finalize`,{method:"POST",body:JSON.stringify({})})}async function Z0(e,t){return P(`/initiatives/${e}/dependency-graph`)}const Tf={trivial:{color:"var(--weight-trivial)",bg:"rgba(107, 114, 128, 0.15)"},small:{color:"var(--weight-small)",bg:"var(--status-success-bg)"},medium:{color:"var(--weight-medium)",bg:"var(--status-info-bg)"},large:{color:"var(--weight-large)",bg:"var(--status-warning-bg)"},greenfield:{color:"var(--weight-greenfield)",bg:"var(--accent-subtle)"}};function J0(e){const t=new Date(e),n=new Date().getTime()-t.getTime(),l=Math.floor(n/6e4),i=Math.floor(l/60),c=Math.floor(i/24);return l<1?"just now":l<60?`${l}m ago`:i<24?`${i}h ago`:c<7?`${c}d ago`:t.toLocaleDateString()}function Pl({task:e,onAction:t,onTaskClick:a,onInitiativeClick:n,onFinalizeClick:l,finalizeState:i}){var qe,Ba;const c=At(),r=Ke(X=>X.updateTask),[o,f]=u.useState(!1),[p,h]=u.useState(!1),[m,g]=u.useState(!1),[b,j]=u.useState(!1),[N,v]=u.useState(!1),d=e.priority||"normal",y=gv[d],S=d!=="normal",x=e.queue||"active",E=Tf[e.weight]||Tf.small,k=e.status==="running",A=e.status==="finalizing",z=e.status==="finished",C=e.status==="completed",M=e.initiative_id?Ab(e.initiative_id):null,Y=i&&i.status!=="not_started"?{step:i.step||"Processing",progress:i.progress||"",percent:i.step_percent||0}:null,ie=u.useCallback(X=>{X.dataTransfer.setData("application/json",JSON.stringify(e)),X.dataTransfer.effectAllowed="move",h(!0)},[e]),ce=u.useCallback(()=>{h(!1)},[]),B=u.useCallback(async(X,ge)=>{ge.stopPropagation(),ge.preventDefault(),f(!0);try{await t(e.id,X)}finally{f(!1)}},[e.id,t]),R=u.useCallback(X=>{const ge=X.target;if(!(ge.closest(".actions")||ge.closest(".quick-menu"))){if(e.status==="running"&&a){a(e);return}c(`/tasks/${e.id}`)}},[e,a,c]),H=u.useCallback(X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),c(`/tasks/${e.id}`)),X.key==="Escape"&&m&&g(!1)},[e.id,m,c]),q=u.useCallback(X=>{X.stopPropagation(),X.preventDefault(),g(ge=>!ge)},[]),T=u.useCallback(()=>{g(!1)},[]),w=u.useCallback(async X=>{if(X===x){g(!1);return}j(!0);try{const ge=await Ua(e.id,{queue:X});r(e.id,ge)}catch(ge){console.error("Failed to update queue:",ge)}finally{j(!1),g(!1)}},[e.id,x,r]),O=u.useCallback(async X=>{if(X===d){g(!1);return}j(!0);try{const ge=await Ua(e.id,{priority:X});r(e.id,ge)}catch(ge){console.error("Failed to update priority:",ge)}finally{j(!1),g(!1)}},[e.id,d,r]),Q=u.useCallback(async X=>{if(X.stopPropagation(),X.preventDefault(),l){l(e);return}v(!0);try{await K0(e.id)}catch(ge){console.error("Failed to trigger finalize:",ge)}finally{v(!1)}},[e,l]),De=u.useCallback(X=>{X.stopPropagation(),X.preventDefault(),e.initiative_id&&n&&n(e.initiative_id)},[e.initiative_id,n]),Be=["task-card",p&&"dragging",k&&"running",A&&"finalizing",z&&"finished",C&&"completed"].filter(Boolean).join(" ");return s.jsxs("article",{className:Be,draggable:"true",onDragStart:ie,onDragEnd:ce,onClick:R,onKeyDown:H,tabIndex:0,"aria-label":`Task ${e.id}: ${e.title}`,children:[s.jsxs("div",{className:"card-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("span",{className:"task-id",children:e.id}),S&&s.jsxs("span",{className:`priority-badge ${d}`,style:{color:y.color},title:`${y.label} priority`,children:[d==="critical"&&s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),d==="high"&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"18 15 12 9 6 15"})}),d==="low"&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),s.jsx(ll,{status:e.status,size:"sm"})]}),s.jsx("h3",{className:"task-title",children:e.title}),e.description&&s.jsx("p",{className:"task-description",children:e.description}),e.current_phase&&s.jsxs("div",{className:"task-phase",children:[s.jsx("span",{className:"phase-label",children:"Phase:"}),s.jsx("span",{className:"phase-value",children:e.current_phase})]}),A&&Y&&s.jsxs("div",{className:"finalize-progress",children:[s.jsx("div",{className:"finalize-step",children:Y.step}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${Y.percent}%`}})})]}),z&&((qe=i==null?void 0:i.result)==null?void 0:qe.commit_sha)&&s.jsxs("div",{className:"finished-info",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"4"}),s.jsx("line",{x1:"1.05",y1:"12",x2:"7",y2:"12"}),s.jsx("line",{x1:"17.01",y1:"12",x2:"22.96",y2:"12"})]}),s.jsx("span",{className:"commit-sha",children:i.result.commit_sha.slice(0,7)}),s.jsxs("span",{className:"merge-target",children:["merged to ",i.result.target_branch]})]}),s.jsxs("div",{className:"card-footer",children:[s.jsxs("div",{className:"footer-left",children:[s.jsx("span",{className:"weight-badge",style:{color:E.color,background:E.bg},children:e.weight}),e.is_blocked&&s.jsxs("span",{className:"blocked-badge",title:`Blocked by ${(Ba=e.unmet_blockers)==null?void 0:Ba.join(", ")}`,children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]}),"Blocked"]}),M&&s.jsx("button",{className:"initiative-badge",onClick:De,title:M.full,type:"button",children:M.display}),s.jsx("span",{className:"updated-time",children:J0(e.updated_at)})]}),s.jsxs("div",{className:"actions",children:[(e.status==="created"||e.status==="planned")&&s.jsx("button",{className:"action-btn run",onClick:X=>B("run",X),disabled:o,title:"Run task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:s.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),e.status==="running"&&s.jsx("button",{className:"action-btn pause",onClick:X=>B("pause",X),disabled:o,title:"Pause task",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:[s.jsx("rect",{x:"6",y:"4",width:"4",height:"16",rx:"1"}),s.jsx("rect",{x:"14",y:"4",width:"4",height:"16",rx:"1"})]})}),e.status==="paused"&&s.jsx("button",{className:"action-btn resume",onClick:X=>B("resume",X),disabled:o,title:"Resume task",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:s.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),e.status==="completed"&&s.jsx("button",{className:"action-btn finalize",onClick:Q,disabled:N,title:"Finalize and merge",children:N?s.jsx("div",{className:"btn-spinner"}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"18",cy:"18",r:"3"}),s.jsx("circle",{cx:"6",cy:"6",r:"3"}),s.jsx("path",{d:"M6 21V9a9 9 0 0 0 9 9"})]})}),s.jsxs("div",{className:"quick-menu",children:[s.jsx("button",{className:"action-btn more",onClick:q,title:"Quick actions","aria-expanded":m,"aria-haspopup":"true",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:[s.jsx("circle",{cx:"12",cy:"5",r:"2"}),s.jsx("circle",{cx:"12",cy:"12",r:"2"}),s.jsx("circle",{cx:"12",cy:"19",r:"2"})]})}),m&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"quick-menu-backdrop",onClick:T,onKeyDown:X=>X.key==="Escape"&&T()}),s.jsx("div",{className:"quick-menu-dropdown",role:"menu",children:b?s.jsx("div",{className:"menu-loading",children:s.jsx("div",{className:"spinner"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"menu-section",children:[s.jsx("div",{className:"menu-label",children:"Queue"}),s.jsxs("button",{className:`menu-item ${x==="active"?"selected":""}`,onClick:()=>w("active"),role:"menuitem",children:[s.jsx("span",{className:"menu-icon active-icon"}),"Active"]}),s.jsxs("button",{className:`menu-item ${x==="backlog"?"selected":""}`,onClick:()=>w("backlog"),role:"menuitem",children:[s.jsx("span",{className:"menu-icon backlog-icon"}),"Backlog"]})]}),s.jsx("div",{className:"menu-divider"}),s.jsxs("div",{className:"menu-section",children:[s.jsx("div",{className:"menu-label",children:"Priority"}),s.jsxs("button",{className:`menu-item ${d==="critical"?"selected":""}`,onClick:()=>O("critical"),role:"menuitem",children:[s.jsx("span",{className:"menu-icon priority-icon",style:{background:"var(--status-error)"}}),"Critical"]}),s.jsxs("button",{className:`menu-item ${d==="high"?"selected":""}`,onClick:()=>O("high"),role:"menuitem",children:[s.jsx("span",{className:"menu-icon priority-icon",style:{background:"var(--status-warning)"}}),"High"]}),s.jsxs("button",{className:`menu-item ${d==="normal"?"selected":""}`,onClick:()=>O("normal"),role:"menuitem",children:[s.jsx("span",{className:"menu-icon priority-icon",style:{background:"var(--text-muted)"}}),"Normal"]}),s.jsxs("button",{className:`menu-item ${d==="low"?"selected":""}`,onClick:()=>O("low"),role:"menuitem",children:[s.jsx("span",{className:"menu-icon priority-icon",style:{background:"var(--text-disabled)"}}),"Low"]})]})]})})]})]})]})]})]})}function Cv({currentInitiativeId:e,onSelect:t,tasks:a}){const[n,l]=u.useState(!1),i=u.useRef(null),c=mo(),r=u.useMemo(()=>{const b={unassigned:0};for(const j of c)b[j.id]=0;for(const j of a)j.initiative_id&&b[j.initiative_id]!==void 0?b[j.initiative_id]++:b.unassigned++;return b},[a,c]),o=u.useMemo(()=>[...c].sort((b,j)=>b.status==="active"&&j.status!=="active"?-1:j.status==="active"&&b.status!=="active"?1:b.title.localeCompare(j.title)),[c]),f=u.useMemo(()=>{if(!e)return"All initiatives";if(e===ut)return"Unassigned";const b=c.find(j=>j.id===e);return b?wf(b.title,24):e},[e,c]),p=u.useCallback(()=>{l(b=>!b)},[]),h=u.useCallback(b=>{t(b),l(!1)},[t]),m=u.useCallback(b=>{b.key==="Escape"&&l(!1)},[]);u.useEffect(()=>{if(!n)return;const b=j=>{i.current&&!i.current.contains(j.target)&&l(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[n]);const g=e!==null;return s.jsxs("div",{className:"initiative-dropdown",ref:i,onKeyDown:m,children:[s.jsxs("button",{type:"button",className:`dropdown-trigger ${g?"active":""}`,onClick:p,"aria-expanded":n,"aria-haspopup":"listbox",children:[s.jsx(_,{name:"layers",size:16}),s.jsx("span",{className:"trigger-label",children:f}),s.jsx(_,{name:"chevron-down",size:14,className:`chevron ${n?"open":""}`})]}),n&&s.jsxs("div",{className:"dropdown-menu",role:"listbox",children:[s.jsx("button",{type:"button",className:`dropdown-option ${e===null?"selected":""}`,onClick:()=>h(null),role:"option","aria-selected":e===null,children:s.jsx("span",{className:"option-label",children:"All initiatives"})}),s.jsxs("button",{type:"button",className:`dropdown-option ${e===ut?"selected":""}`,onClick:()=>h(ut),role:"option","aria-selected":e===ut,children:[s.jsx("span",{className:"option-label",children:"Unassigned"}),s.jsx("span",{className:"option-count",children:r.unassigned})]}),o.length>0&&s.jsx("div",{className:"dropdown-divider"}),o.map(b=>s.jsxs("button",{type:"button",className:`dropdown-option ${e===b.id?"selected":""}`,onClick:()=>h(b.id),role:"option","aria-selected":e===b.id,title:b.title,children:[s.jsx("span",{className:"option-label",children:wf(b.title,24)}),s.jsx("span",{className:"option-count",children:r[b.id]||0})]},b.id))]})]})}function wf(e,t){return e.length<=t?e:e.slice(0,t-1)+""}function F0({tasks:e}){const[t,a]=u.useState(!1),n=u.useRef(null),l=hv(),i=vo(g=>g.selectDependencyStatus),c=u.useMemo(()=>{const g={all:e.length,blocked:0,ready:0,none:0};for(const b of e)b.dependency_status==="blocked"?g.blocked++:b.dependency_status==="ready"?g.ready++:b.dependency_status==="none"&&g.none++;return g},[e]),r=g=>c[g]??0,o=u.useCallback(g=>{i(g==="all"?null:g),a(!1)},[i]),f=u.useMemo(()=>{const g=vf.find(b=>b.value===l);return(g==null?void 0:g.label)??"All tasks"},[l]),p=u.useCallback(()=>{a(g=>!g)},[]),h=u.useCallback(g=>{g.key==="Escape"&&a(!1)},[]);u.useEffect(()=>{if(!t)return;const g=b=>{n.current&&!n.current.contains(b.target)&&a(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[t]);const m=l!=="all";return s.jsxs("div",{className:"dependency-dropdown",ref:n,onKeyDown:h,children:[s.jsxs("button",{type:"button",className:`dropdown-trigger ${m?"active":""}`,onClick:p,"aria-haspopup":"listbox","aria-expanded":t,children:[s.jsx("span",{className:"trigger-text",children:f}),s.jsx(_,{name:t?"chevron-up":"chevron-down",size:14})]}),t&&s.jsx("div",{className:"dropdown-menu",role:"listbox",children:vf.map(g=>{const b=r(g.value);return s.jsxs("button",{type:"button",className:`dropdown-item ${l===g.value?"selected":""}`,onClick:()=>o(g.value),role:"option","aria-selected":l===g.value,children:[s.jsx("span",{className:"item-indicator",children:l===g.value?s.jsx("span",{className:"indicator-dot filled"}):s.jsx("span",{className:"indicator-dot"})}),s.jsx("span",{className:"item-label",children:g.label}),g.value!=="all"&&s.jsx("span",{className:"item-count",children:b})]},g.value)})})]})}const kf=["finalizing","completed","finished","failed"],_f=["completed","finished"],Af=["running","paused","blocked","planned","created","finalizing","completed","finished","failed"],W0=["trivial","small","medium","large","greenfield"];function I0(e,t){const[a,n]=u.useState(e);return u.useEffect(()=>{const l=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(l)}},[e,t]),a}function P0(){const e=At(),t=ho(),a=po(),n=kb(),l=Me(T=>T.selectInitiative),i=hv(),c=Ke(T=>T.tasks),r=Ke(T=>T.removeTask),o=Ke(T=>T.loading),[f,p]=u.useState("all"),[h,m]=u.useState("all"),[g,b]=u.useState("recent"),[j,N]=u.useState(""),[v,d]=u.useState(-1),y=I0(j,300),S=u.useRef(null),x=u.useMemo(()=>{if(!a)return c;if(a===ut)return c.filter(O=>!O.initiative_id);if(!n)return c;const T=n.tasks||[],w=new Set(T.map(O=>O.id));return c.filter(O=>w.has(O.id))},[c,a,n]),E=u.useMemo(()=>{let T=[...x];if(f==="active"?T=T.filter(w=>!kf.includes(w.status)):f==="completed"?T=T.filter(w=>_f.includes(w.status)):f==="failed"&&(T=T.filter(w=>w.status==="failed")),i!=="all"&&(T=T.filter(w=>w.dependency_status===i)),h!=="all"&&(T=T.filter(w=>w.weight===h)),y.trim()){const w=y.toLowerCase();T=T.filter(O=>O.id.toLowerCase().includes(w)||O.title.toLowerCase().includes(w))}return g==="recent"?T.sort((w,O)=>new Date(O.updated_at).getTime()-new Date(w.updated_at).getTime()):g==="oldest"?T.sort((w,O)=>new Date(w.updated_at).getTime()-new Date(O.updated_at).getTime()):g==="status"&&T.sort((w,O)=>Af.indexOf(w.status)-Af.indexOf(O.status)),T},[x,f,i,h,y,g]),k=u.useMemo(()=>({all:x.length,active:x.filter(T=>!kf.includes(T.status)).length,completed:x.filter(T=>_f.includes(T.status)).length,failed:x.filter(T=>T.status==="failed").length}),[x]);u.useEffect(()=>{v>=E.length&&d(Math.max(0,E.length-1))},[E.length,v]);const A=u.useCallback(()=>v>=0&&v<E.length?E[v]:null,[v,E]),z=u.useCallback(()=>{const T=document.querySelectorAll(".task-card-wrapper");T[v]&&T[v].scrollIntoView({behavior:"smooth",block:"nearest"})},[v]),C=u.useCallback(async T=>{if(!t){G.error("Please select a project first");return}try{await jv(t,T)}catch(w){G.error(w instanceof Error?w.message:"Failed to run task")}},[t]),M=u.useCallback(async T=>{if(!t){G.error("Please select a project first");return}try{await Sv(t,T)}catch(w){G.error(w instanceof Error?w.message:"Failed to pause task")}},[t]),Y=u.useCallback(async T=>{if(!t){G.error("Please select a project first");return}try{await Nv(t,T)}catch(w){G.error(w instanceof Error?w.message:"Failed to resume task")}},[t]),ie=u.useCallback(async T=>{if(!t){G.error("Please select a project first");return}try{await S0(t,T),r(T),G.success(`Deleted task ${T}`)}catch(w){G.error(w instanceof Error?w.message:"Failed to delete task")}},[t,r]),ce=u.useCallback(async(T,w)=>{w==="run"?await C(T):w==="pause"?await M(T):w==="resume"&&await Y(T)},[C,M,Y]);c0({onNavDown:()=>{E.length>0&&(d(T=>Math.min(T+1,E.length-1)),setTimeout(z,0))},onNavUp:()=>{v>0&&(d(T=>T-1),setTimeout(z,0))},onOpen:()=>{const T=A();T&&e(`/tasks/${T.id}`)},onRun:()=>{const T=A();T&&T.status!=="running"&&(C(T.id),G.info(`Running task ${T.id}`))},onPause:()=>{const T=A();T&&T.status==="running"&&(M(T.id),G.info(`Paused task ${T.id}`))},onDelete:()=>{const T=A();T&&confirm(`Delete task ${T.id}?`)&&ie(T.id)}}),u.useEffect(()=>{const T=()=>{S.current&&S.current.focus()};return window.addEventListener("orc:focus-search",T),()=>{window.removeEventListener("orc:focus-search",T)}},[]);const B=u.useCallback(()=>{window.dispatchEvent(new CustomEvent("orc:new-task"))},[]),R=u.useCallback(()=>{N(""),p("all"),m("all")},[]),H=u.useCallback(T=>{l(T)},[l]),q=u.useMemo(()=>a===ut?"Unassigned tasks":(n==null?void 0:n.title)??a,[a,n]);return s.jsxs("div",{className:"page task-list-page",children:[s.jsxs("div",{className:"page-header",children:[s.jsx("h1",{children:"Task List"}),s.jsxs("span",{className:"task-count",children:[E.length," ",E.length===1?"task":"tasks"]})]}),(n||a===ut)&&s.jsxs("div",{className:"initiative-banner",children:[s.jsx("span",{className:"banner-icon",children:s.jsx(_,{name:"folder",size:16})}),s.jsx("span",{className:"banner-text",children:a===ut?s.jsxs(s.Fragment,{children:["Showing: ",s.jsx("strong",{children:"Unassigned tasks"})]}):s.jsxs(s.Fragment,{children:["Filtered by initiative: ",s.jsx("strong",{children:q})]})}),s.jsx("button",{type:"button",className:"banner-clear",onClick:()=>l(null),children:"Clear filter"})]}),s.jsxs("div",{className:"filter-bar",children:[s.jsxs("div",{className:"status-tabs",children:[s.jsxs("button",{type:"button",className:`status-tab ${f==="all"?"active":""}`,onClick:()=>p("all"),children:["All",s.jsx("span",{className:"tab-count",children:k.all})]}),s.jsxs("button",{type:"button",className:`status-tab ${f==="active"?"active":""}`,onClick:()=>p("active"),children:["Active",s.jsx("span",{className:"tab-count",children:k.active})]}),s.jsxs("button",{type:"button",className:`status-tab ${f==="completed"?"active":""}`,onClick:()=>p("completed"),children:["Completed",s.jsx("span",{className:"tab-count",children:k.completed})]}),s.jsxs("button",{type:"button",className:`status-tab ${f==="failed"?"active":""}`,onClick:()=>p("failed"),children:["Failed",s.jsx("span",{className:"tab-count",children:k.failed})]})]}),s.jsxs("div",{className:"filters-row",children:[s.jsxs("div",{className:"search-input",children:[s.jsx(_,{name:"search",size:14}),s.jsx("input",{type:"text",placeholder:"Search tasks...",value:j,onChange:T=>N(T.target.value),ref:S})]}),s.jsx(Cv,{currentInitiativeId:a,onSelect:H,tasks:c}),s.jsx(F0,{tasks:x}),s.jsxs("select",{className:"filter-select",value:h,onChange:T=>m(T.target.value),"aria-label":"Filter by weight",children:[s.jsx("option",{value:"all",children:"All weights"}),W0.map(T=>s.jsx("option",{value:T,children:T},T))]}),s.jsxs("select",{className:"filter-select",value:g,onChange:T=>b(T.target.value),"aria-label":"Sort tasks by",children:[s.jsx("option",{value:"recent",children:"Most recent"}),s.jsx("option",{value:"oldest",children:"Oldest first"}),s.jsx("option",{value:"status",children:"By status"})]}),s.jsxs("button",{type:"button",className:"primary new-task-btn",onClick:B,children:[s.jsx(_,{name:"plus",size:14}),"New Task"]})]})]}),E.length>0&&v>=0&&s.jsxs("div",{className:"keyboard-hints",children:[s.jsxs("span",{className:"hint",children:[s.jsx("kbd",{children:"j"}),s.jsx("kbd",{children:"k"})," navigate"]}),s.jsxs("span",{className:"hint",children:[s.jsx("kbd",{children:"Enter"})," open"]}),s.jsxs("span",{className:"hint",children:[s.jsx("kbd",{children:"r"})," run"]}),s.jsxs("span",{className:"hint",children:[s.jsx("kbd",{children:"p"})," pause"]}),s.jsxs("span",{className:"hint",children:[s.jsx("kbd",{children:"d"})," delete"]}),s.jsxs("span",{className:"hint",children:[s.jsx("kbd",{children:"?"})," all shortcuts"]})]}),o?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading tasks..."})]}):E.length===0?s.jsx("div",{className:"empty-state",children:t?x.length===0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"empty-icon",children:s.jsx(_,{name:"tasks",size:48})}),s.jsx("h3",{children:"No tasks yet"}),s.jsx("p",{children:"Create your first task to get started with orc"}),s.jsxs("button",{type:"button",className:"primary",onClick:B,children:[s.jsx(_,{name:"plus",size:14}),"Create Task"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"empty-icon",children:s.jsx(_,{name:"search",size:48})}),s.jsx("h3",{children:"No matching tasks"}),s.jsx("p",{children:"Try adjusting your filters or search query"}),s.jsx("button",{type:"button",onClick:R,children:"Clear filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"empty-icon",children:s.jsx(_,{name:"folder",size:48})}),s.jsx("h3",{children:"No project selected"}),s.jsx("p",{children:"Select a project to view and manage tasks"}),s.jsxs("button",{type:"button",className:"primary",onClick:()=>window.dispatchEvent(new CustomEvent("orc:switch-project")),children:[s.jsx(_,{name:"folder",size:14}),"Select Project"]})]})}):s.jsx("div",{className:"task-list",role:"list","aria-label":"Task list",children:E.map((T,w)=>s.jsx("div",{className:`task-card-wrapper ${w===v?"selected":""}`,onClick:()=>d(w),role:"listitem","aria-current":w===v?"true":void 0,children:s.jsx(Pl,{task:T,onAction:ce,onTaskClick:O=>{O.status==="running"&&e(`/tasks/${O.id}`)},onInitiativeClick:O=>l(O)})},T.id))})]})}const Df={queued:{accentColor:"var(--text-muted)",bgColor:"rgba(148, 163, 184, 0.05)"},spec:{accentColor:"rgb(59, 130, 246)",bgColor:"rgba(59, 130, 246, 0.05)"},implement:{accentColor:"var(--accent-primary)",bgColor:"rgba(139, 92, 246, 0.05)"},test:{accentColor:"rgb(6, 182, 212)",bgColor:"rgba(6, 182, 212, 0.05)"},review:{accentColor:"var(--status-warning)",bgColor:"rgba(245, 158, 11, 0.05)"},done:{accentColor:"var(--status-success)",bgColor:"rgba(16, 185, 129, 0.05)"}};function ej({column:e,tasks:t,onDrop:a,onAction:n,onTaskClick:l,onFinalizeClick:i,onInitiativeClick:c,getFinalizeState:r}){const[o,f]=u.useState(!1),[p,h]=u.useState(0),m=Df[e.id]||Df.queued,g=u.useCallback(d=>{d.preventDefault(),h(y=>{const S=y+1;return S>0&&f(!0),S})},[]),b=u.useCallback(d=>{d.preventDefault(),h(y=>{const S=y-1;return S===0&&f(!1),S})},[]),j=u.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),N=u.useCallback(d=>{d.preventDefault(),f(!1),h(0);try{const y=d.dataTransfer.getData("application/json");if(y){const S=JSON.parse(y);a(S)}}catch(y){console.error("Failed to parse dropped task:",y)}},[a]),v=["column",o&&"drag-over"].filter(Boolean).join(" ");return s.jsxs("div",{className:v,role:"region","aria-label":`${e.title} column`,style:{"--column-accent":m.accentColor,"--column-bg":m.bgColor},onDragEnter:g,onDragLeave:b,onDragOver:j,onDrop:N,children:[s.jsxs("div",{className:"column-header",children:[s.jsx("h2",{children:e.title}),s.jsx("span",{className:"count",children:t.length})]}),s.jsx("div",{className:"column-content",children:t.length===0?s.jsx("div",{className:"empty",children:"No tasks"}):t.map(d=>s.jsx(Pl,{task:d,onAction:n,onTaskClick:l,onFinalizeClick:i,onInitiativeClick:c,finalizeState:r==null?void 0:r(d.id)},d.id))})]})}function tj({column:e,activeTasks:t,backlogTasks:a,showBacklog:n,onToggleBacklog:l,onDrop:i,onAction:c,onTaskClick:r,onFinalizeClick:o,onInitiativeClick:f,getFinalizeState:p}){const[h,m]=u.useState(!1),[g,b]=u.useState(0),j=u.useCallback(E=>{E.preventDefault(),b(k=>{const A=k+1;return A>0&&m(!0),A})},[]),N=u.useCallback(E=>{E.preventDefault(),b(k=>{const A=k-1;return A===0&&m(!1),A})},[]),v=u.useCallback(E=>{E.preventDefault(),E.dataTransfer.dropEffect="move"},[]),d=u.useCallback(E=>{E.preventDefault(),m(!1),b(0);try{const k=E.dataTransfer.getData("application/json");if(k){const A=JSON.parse(k);i(A)}}catch(k){console.error("Failed to parse dropped task:",k)}},[i]),y=u.useCallback(E=>{(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),l())},[l]),S=["queued-column",h&&"drag-over"].filter(Boolean).join(" "),x=t.length+a.length;return s.jsxs("div",{className:S,role:"region","aria-label":`${e.title} column`,onDragEnter:j,onDragLeave:N,onDragOver:v,onDrop:d,children:[s.jsxs("div",{className:"column-header",children:[s.jsx("h2",{children:e.title}),s.jsx("span",{className:"count",children:x})]}),s.jsxs("div",{className:"column-content",children:[s.jsx("div",{className:"active-section",children:t.length===0?s.jsx("div",{className:"empty",children:"No active tasks"}):t.map(E=>s.jsx(Pl,{task:E,onAction:c,onTaskClick:r,onFinalizeClick:o,onInitiativeClick:f,finalizeState:p==null?void 0:p(E.id)},E.id))}),a.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"backlog-divider",children:s.jsxs("button",{type:"button",className:"backlog-toggle",onClick:l,onKeyDown:y,"aria-expanded":n,"aria-controls":"backlog-section",children:[s.jsx("svg",{className:`toggle-icon ${n?"expanded":""}`,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})}),s.jsx("span",{className:"backlog-label",children:"Backlog"}),s.jsx("span",{className:"backlog-count",children:a.length})]})}),s.jsx("div",{id:"backlog-section",className:`backlog-section ${n?"expanded":""}`,"aria-hidden":!n,children:a.map(E=>s.jsx(Pl,{task:E,onAction:c,onTaskClick:r,onFinalizeClick:o,onInitiativeClick:f,finalizeState:p==null?void 0:p(E.id)},E.id))})]})]})]})}function zf({initiative:e,tasks:t,columns:a,tasksByColumn:n,collapsed:l,onToggleCollapse:i,onDrop:c,onAction:r,onTaskClick:o,onFinalizeClick:f,onInitiativeClick:p,getFinalizeState:h}){const m=t.filter(x=>x.status==="completed"||x.status==="finished").length,g=t.length,b=g>0?Math.round(m/g*100):0,j=(e==null?void 0:e.id)??null,N=(e==null?void 0:e.title)??"Unassigned",v=u.useCallback(x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),i())},[i]),d=u.useCallback(x=>E=>{E.preventDefault();try{const k=E.dataTransfer.getData("application/json");if(k){const A=JSON.parse(k);c(x,A,j)}}catch(k){console.error("Failed to parse dropped task:",k)}},[c,j]),y=u.useCallback(x=>{x.preventDefault(),x.dataTransfer.dropEffect="move"},[]),S=["swimlane",l&&"collapsed"].filter(Boolean).join(" ");return s.jsxs("div",{className:S,children:[s.jsxs("button",{type:"button",className:"swimlane-header",onClick:i,onKeyDown:v,"aria-expanded":!l,"aria-controls":`swimlane-content-${j??"unassigned"}`,children:[s.jsx("svg",{className:`collapse-icon ${l?"collapsed":""}`,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})}),s.jsx("span",{className:"swimlane-title",children:N}),s.jsxs("span",{className:"task-count",children:[m,"/",g]}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${b}%`}})}),s.jsxs("span",{className:"progress-percent",children:[b,"%"]})]}),!l&&s.jsx("div",{id:`swimlane-content-${j??"unassigned"}`,className:"swimlane-content",children:a.map(x=>{const E=n[x.id]||[];return s.jsx("div",{className:"swimlane-column",onDragOver:y,onDrop:d(x.id),children:E.length===0?s.jsx("div",{className:"empty-column"}):E.map(k=>s.jsx(Pl,{task:k,onAction:r,onTaskClick:o,onFinalizeClick:f,onInitiativeClick:p,finalizeState:h==null?void 0:h(k.id)},k.id))},x.id)})})]})}const oa=[{id:"queued",title:"Queued",phases:[]},{id:"spec",title:"Spec",phases:["research","spec","design"]},{id:"implement",title:"Implement",phases:["implement"]},{id:"test",title:"Test",phases:["test"]},{id:"review",title:"Review",phases:["docs","validate","review"]},{id:"done",title:"Done",phases:[]}],aj=["finalizing","completed","finished","failed"];function Xc(e){if(aj.includes(e.status))return"done";if(!e.current_phase&&e.status==="running")return"implement";if(!e.current_phase)return"queued";const t=e.current_phase;for(const a of oa)if(a.phases.includes(t))return a.id;return"implement"}function Hs(e){return[...e].sort((t,a)=>{if(t.status==="running"&&a.status!=="running")return-1;if(a.status==="running"&&t.status!=="running")return 1;const n=xf[t.priority||"normal"]??2,l=xf[a.priority||"normal"]??2;return n-l})}function nj({tasks:e,viewMode:t="flat",initiatives:a=[],onAction:n,onEscalate:l,onTaskClick:i,onFinalizeClick:c,onInitiativeClick:r,onInitiativeChange:o,getFinalizeState:f}){const[p,h]=u.useState(()=>typeof window>"u"?!1:localStorage.getItem("orc-show-backlog")==="true"),[m,g]=u.useState(()=>{if(typeof window>"u")return new Set;try{const w=localStorage.getItem("orc-collapsed-swimlanes");return w?new Set(JSON.parse(w)):new Set}catch{return new Set}}),[b,j]=u.useState(!1),[N,v]=u.useState(null),[d,y]=u.useState(""),[S,x]=u.useState(null),E=u.useMemo(()=>{const w={};for(const O of oa)w[O.id]=[];for(const O of e){const Q=Xc(O);w[Q]&&w[Q].push(O)}for(const O of Object.keys(w))w[O]=Hs(w[O]);return w},[e]),k=u.useMemo(()=>{const w=E.queued||[];return{active:Hs(w.filter(O=>O.queue!=="backlog")),backlog:Hs(w.filter(O=>O.queue==="backlog"))}},[E]),A=u.useMemo(()=>{const w={unassigned:[]};for(const O of a)w[O.id]=[];for(const O of e){const Q=O.initiative_id;Q&&w[Q]?w[Q].push(O):w.unassigned.push(O)}return w},[e,a]),z=u.useCallback(w=>{const O={};for(const Q of oa)O[Q.id]=[];for(const Q of w){const De=Xc(Q);O[De]&&O[De].push(Q)}for(const Q of Object.keys(O))O[Q]=Hs(O[Q]);return O},[]),C=u.useCallback(()=>{h(w=>{const O=!w;return localStorage.setItem("orc-show-backlog",String(O)),O})},[]),M=u.useCallback(w=>{g(O=>{const Q=new Set(O);return Q.has(w)?Q.delete(w):Q.add(w),localStorage.setItem("orc-collapsed-swimlanes",JSON.stringify([...Q])),Q})},[]),Y=u.useCallback(async(w,O)=>{const Q=Xc(O);if(Q!==w){if(Q==="queued"&&w!=="done"){j(!0);try{await n(O.id,"run")}finally{j(!1)}return}if((O.status==="paused"||O.status==="blocked")&&w!=="queued"&&w!=="done"){j(!0);try{await n(O.id,"resume")}finally{j(!1)}return}if(O.status==="running"){v(O),y("");return}}},[n]),ie=u.useCallback(async(w,O,Q)=>{if((O.initiative_id??null)!==Q){x({task:O,targetInitiativeId:Q,columnId:w});return}await Y(w,O)},[Y]),ce=u.useCallback(async()=>{if(!(!S||!o)){j(!0);try{await o(S.task.id,S.targetInitiativeId),await Y(S.columnId,S.task)}finally{j(!1),x(null)}}},[S,o,Y]),B=u.useCallback(()=>{x(null)},[]),R=u.useCallback(async()=>{if(!(!N||!l||!d.trim())){j(!0);try{await l(N.id,d.trim())}finally{j(!1),v(null),y("")}}},[N,l,d]),H=u.useCallback(()=>{v(null),y("")},[]),q=oa.filter(w=>w.id!=="queued"),T=u.useCallback(w=>{if(!w)return"Unassigned";const O=a.find(Q=>Q.id===w);return(O==null?void 0:O.title)??w},[a]);return s.jsxs("div",{className:`board ${t==="swimlane"?"swimlane-view":"flat-view"}`,children:[t==="flat"?s.jsxs(s.Fragment,{children:[s.jsx(tj,{column:oa[0],activeTasks:k.active,backlogTasks:k.backlog,showBacklog:p,onToggleBacklog:C,onDrop:w=>Y("queued",w),onAction:n,onTaskClick:i,onFinalizeClick:c,onInitiativeClick:r,getFinalizeState:f}),q.map(w=>s.jsx(ej,{column:w,tasks:E[w.id]||[],onDrop:O=>Y(w.id,O),onAction:n,onTaskClick:i,onFinalizeClick:c,onInitiativeClick:r,getFinalizeState:f},w.id))]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"swimlane-headers",children:[s.jsx("div",{className:"header-spacer"}),oa.map(w=>s.jsx("div",{className:"swimlane-column-header",children:w.title},w.id))]}),s.jsxs("div",{className:"swimlanes",children:[a.map(w=>{const O=A[w.id]||[];return O.length===0?null:s.jsx(zf,{initiative:w,tasks:O,columns:oa,tasksByColumn:z(O),collapsed:m.has(w.id),onToggleCollapse:()=>M(w.id),onDrop:ie,onAction:n,onTaskClick:i,onFinalizeClick:c,onInitiativeClick:r,getFinalizeState:f},w.id)}),(A.unassigned||[]).length>0&&s.jsx(zf,{initiative:null,tasks:A.unassigned,columns:oa,tasksByColumn:z(A.unassigned),collapsed:m.has("unassigned"),onToggleCollapse:()=>M("unassigned"),onDrop:ie,onAction:n,onTaskClick:i,onFinalizeClick:c,onInitiativeClick:r,getFinalizeState:f})]})]}),N&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop",onClick:H}),s.jsxs("div",{className:"modal escalate-modal",children:[s.jsx("h3",{children:"Escalate Task"}),s.jsx("p",{children:"Moving a running task back requires an escalation reason. This helps understand why the task needs to restart."}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"escalate-reason",children:"Reason"}),s.jsx("textarea",{id:"escalate-reason",value:d,onChange:w=>y(w.target.value),placeholder:"Why does this task need to be escalated?",rows:3})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:H,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:R,disabled:!d.trim()||b,children:b?"Escalating...":"Escalate"})]})]})]}),S&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop",onClick:B}),s.jsxs("div",{className:"modal initiative-change-modal",children:[s.jsx("h3",{children:"Change Initiative"}),s.jsxs("p",{children:["Move ",s.jsx("strong",{children:S.task.title})," to"," ",s.jsx("strong",{children:T(S.targetInitiativeId)}),"?"]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:B,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:ce,disabled:b,children:b?"Moving...":"Move"})]})]})]})]})}const Kc=[{id:"flat",label:"Flat",description:"All tasks in columns"},{id:"swimlane",label:"By Initiative",description:"Grouped by initiative"}];function lj({value:e,onChange:t,disabled:a}){const[n,l]=u.useState(!1),i=u.useRef(null),c=Kc.find(p=>p.id===e)??Kc[0],r=u.useCallback(()=>{a||l(p=>!p)},[a]),o=u.useCallback(p=>{t(p),l(!1)},[t]),f=u.useCallback(p=>{p.key==="Escape"&&l(!1)},[]);return u.useEffect(()=>{if(!n)return;const p=h=>{i.current&&!i.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[n]),s.jsxs("div",{className:`view-mode-dropdown ${a?"disabled":""}`,ref:i,onKeyDown:f,children:[s.jsxs("button",{type:"button",className:"dropdown-trigger",onClick:r,"aria-expanded":n,"aria-haspopup":"listbox",disabled:a,children:[s.jsx(_,{name:"layout",size:16}),s.jsx("span",{className:"trigger-text",children:c.label}),s.jsx(_,{name:"chevron-down",size:14,className:`chevron ${n?"open":""}`})]}),n&&s.jsx("div",{className:"dropdown-menu",role:"listbox",children:Kc.map(p=>s.jsxs("button",{type:"button",className:`dropdown-item ${p.id===e?"selected":""}`,onClick:()=>o(p.id),role:"option","aria-selected":p.id===e,children:[s.jsx("span",{className:"indicator-dot"}),s.jsxs("div",{className:"item-content",children:[s.jsx("span",{className:"item-label",children:p.label}),s.jsx("span",{className:"item-description",children:p.description})]})]},p.id))})]})}const Mf="orc-board-view-mode";function sj(){const[e]=fo(),t=ho(),a=po(),n=Me(T=>T.selectInitiative),l=e.get("dependency_status"),i=Ke(T=>T.tasks),c=Ke(T=>T.updateTask),r=mo(),o=Ke(T=>T.loading),f=Ke(T=>T.error),[p,h]=u.useState(()=>typeof window>"u"?"flat":localStorage.getItem(Mf)==="swimlane"?"swimlane":"flat"),[m,g]=u.useState(!1),[b,j]=u.useState(null),[N,v]=u.useState(!1),[d,y]=u.useState(null),[S,x]=u.useState(new Map),E=a!==null,k=u.useMemo(()=>{let T=i;return a===ut?T=T.filter(w=>!w.initiative_id):a&&(T=T.filter(w=>w.initiative_id===a)),l&&(T=T.filter(w=>w.dependency_status===l)),T},[i,a,l]),A=u.useCallback(T=>{h(T),localStorage.setItem(Mf,T)},[]),z=u.useCallback(T=>{n(T)},[n]),C=u.useCallback(async(T,w)=>{if(t)try{w==="run"?await jv(t,T):w==="pause"?await Sv(t,T):w==="resume"&&await Nv(t,T)}catch(O){console.error(`Failed to ${w} task:`,O)}},[t]),M=u.useCallback(async(T,w)=>{if(t)try{await N0(t,T,w)}catch(O){console.error("Failed to escalate task:",O)}},[t]),Y=u.useCallback(T=>{j(T),g(!0)},[]),ie=u.useCallback(T=>{y(T),v(!0)},[]),ce=u.useCallback(T=>{n(T)},[n]),B=u.useCallback(async(T,w)=>{try{const O=await Ua(T,{initiative_id:w??""});c(T,O)}catch(O){console.error("Failed to update task initiative:",O)}},[c]),R=u.useCallback(T=>S.get(T),[S]),H=u.useCallback(()=>{n(null)},[n]),q=u.useCallback(T=>{if(T===ut)return"Unassigned";const w=r.find(O=>O.id===T);return(w==null?void 0:w.title)??T},[r]);return o?s.jsx("div",{className:"page board-page",children:s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading board..."})]})}):f?s.jsx("div",{className:"page board-page",children:s.jsxs("div",{className:"error-state",children:[s.jsx(_,{name:"error",size:24}),s.jsx("span",{children:f})]})}):t?s.jsxs("div",{className:"page board-page",children:[s.jsxs("div",{className:"page-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx("h2",{children:"Board"}),s.jsxs("span",{className:"task-count",children:[k.length," ",k.length===1?"task":"tasks"]})]}),s.jsxs("div",{className:"header-filters",children:[s.jsx("div",{className:E?"view-mode-disabled":"",children:s.jsx(lj,{value:p,onChange:A,disabled:E})}),s.jsx(Cv,{currentInitiativeId:a,onSelect:z,tasks:i})]})]}),a&&s.jsxs("div",{className:"initiative-banner",children:[s.jsxs("span",{className:"banner-label",children:["Filtered by:"," ",s.jsx("strong",{children:q(a)})]}),s.jsxs("button",{type:"button",className:"banner-clear",onClick:H,children:[s.jsx(_,{name:"x",size:14}),"Clear filter"]})]}),s.jsx(nj,{tasks:k,viewMode:E?"flat":p,initiatives:r,onAction:C,onEscalate:M,onTaskClick:Y,onFinalizeClick:ie,onInitiativeClick:ce,onInitiativeChange:B,getFinalizeState:R})]}):s.jsx("div",{className:"page board-page",children:s.jsxs("div",{className:"empty-state",children:[s.jsx(_,{name:"board",size:32}),s.jsx("h3",{children:"No Project Selected"}),s.jsx("p",{children:"Select a project to view the board."})]})})}function Bs(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:String(e)}function ij({stats:e,wsStatus:t,onFilterClick:a,onDependencyFilterClick:n}){const l=(e.cache_creation_input_tokens||0)+(e.cache_read_input_tokens||0),i=["connection-status",t==="connected"&&"connected",(t==="connecting"||t==="reconnecting")&&"connecting"].filter(Boolean).join(" "),c=()=>{switch(t){case"connected":return"Live";case"connecting":return"Connecting";case"reconnecting":return"Reconnecting";default:return"Offline"}},r=l>0?`Total: ${e.tokens.toLocaleString()}
Cached: ${l.toLocaleString()} (${Bs(e.cache_creation_input_tokens||0)} creation, ${Bs(e.cache_read_input_tokens||0)} read)`:`Total: ${e.tokens.toLocaleString()}`;return s.jsxs("section",{className:"stats-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Quick Stats"}),s.jsxs("div",{className:i,children:[s.jsx("span",{className:"status-dot"}),s.jsx("span",{className:"status-text",children:c()})]})]}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("button",{className:"stat-card running",onClick:()=>a("running"),children:[s.jsx("div",{className:"stat-icon",children:s.jsx(_,{name:"clock",size:24})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-value",children:e.running}),s.jsx("span",{className:"stat-label",children:"Running"})]})]}),s.jsxs("button",{className:"stat-card blocked",onClick:()=>(n==null?void 0:n("blocked"))??a("blocked"),children:[s.jsx("div",{className:"stat-icon",children:s.jsx(_,{name:"blocked",size:24})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-value",children:e.blocked}),s.jsx("span",{className:"stat-label",children:"Blocked"})]})]}),s.jsxs("button",{className:"stat-card today",onClick:()=>a("all"),children:[s.jsx("div",{className:"stat-icon",children:s.jsx(_,{name:"calendar",size:24})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-value",children:e.today}),s.jsx("span",{className:"stat-label",children:"Today"})]})]}),s.jsxs("div",{className:"stat-card tokens",title:r,children:[s.jsx("div",{className:"stat-icon",children:s.jsx(_,{name:"dollar",size:24})}),s.jsxs("div",{className:"stat-content",children:[s.jsx("span",{className:"stat-value",children:Bs(e.tokens)}),s.jsxs("span",{className:"stat-label",children:["Tokens",l>0?` (${Bs(l)} cached)`:""]})]})]})]})]})}function cj({tasks:e}){return e.length===0?null:s.jsxs("section",{className:"tasks-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Active Tasks"}),s.jsx("span",{className:"section-count",children:e.length})]}),s.jsx("div",{className:"task-list",children:e.map(t=>s.jsxs(Da,{to:`/tasks/${t.id}`,className:"task-card-compact",children:[s.jsx("div",{className:"task-status",children:s.jsx(ll,{status:t.status,size:"md"})}),s.jsxs("div",{className:"task-content",children:[s.jsx("span",{className:"task-id",children:t.id}),s.jsx("span",{className:"task-title",children:t.title})]}),t.current_phase&&s.jsx("span",{className:"task-phase",children:t.current_phase})]},t.id))})]})}function rj({onNewTask:e,onViewTasks:t}){return s.jsx("section",{className:"actions-section",children:s.jsxs("div",{className:"quick-actions",children:[s.jsxs("button",{className:"action-btn primary",onClick:e,children:[s.jsx(_,{name:"plus",size:16}),"New Task"]}),s.jsxs("button",{className:"action-btn",onClick:t,children:[s.jsx(_,{name:"tasks",size:16}),"View All Tasks"]})]})})}function uj(e){const t=new Date(e),n=new Date().getTime()-t.getTime(),l=Math.floor(n/6e4),i=Math.floor(n/36e5),c=Math.floor(n/864e5);return l<1?"just now":l<60?`${l}m ago`:i<24?`${i}h ago`:c<7?`${c}d ago`:t.toLocaleDateString()}function oj({tasks:e}){return e.length===0?null:s.jsxs("section",{className:"tasks-section recent-activity-section",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:"Recent Activity"})}),s.jsx("div",{className:"activity-list",children:e.map(t=>s.jsxs(Da,{to:`/tasks/${t.id}`,className:"activity-item",children:[s.jsx("div",{className:"activity-status",children:s.jsx(ll,{status:t.status,size:"md"})}),s.jsxs("div",{className:"activity-content",children:[s.jsx("span",{className:"activity-id",children:t.id}),s.jsx("span",{className:"activity-title",children:t.title})]}),s.jsx("span",{className:"activity-time",children:uj(t.updated_at)})]},t.id))})]})}function dj(e){const t=e.tasks||[],a=t.length;if(a===0)return{completed:0,total:0,percent:0};const n=t.filter(i=>i.status==="completed"||i.status==="finished").length,l=Math.round(n/a*100);return{completed:n,total:a,percent:l}}function fj(e){return e>=75?"progress-high":e>=25?"progress-medium":"progress-low"}function hj(e,t=30){return e.length<=t?e:e.slice(0,t-1)+""}function mj({initiatives:e}){const t=At();if(e.length===0)return null;const a=[...e].sort((c,r)=>new Date(r.updated_at).getTime()-new Date(c.updated_at).getTime()).slice(0,5),n=e.length>5,l=c=>{t(`/board?initiative=${c}`)},i=()=>{t("/board")};return s.jsxs("section",{className:"initiatives-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Active Initiatives"}),s.jsx("span",{className:"section-count",children:e.length})]}),s.jsx("div",{className:"initiatives-list",children:a.map(c=>{const r=dj(c),o=c.vision?`${c.title}

${c.vision}`:c.title;return s.jsxs("button",{className:"initiative-row",onClick:()=>l(c.id),title:o,children:[s.jsx("span",{className:"initiative-title",children:hj(c.title)}),c.status!=="active"?s.jsx("span",{className:`initiative-status status-${c.status}`,children:c.status}):s.jsxs("div",{className:"progress-container",children:[s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:`progress-fill ${fj(r.percent)}`,style:{width:`${r.percent}%`}})}),s.jsxs("span",{className:"progress-count",children:[r.completed,"/",r.total]})]})]},c.id)})}),n&&s.jsx("button",{className:"view-all-link",onClick:i,children:"View All "})]})}function pj({stats:e}){return s.jsx("section",{className:"summary-section",children:s.jsxs("div",{className:"summary-stats",children:[s.jsxs("div",{className:"summary-item",children:[s.jsx("span",{className:"summary-label",children:"Total Tasks"}),s.jsx("span",{className:"summary-value",children:e.total})]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("span",{className:"summary-label",children:"Completed"}),s.jsx("span",{className:"summary-value success",children:e.completed})]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("span",{className:"summary-label",children:"Failed"}),s.jsx("span",{className:"summary-value danger",children:e.failed})]})]})})}const vj=["running","blocked","paused"],gj=["completed","failed"];function yj(){const e=At(),t=Ub(),{on:a}=xv(),n=Ke(S=>S.tasks),[l,i]=u.useState(null),[c,r]=u.useState([]),[o,f]=u.useState(!0),[p,h]=u.useState(null),m=n.filter(S=>vj.includes(S.status)).slice(0,5),g=n.filter(S=>gj.includes(S.status)).sort((S,x)=>new Date(x.updated_at).getTime()-new Date(S.updated_at).getTime()).slice(0,5),b=u.useCallback(async()=>{try{const[S,x]=await Promise.all([jf(),tu({status:"active"})]);i(S),r(x),f(!1),h(null)}catch(S){h(S instanceof Error?S.message:"Failed to load dashboard"),f(!1)}},[]),j=u.useCallback(async()=>{try{const S=await tu({status:"active"});r(S)}catch{}},[]);u.useEffect(()=>{b()},[b]),u.useEffect(()=>{t==="connected"&&b()},[t,b]),u.useEffect(()=>a("all",x=>{"event"in x&&["task_updated","task_created","task_deleted"].includes(x.event)&&(j(),jf().then(i).catch(()=>{}))}),[a,j]);const N=S=>{e(`/?status=${S}`)},v=S=>{e(`/?dependency_status=${S}`)},d=()=>{window.dispatchEvent(new CustomEvent("orc:new-task"))},y=()=>{e("/")};return o&&!l?s.jsx("div",{className:"dashboard",children:s.jsxs("div",{className:"loading",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading dashboard..."})]})}):p?s.jsx("div",{className:"dashboard",children:s.jsxs("div",{className:"error",children:[s.jsx("p",{children:p}),s.jsx("button",{onClick:b,children:"Retry"})]})}):l?s.jsxs("div",{className:"dashboard",children:[s.jsx(ij,{stats:l,wsStatus:t,onFilterClick:N,onDependencyFilterClick:v}),s.jsx(rj,{onNewTask:d,onViewTasks:y}),s.jsx(mj,{initiatives:c}),s.jsx(cj,{tasks:m}),s.jsx(oj,{tasks:g}),s.jsx(pj,{stats:l})]}):null}const xj=["trivial","small","medium","large","greenfield"],bj=["critical","high","normal","low"],jj=["feature","bug","refactor","chore","docs","test"],Sj=["active","backlog"];function Nj({open:e,task:t,onClose:a,onUpdate:n}){const[l,i]=u.useState(t.title),[c,r]=u.useState(t.description??""),[o,f]=u.useState(t.weight),[p,h]=u.useState(t.priority??"normal"),[m,g]=u.useState(t.category??"feature"),[b,j]=u.useState(t.queue??"active"),[N,v]=u.useState(!1),d=u.useCallback(async()=>{if(!l.trim()){G.error("Title is required");return}v(!0);try{const y=await Ua(t.id,{title:l.trim(),description:c.trim()||void 0,weight:o,priority:p,category:m,queue:b});G.success("Task updated"),n(y),a()}catch(y){G.error(y instanceof Error?y.message:"Failed to update task")}finally{v(!1)}},[t.id,l,c,o,p,m,b,n,a]);return s.jsx(_n,{open:e,title:"Edit Task",onClose:a,children:s.jsxs("div",{className:"task-edit-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"task-title",children:"Title"}),s.jsx("input",{id:"task-title",type:"text",value:l,onChange:y=>i(y.target.value),placeholder:"Task title",autoFocus:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"task-description",children:"Description"}),s.jsx("textarea",{id:"task-description",value:c,onChange:y=>r(y.target.value),placeholder:"Optional description",rows:3})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"task-weight",children:"Weight"}),s.jsx("select",{id:"task-weight",value:o,onChange:y=>f(y.target.value),children:xj.map(y=>s.jsx("option",{value:y,children:y},y))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"task-priority",children:"Priority"}),s.jsx("select",{id:"task-priority",value:p,onChange:y=>h(y.target.value),children:bj.map(y=>s.jsx("option",{value:y,children:y},y))})]})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"task-category",children:"Category"}),s.jsx("select",{id:"task-category",value:m,onChange:y=>g(y.target.value),children:jj.map(y=>s.jsx("option",{value:y,children:y},y))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"task-queue",children:"Queue"}),s.jsx("select",{id:"task-queue",value:b,onChange:y=>j(y.target.value),children:Sj.map(y=>s.jsx("option",{value:y,children:y},y))})]})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{type:"button",className:"cancel-btn",onClick:a,disabled:N,children:"Cancel"}),s.jsx("button",{type:"button",className:"save-btn",onClick:d,disabled:N||!l.trim(),children:N?"Saving...":"Save Changes"})]})]})})}function Cj({taskId:e}){const[t,a]=u.useState(!1),[n,l]=u.useState(!1),i=u.useRef(null);u.useEffect(()=>{const r=o=>{i.current&&!i.current.contains(o.target)&&a(!1)};return t&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t]);const c=u.useCallback(async r=>{l(!0);try{const o=await D0(e,r);o.success&&G.success(`Exported to ${o.exported_to}`),a(!1)}catch(o){G.error(o instanceof Error?o.message:"Export failed")}finally{l(!1)}},[e]);return s.jsxs("div",{className:"export-dropdown",ref:i,children:[s.jsxs("button",{className:"export-trigger",onClick:()=>a(!t),disabled:n,title:"Export task",children:[s.jsx(_,{name:"export",size:18}),s.jsx(_,{name:t?"chevron-up":"chevron-down",size:14})]}),t&&s.jsxs("div",{className:"export-menu",children:[s.jsx("div",{className:"export-menu-header",children:"Export Options"}),s.jsxs("button",{className:"export-option",onClick:()=>c({task_definition:!0}),disabled:n,children:[s.jsx(_,{name:"file-text",size:16}),s.jsx("span",{children:"Task Definition"})]}),s.jsxs("button",{className:"export-option",onClick:()=>c({final_state:!0}),disabled:n,children:[s.jsx(_,{name:"database",size:16}),s.jsx("span",{children:"Final State"})]}),s.jsxs("button",{className:"export-option",onClick:()=>c({transcripts:!0}),disabled:n,children:[s.jsx(_,{name:"terminal",size:16}),s.jsx("span",{children:"Transcripts"})]}),s.jsxs("button",{className:"export-option",onClick:()=>c({context_summary:!0}),disabled:n,children:[s.jsx(_,{name:"clipboard",size:16}),s.jsx("span",{children:"Context Summary"})]}),s.jsx("div",{className:"export-menu-divider"}),s.jsxs("button",{className:"export-option",onClick:()=>c({task_definition:!0,final_state:!0,transcripts:!0,context_summary:!0}),disabled:n,children:[s.jsx(_,{name:"layers",size:16}),s.jsx("span",{children:"Export All"})]}),s.jsxs("button",{className:"export-option",onClick:()=>c({to_branch:!0}),disabled:n,children:[s.jsx(_,{name:"branch",size:16}),s.jsx("span",{children:"Commit to Branch"})]})]})]})}function Ej({task:e,onTaskUpdate:t,onTaskDelete:a}){const n=At(),[l,i]=u.useState(!1),[c,r]=u.useState(!1),[o,f]=u.useState(!1),[p,h]=u.useState(!1),m=u.useCallback(async()=>{h(!0);try{const y=await p0(e.id);y.task&&t(y.task),G.success("Task started")}catch(y){G.error(y instanceof Error?y.message:"Failed to start task")}finally{h(!1)}},[e.id,t]),g=u.useCallback(async()=>{h(!0);try{await v0(e.id),G.success("Task paused")}catch(y){G.error(y instanceof Error?y.message:"Failed to pause task")}finally{h(!1)}},[e.id]),b=u.useCallback(async()=>{h(!0);try{await g0(e.id),G.success("Task resumed")}catch(y){G.error(y instanceof Error?y.message:"Failed to resume task")}finally{h(!1)}},[e.id]),j=u.useCallback(async()=>{f(!0);try{await y0(e.id),G.success("Task deleted"),a()}catch(y){G.error(y instanceof Error?y.message:"Failed to delete task"),r(!1)}finally{f(!1)}},[e.id,a]),N=()=>{if(p)return s.jsx("button",{className:"action-btn",disabled:!0,children:s.jsx("div",{className:"btn-spinner"})});switch(e.status){case"created":case"planned":case"failed":return s.jsxs("button",{className:"action-btn run",onClick:m,title:"Run task",children:[s.jsx(_,{name:"play",size:16}),s.jsx("span",{children:"Run"})]});case"running":return s.jsxs("button",{className:"action-btn pause",onClick:g,title:"Pause task",children:[s.jsx(_,{name:"pause",size:16}),s.jsx("span",{children:"Pause"})]});case"paused":return s.jsxs("button",{className:"action-btn resume",onClick:b,title:"Resume task",children:[s.jsx(_,{name:"play",size:16}),s.jsx("span",{children:"Resume"})]});default:return null}},v=e.category?Jb[e.category]:null,d=e.priority?gv[e.priority]:null;return s.jsxs("header",{className:"task-header",children:[s.jsxs("div",{className:"task-header-top",children:[s.jsx("button",{className:"back-btn",onClick:()=>n(-1),title:"Go back",children:s.jsx(_,{name:"arrow-left",size:20})}),s.jsxs("div",{className:"task-identity",children:[s.jsx("span",{className:"task-id",children:e.id}),s.jsx(ll,{status:e.status,size:"sm"}),e.weight&&s.jsx("span",{className:"weight-badge",children:e.weight}),v&&s.jsxs("span",{className:"category-badge",style:{"--category-color":v.color},children:[s.jsx("span",{className:"category-icon",children:v.icon}),v.label]}),e.priority&&e.priority!=="normal"&&d&&s.jsx("span",{className:"priority-badge",style:{"--priority-color":d.color},children:d.label})]}),s.jsxs("div",{className:"task-actions",children:[N(),s.jsx(Cj,{taskId:e.id}),s.jsx("button",{className:"icon-btn",onClick:()=>i(!0),title:"Edit task",children:s.jsx(_,{name:"edit",size:18})}),s.jsx("button",{className:"icon-btn danger",onClick:()=>r(!0),title:"Delete task",children:s.jsx(_,{name:"trash",size:18})})]})]}),s.jsx("h1",{className:"task-title",children:e.title}),e.description&&s.jsx("p",{className:"task-description",children:e.description}),e.branch&&s.jsxs("div",{className:"task-branch",children:[s.jsx(_,{name:"branch",size:14}),s.jsx("code",{children:e.branch})]}),s.jsx(Nj,{open:l,task:e,onClose:()=>i(!1),onUpdate:t}),c&&s.jsx("div",{className:"modal-overlay",onClick:()=>r(!1),children:s.jsxs("div",{className:"delete-confirm",onClick:y=>y.stopPropagation(),children:[s.jsx("h3",{children:"Delete Task?"}),s.jsxs("p",{children:["Are you sure you want to delete ",s.jsx("strong",{children:e.id}),"? This action cannot be undone."]}),s.jsxs("div",{className:"confirm-actions",children:[s.jsx("button",{className:"cancel-btn",onClick:()=>r(!1),disabled:o,children:"Cancel"}),s.jsx("button",{className:"delete-btn",onClick:j,disabled:o,children:o?"Deleting...":"Delete"})]})]})})]})}function Tj({task:e,collapsed:t,onToggle:a}){const[n,l]=u.useState(null),[i,c]=u.useState(!0),[r,o]=u.useState(!1),[f,p]=u.useState(!1),[h,m]=u.useState([]),[g,b]=u.useState(!1),j=u.useCallback(async()=>{c(!0);try{const C=await H0(e.id);l(C)}catch(C){console.error("Failed to load dependencies:",C)}finally{c(!1)}},[e.id]);u.useEffect(()=>{j()},[j]);const N=u.useCallback(async()=>{try{const C=await bv(),M=Array.isArray(C)?C:C.tasks;m(M.filter(Y=>Y.id!==e.id))}catch(C){console.error("Failed to load tasks:",C)}},[e.id]),v=u.useCallback(async C=>{b(!0);try{await B0(e.id,C),await j(),o(!1),G.success("Blocker added")}catch(M){G.error(M instanceof Error?M.message:"Failed to add blocker")}finally{b(!1)}},[e.id,j]),d=u.useCallback(async C=>{try{await q0(e.id,C),await j(),G.success("Blocker removed")}catch(M){G.error(M instanceof Error?M.message:"Failed to remove blocker")}},[e.id,j]),y=u.useCallback(async C=>{b(!0);try{await G0(e.id,C),await j(),p(!1),G.success("Related task added")}catch(M){G.error(M instanceof Error?M.message:"Failed to add related task")}finally{b(!1)}},[e.id,j]),S=u.useCallback(async C=>{try{await Y0(e.id,C),await j(),G.success("Related task removed")}catch(M){G.error(M instanceof Error?M.message:"Failed to remove related task")}},[e.id,j]),x=u.useCallback(()=>{N(),o(!0)},[N]),E=u.useCallback(()=>{N(),p(!0)},[N]),k=u.useCallback(C=>h.filter(M=>!C.includes(M.id)),[h]);if(t)return s.jsx("aside",{className:"dependency-sidebar collapsed",children:s.jsx("button",{className:"toggle-btn",onClick:a,title:"Show dependencies",children:s.jsx(_,{name:"panel-left-open",size:18})})});const A=(n==null?void 0:n.blocked_by.map(C=>C.id))??[],z=(n==null?void 0:n.related_to.map(C=>C.id))??[];return s.jsxs("aside",{className:"dependency-sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("h3",{children:[s.jsx(_,{name:"link",size:16}),"Dependencies"]}),s.jsx("button",{className:"toggle-btn",onClick:a,title:"Hide dependencies",children:s.jsx(_,{name:"panel-left-close",size:18})})]}),i?s.jsx("div",{className:"sidebar-loading",children:s.jsx("div",{className:"loading-spinner"})}):s.jsxs("div",{className:"sidebar-content",children:[s.jsx(qs,{title:"Blocked By",items:(n==null?void 0:n.blocked_by)??[],emptyText:"No blockers",canRemove:!0,onRemove:d,onAdd:x}),s.jsx(qs,{title:"Blocks",items:(n==null?void 0:n.blocks)??[],emptyText:"Doesn't block any tasks",readonly:!0}),s.jsx(qs,{title:"Related To",items:(n==null?void 0:n.related_to)??[],emptyText:"No related tasks",canRemove:!0,onRemove:S,onAdd:E}),s.jsx(qs,{title:"Referenced By",items:(n==null?void 0:n.referenced_by)??[],emptyText:"Not referenced",readonly:!0})]}),r&&s.jsx(Of,{title:"Add Blocker",tasks:k([...A,e.id]),onSelect:v,onClose:()=>o(!1),loading:g}),f&&s.jsx(Of,{title:"Add Related Task",tasks:k([...z,e.id]),onSelect:y,onClose:()=>p(!1),loading:g})]})}function qs({title:e,items:t,emptyText:a,readonly:n,canRemove:l,onRemove:i,onAdd:c}){return s.jsxs("div",{className:"dep-section",children:[s.jsxs("div",{className:"dep-section-header",children:[s.jsx("span",{className:"dep-section-title",children:e}),!n&&c&&s.jsx("button",{className:"add-dep-btn",onClick:c,title:`Add ${e.toLowerCase()}`,children:s.jsx(_,{name:"plus",size:14})})]}),t.length===0?s.jsx("div",{className:"dep-empty",children:a}):s.jsx("ul",{className:"dep-list",children:t.map(r=>s.jsxs("li",{className:"dep-item",children:[s.jsxs(Da,{to:`/tasks/${r.id}`,className:"dep-link",children:[s.jsx(ll,{status:r.status,size:"sm"}),s.jsx("span",{className:"dep-id",children:r.id}),s.jsx("span",{className:"dep-title",children:r.title})]}),l&&i&&s.jsx("button",{className:"remove-dep-btn",onClick:()=>i(r.id),title:"Remove",children:s.jsx(_,{name:"x",size:14})})]},r.id))})]})}function Of({title:e,tasks:t,onSelect:a,onClose:n,loading:l}){const[i,c]=u.useState(""),r=t.filter(o=>o.id.toLowerCase().includes(i.toLowerCase())||o.title.toLowerCase().includes(i.toLowerCase()));return s.jsx("div",{className:"modal-overlay",onClick:n,children:s.jsxs("div",{className:"add-dep-modal",onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h4",{children:e}),s.jsx("button",{className:"close-btn",onClick:n,children:s.jsx(_,{name:"x",size:18})})]}),s.jsxs("div",{className:"modal-search",children:[s.jsx(_,{name:"search",size:16}),s.jsx("input",{type:"text",placeholder:"Search tasks...",value:i,onChange:o=>c(o.target.value),autoFocus:!0})]}),s.jsx("div",{className:"modal-list",children:r.length===0?s.jsx("div",{className:"modal-empty",children:"No matching tasks"}):r.map(o=>s.jsxs("button",{className:"task-option",onClick:()=>a(o.id),disabled:l,children:[s.jsx(ll,{status:o.status,size:"sm"}),s.jsx("span",{className:"task-id",children:o.id}),s.jsx("span",{className:"task-title",children:o.title})]},o.id))})]})})}const wj=[{id:"timeline",label:"Timeline",icon:"clock"},{id:"changes",label:"Changes",icon:"branch"},{id:"transcript",label:"Transcript",icon:"file-text"},{id:"test-results",label:"Test Results",icon:"check-circle"},{id:"attachments",label:"Attachments",icon:"folder"},{id:"comments",label:"Comments",icon:"message-circle"}];function kj({activeTab:e,onTabChange:t}){return s.jsx("nav",{className:"tab-nav",role:"tablist","aria-label":"Task detail tabs",children:wj.map(a=>s.jsxs("button",{role:"tab","aria-selected":e===a.id,"aria-controls":`panel-${a.id}`,className:`tab-btn ${e===a.id?"active":""}`,onClick:()=>t(a.id),children:[s.jsx(_,{name:a.icon,size:16}),s.jsx("span",{children:a.label})]},a.id))})}function _j({task:e,taskState:t,plan:a}){return a?s.jsx("div",{className:"timeline-tab",children:s.jsxs("div",{className:"timeline-layout",children:[s.jsxs("div",{className:"timeline-section",children:[s.jsxs("h3",{className:"section-title",children:[s.jsx(_,{name:"clock",size:16}),"Phase Timeline"]}),s.jsx("div",{className:"timeline",children:a.phases.map((n,l)=>{const i=t==null?void 0:t.phases[n.name],c=(i==null?void 0:i.status)??n.status,r=(t==null?void 0:t.current_phase)===n.name;return s.jsx(Aj,{name:n.name,status:c,isCurrent:r,startedAt:i==null?void 0:i.started_at,completedAt:i==null?void 0:i.completed_at,iterations:(i==null?void 0:i.iterations)??n.iterations,commitSha:(i==null?void 0:i.commit_sha)??n.commit_sha,error:(i==null?void 0:i.error)??n.error,isLast:l===a.phases.length-1},n.id)})})]}),(t==null?void 0:t.tokens)&&s.jsxs("div",{className:"stats-section",children:[s.jsxs("h3",{className:"section-title",children:[s.jsx(_,{name:"dollar",size:16}),"Token Usage"]}),s.jsx(Dj,{tokens:t.tokens}),s.jsx("h4",{className:"subsection-title",children:"Per Phase"}),s.jsx("div",{className:"phase-tokens",children:a.phases.map(n=>{var i;const l=t.phases[n.name];return(i=l==null?void 0:l.tokens)!=null&&i.total_tokens?s.jsxs("div",{className:"phase-token-row",children:[s.jsx("span",{className:"phase-name",children:n.name}),s.jsx("span",{className:"phase-total",children:vn(l.tokens.total_tokens)})]},n.id):null})})]}),s.jsxs("div",{className:"info-section",children:[s.jsxs("h3",{className:"section-title",children:[s.jsx(_,{name:"info",size:16}),"Task Info"]}),s.jsxs("dl",{className:"info-list",children:[s.jsxs("div",{className:"info-item",children:[s.jsx("dt",{children:"Weight"}),s.jsx("dd",{children:e.weight})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{className:`status-${e.status}`,children:e.status})]}),(t==null?void 0:t.retries)!==void 0&&t.retries>0&&s.jsxs("div",{className:"info-item",children:[s.jsx("dt",{children:"Retries"}),s.jsx("dd",{children:t.retries})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("dt",{children:"Created"}),s.jsx("dd",{children:Zc(e.created_at)})]}),e.started_at&&s.jsxs("div",{className:"info-item",children:[s.jsx("dt",{children:"Started"}),s.jsx("dd",{children:Zc(e.started_at)})]}),e.completed_at&&s.jsxs("div",{className:"info-item",children:[s.jsx("dt",{children:"Completed"}),s.jsx("dd",{children:Zc(e.completed_at)})]})]})]})]})}):s.jsx("div",{className:"timeline-tab",children:s.jsxs("div",{className:"timeline-empty",children:[s.jsx(_,{name:"clock",size:32}),s.jsx("h3",{children:"No Plan Available"}),s.jsx("p",{children:"This task doesn't have a plan yet. Run the task to generate phases."})]})})}function Aj({name:e,status:t,isCurrent:a,startedAt:n,completedAt:l,iterations:i,commitSha:c,error:r,isLast:o}){const f=()=>{switch(t){case"completed":return"check-circle";case"running":return"play-circle";case"failed":return"x-circle";case"skipped":return"circle";default:return"circle"}},p=()=>a&&t==="running"?"running":t;return s.jsxs("div",{className:`timeline-phase ${p()} ${a?"current":""}`,children:[s.jsxs("div",{className:"phase-marker",children:[s.jsx(_,{name:f(),size:20}),!o&&s.jsx("div",{className:"phase-connector"})]}),s.jsxs("div",{className:"phase-content",children:[s.jsxs("div",{className:"phase-header",children:[s.jsx("span",{className:"phase-name",children:e}),i>1&&s.jsxs("span",{className:"phase-iterations",children:[i," iterations"]})]}),(n||l)&&s.jsxs("div",{className:"phase-time",children:[n&&s.jsxs("span",{children:["Started: ",Rf(n)]}),l&&s.jsxs("span",{children:["Completed: ",Rf(l)]})]}),c&&s.jsxs("div",{className:"phase-commit",children:[s.jsx(_,{name:"branch",size:12}),s.jsx("code",{children:c.slice(0,7)})]}),r&&s.jsxs("div",{className:"phase-error",children:[s.jsx(_,{name:"alert-circle",size:12}),s.jsx("span",{children:r})]})]})]})}function Dj({tokens:e}){const t=e.cache_read_input_tokens&&e.input_tokens?Math.round(e.cache_read_input_tokens/(e.input_tokens+e.cache_read_input_tokens)*100):0;return s.jsxs("div",{className:"token-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-label",children:"Total Tokens"}),s.jsx("span",{className:"stat-value",children:vn(e.total_tokens)})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-label",children:"Input"}),s.jsx("span",{className:"stat-value",children:vn(e.input_tokens)})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-label",children:"Output"}),s.jsx("span",{className:"stat-value",children:vn(e.output_tokens)})]}),e.cache_read_input_tokens!==void 0&&e.cache_read_input_tokens>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-label",children:"Cache Read"}),s.jsx("span",{className:"stat-value",children:vn(e.cache_read_input_tokens)})]}),s.jsxs("div",{className:"stat-card highlight",children:[s.jsx("span",{className:"stat-label",children:"Cache Rate"}),s.jsxs("span",{className:"stat-value",children:[t,"%"]})]})]}),e.cache_creation_input_tokens!==void 0&&e.cache_creation_input_tokens>0&&s.jsxs("div",{className:"stat-card",children:[s.jsx("span",{className:"stat-label",children:"Cache Created"}),s.jsx("span",{className:"stat-value",children:vn(e.cache_creation_input_tokens)})]})]})}function vn(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function Zc(e){return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function Rf(e){return new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Ev({filePath:e,lineNumber:t,comments:a,showForm:n,onAddComment:l,onResolveComment:i,onWontFixComment:c,onDeleteComment:r,onCloseThread:o}){const[f,p]=u.useState(""),[h,m]=u.useState("issue"),[g,b]=u.useState(!1),j=a.filter(d=>d.status==="open"),N=a.filter(d=>d.status!=="open"),v=u.useCallback(async()=>{if(!(!f.trim()||g)){b(!0);try{await l({file_path:e,line_number:t,content:f.trim(),severity:h}),p(""),m("issue")}finally{b(!1)}}},[f,h,e,t,l,g]);return!n&&a.length===0?null:s.jsxs("div",{className:"inline-comment-thread",children:[j.map(d=>s.jsxs("div",{className:`comment ${d.severity}`,children:[s.jsxs("div",{className:"comment-header",children:[s.jsx("span",{className:`severity-badge ${d.severity}`,children:d.severity}),s.jsx("span",{className:"timestamp",children:new Date(d.created_at).toLocaleString()})]}),s.jsx("div",{className:"comment-content",children:d.content}),s.jsxs("div",{className:"comment-actions",children:[s.jsx("button",{onClick:()=>i(d.id),children:"Resolve"}),s.jsx("button",{onClick:()=>c(d.id),children:"Won't Fix"}),s.jsx("button",{className:"delete",onClick:()=>r(d.id),children:"Delete"})]})]},d.id)),N.length>0&&s.jsx("div",{className:"resolved-comments",children:s.jsxs("span",{className:"resolved-label",children:[N.length," resolved comment",N.length>1?"s":""]})}),n&&s.jsxs("div",{className:"comment-form",children:[s.jsx("div",{className:"severity-pills",children:["suggestion","issue","blocker"].map(d=>s.jsx("button",{type:"button",className:`severity-pill ${h===d?"selected":""}`,onClick:()=>m(d),children:d},d))}),s.jsx("textarea",{value:f,onChange:d=>p(d.target.value),placeholder:"Add a review comment...",rows:2,disabled:g,autoFocus:!0}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{className:"cancel-btn",onClick:o,disabled:g,children:"Cancel"}),s.jsx("button",{className:"submit-btn",onClick:v,disabled:!f.trim()||g,children:g?"Adding...":"Add Comment"})]})]})]})}function zj({hunk:e,filePath:t,viewMode:a,comments:n,activeLineNumber:l,onLineClick:i,onAddComment:c,onResolveComment:r,onWontFixComment:o,onDeleteComment:f,onCloseThread:p}){return s.jsxs("div",{className:"diff-hunk",children:[s.jsxs("div",{className:"hunk-header",children:["@@ -",e.old_start,",",e.old_lines," +",e.new_start,",",e.new_lines," @@"]}),s.jsx("div",{className:`hunk-lines ${a}`,children:a==="split"?s.jsx(Mj,{hunk:e,filePath:t,comments:n,activeLineNumber:l,onLineClick:i,onAddComment:c,onResolveComment:r,onWontFixComment:o,onDeleteComment:f,onCloseThread:p}):s.jsx(Oj,{hunk:e,filePath:t,comments:n,activeLineNumber:l,onLineClick:i,onAddComment:c,onResolveComment:r,onWontFixComment:o,onDeleteComment:f,onCloseThread:p})})]})}function Mj({hunk:e,filePath:t,comments:a,activeLineNumber:n,onLineClick:l,onAddComment:i,onResolveComment:c,onWontFixComment:r,onDeleteComment:o,onCloseThread:f}){const p=[];let h=[],m=[];for(const b of e.lines)if(b.type==="context"){for(;h.length||m.length;)p.push({left:h.shift()??null,right:m.shift()??null});p.push({left:b,right:b})}else b.type==="deletion"?h.push(b):b.type==="addition"&&m.push(b);for(;h.length||m.length;)p.push({left:h.shift()??null,right:m.shift()??null});const g=b=>b?a.filter(j=>j.line_number===b):[];return s.jsx("table",{className:"split-table",children:s.jsx("tbody",{children:p.map((b,j)=>{const N=b.left,v=b.right,d=N==null?void 0:N.old_line,y=v==null?void 0:v.new_line,S=y?g(y):d?g(d):[],x=!!(y&&n===y||d&&n===d);return s.jsxs(u.Fragment,{children:[s.jsxs("tr",{className:"split-row",children:[s.jsx("td",{className:"line-number old",children:(N==null?void 0:N.old_line)??""}),s.jsxs("td",{className:`line-content old ${(N==null?void 0:N.type)??"empty"}`,onClick:()=>(N==null?void 0:N.old_line)&&l(N.old_line,t),children:[(N==null?void 0:N.type)==="deletion"&&s.jsx("span",{className:"prefix",children:"-"}),(N==null?void 0:N.content)??""]}),s.jsx("td",{className:"line-number new",children:(v==null?void 0:v.new_line)??""}),s.jsxs("td",{className:`line-content new ${(v==null?void 0:v.type)??"empty"}`,onClick:()=>(v==null?void 0:v.new_line)&&l(v.new_line,t),children:[(v==null?void 0:v.type)==="addition"&&s.jsx("span",{className:"prefix",children:"+"}),(v==null?void 0:v.content)??""]})]}),(x||S.length>0)&&s.jsx("tr",{className:"comment-row",children:s.jsx("td",{colSpan:4,children:s.jsx(Ev,{filePath:t,lineNumber:y??d??0,comments:S,showForm:x,onAddComment:i,onResolveComment:c,onWontFixComment:r,onDeleteComment:o,onCloseThread:f})})})]},j)})})})}function Oj({hunk:e,filePath:t,comments:a,activeLineNumber:n,onLineClick:l,onAddComment:i,onResolveComment:c,onWontFixComment:r,onDeleteComment:o,onCloseThread:f}){const p=h=>h?a.filter(m=>m.line_number===h):[];return s.jsx("table",{className:"unified-table",children:s.jsx("tbody",{children:e.lines.map((h,m)=>{const g=h.new_line??h.old_line,b=p(g),j=!!(g&&n===g);return s.jsxs(u.Fragment,{children:[s.jsxs("tr",{className:`unified-row ${h.type}`,children:[s.jsx("td",{className:"line-number old",children:h.old_line??""}),s.jsx("td",{className:"line-number new",children:h.new_line??""}),s.jsxs("td",{className:`line-content ${h.type}`,onClick:()=>g&&l(g,t),children:[s.jsx("span",{className:"prefix",children:h.type==="addition"?"+":h.type==="deletion"?"-":" "}),h.content]})]}),(j||b.length>0)&&s.jsx("tr",{className:"comment-row",children:s.jsx("td",{colSpan:3,children:s.jsx(Ev,{filePath:t,lineNumber:g??0,comments:b,showForm:j,onAddComment:i,onResolveComment:c,onWontFixComment:r,onDeleteComment:o,onCloseThread:f})})})]},m)})})})}function Rj({file:e,expanded:t,viewMode:a,comments:n,activeLineNumber:l,onToggle:i,onLineClick:c,onAddComment:r,onResolveComment:o,onWontFixComment:f,onDeleteComment:p,onCloseThread:h}){const m=u.useMemo(()=>n.filter(j=>j.file_path===e.path),[n,e.path]),g=()=>{switch(e.status){case"added":return"plus";case"deleted":return"trash";case"renamed":return"arrow-left";default:return"edit"}},b=()=>{switch(e.status){case"added":return"added";case"deleted":return"deleted";case"renamed":return"renamed";default:return"modified"}};return s.jsxs("div",{className:`diff-file ${b()}`,children:[s.jsxs("button",{className:"file-header",onClick:i,children:[s.jsx(_,{name:t?"chevron-down":"chevron-right",size:16}),s.jsx(_,{name:g(),size:14,className:`status-icon ${b()}`}),s.jsxs("span",{className:"file-path",children:[e.status==="renamed"&&e.old_path?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"old-path",children:e.old_path}),s.jsx(_,{name:"arrow-left",size:12,className:"rename-arrow"})]}):null,e.path]}),e.binary&&s.jsx("span",{className:"binary-badge",children:"Binary"}),s.jsxs("div",{className:"file-stats",children:[e.additions>0&&s.jsxs("span",{className:"additions",children:["+",e.additions]}),e.deletions>0&&s.jsxs("span",{className:"deletions",children:["-",e.deletions]})]}),m.filter(j=>j.status==="open").length>0&&s.jsx("span",{className:"comment-count",children:m.filter(j=>j.status==="open").length})]}),t&&s.jsx("div",{className:"file-content",children:e.binary?s.jsx("div",{className:"binary-notice",children:"Binary file not shown"}):e.loadError?s.jsxs("div",{className:"load-error",children:[s.jsx(_,{name:"alert-circle",size:16}),s.jsx("span",{children:e.loadError})]}):e.hunks&&e.hunks.length>0?s.jsx("div",{className:`diff-content ${a}`,children:e.hunks.map((j,N)=>s.jsx(zj,{hunk:j,filePath:e.path,viewMode:a,comments:m,activeLineNumber:l,onLineClick:c,onAddComment:r,onResolveComment:o,onWontFixComment:f,onDeleteComment:p,onCloseThread:h},N))}):s.jsxs("div",{className:"loading-hunks",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("span",{children:"Loading diff..."})]})})]})}function Uj({stats:e}){return s.jsxs("div",{className:"diff-stats",children:[s.jsxs("span",{className:"stat files",children:[e.files_changed," file",e.files_changed!==1?"s":""]}),s.jsxs("span",{className:"stat additions",children:["+",e.additions]}),s.jsxs("span",{className:"stat deletions",children:["-",e.deletions]})]})}function Lj({taskId:e}){const[t,a]=u.useState(null),[n,l]=u.useState([]),[i,c]=u.useState(!0),[r,o]=u.useState(null),[f,p]=u.useState("split"),[h,m]=u.useState(new Set),[g,b]=u.useState(null),[j,N]=u.useState(null),[v,d]=u.useState(!1),[y,S]=u.useState(!1),[x,E]=u.useState(""),[k,A]=u.useState("issue"),[z,C]=u.useState(!1),M=n.filter(L=>L.status==="open"),Y=M.filter(L=>L.severity==="blocker").length,ie=M.filter(L=>L.severity==="issue").length,ce=M.filter(L=>L.severity==="suggestion").length,B=Y>0,R=n.filter(L=>!L.file_path&&!L.line_number),H=u.useCallback(async()=>{c(!0),o(null);try{const L=await fetch(`/api/tasks/${e}/diff?files=true`);if(!L.ok)throw new Error("Failed to load diff");const Z=await L.json();a(Z)}catch(L){o(L instanceof Error?L.message:"Unknown error")}finally{c(!1)}},[e]),q=u.useCallback(async()=>{try{const L=await C0(e);l(L)}catch(L){console.error("Failed to load comments:",L)}},[e]);u.useEffect(()=>{Promise.all([H(),q()])},[H,q]);const T=u.useCallback(async L=>{try{const Z=await fetch(`/api/tasks/${e}/diff/file/${encodeURIComponent(L)}`);if(!Z.ok){const ye=`Failed to load file diff (${Z.status})`;a(Ne=>Ne?{...Ne,files:Ne.files.map(sl=>sl.path===L?{...sl,loadError:ye}:sl)}:null);return}const pe=await Z.json();a(ye=>ye?{...ye,files:ye.files.map(Ne=>Ne.path===L?{...Ne,hunks:pe.hunks,loadError:void 0}:Ne)}:null)}catch(Z){const pe=Z instanceof Error?Z.message:"Unknown error loading file";a(ye=>ye?{...ye,files:ye.files.map(Ne=>Ne.path===L?{...Ne,loadError:pe}:Ne)}:null)}},[e]),w=u.useCallback(L=>{var pe;const Z=t==null?void 0:t.files.find(ye=>ye.path===L);!((pe=Z==null?void 0:Z.hunks)!=null&&pe.length)&&!(Z!=null&&Z.loadError)&&T(L),m(ye=>{const Ne=new Set(ye);return Ne.has(L)?Ne.delete(L):Ne.add(L),Ne})},[t,T]),O=u.useCallback(()=>{var L;if(t){for(const Z of t.files)(L=Z.hunks)!=null&&L.length||T(Z.path);m(new Set(t.files.map(Z=>Z.path)))}},[t,T]),Q=u.useCallback(()=>{m(new Set)},[]),De=t?h.size===t.files.length:!1,Be=u.useCallback((L,Z)=>{g===L&&j===Z?(b(null),N(null)):(b(L),N(Z))},[g,j]),qe=u.useCallback(()=>{b(null),N(null)},[]),Ba=u.useCallback(async L=>{try{const Z=await Sf(e,L);l(pe=>[...pe,Z]),b(null),N(null),G.success("Comment added")}catch(Z){throw G.error("Failed to add comment"),Z}},[e]),X=u.useCallback(async L=>{try{const Z=await Nf(e,L,{status:"resolved"});l(pe=>pe.map(ye=>ye.id===L?Z:ye)),G.success("Comment resolved")}catch{G.error("Failed to resolve comment")}},[e]),ge=u.useCallback(async L=>{try{const Z=await Nf(e,L,{status:"wont_fix"});l(pe=>pe.map(ye=>ye.id===L?Z:ye)),G.success("Marked as won't fix")}catch{G.error("Failed to update comment")}},[e]),zt=u.useCallback(async L=>{try{await E0(e,L),l(Z=>Z.filter(pe=>pe.id!==L)),G.success("Comment deleted")}catch{G.error("Failed to delete comment")}},[e]),gs=u.useCallback(async()=>{if(!(!x.trim()||z)){C(!0);try{const L=await Sf(e,{content:x.trim(),severity:k});l(Z=>[...Z,L]),E(""),A("issue"),S(!1),G.success("Comment added")}catch{G.error("Failed to add comment")}finally{C(!1)}}},[e,x,k,z]),cn=u.useCallback(async()=>{if(!(M.length===0||v)){d(!0);try{await T0(e),G.success("Comments sent to agent for review")}catch{G.error("Failed to send comments to agent")}finally{d(!1)}}},[e,M.length,v]);return i?s.jsx("div",{className:"changes-tab",children:s.jsxs("div",{className:"changes-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("span",{children:"Loading diff..."})]})}):r?s.jsx("div",{className:"changes-tab",children:s.jsxs("div",{className:"changes-error",children:[s.jsx(_,{name:"alert-circle",size:24}),s.jsx("span",{children:r})]})}):!t||t.files.length===0?s.jsx("div",{className:"changes-tab",children:s.jsxs("div",{className:"changes-empty",children:[s.jsx(_,{name:"branch",size:32}),s.jsx("h3",{children:"No Changes"}),s.jsx("p",{children:"No code changes to display for this task."})]})}):s.jsxs("div",{className:"changes-tab",children:[s.jsxs("div",{className:"diff-toolbar",children:[s.jsxs("div",{className:"toolbar-left",children:[s.jsxs("div",{className:"view-toggle",role:"tablist","aria-label":"Diff view mode",children:[s.jsx("button",{role:"tab","aria-selected":f==="split",className:f==="split"?"active":"",onClick:()=>p("split"),children:"Split"}),s.jsx("button",{role:"tab","aria-selected":f==="unified",className:f==="unified"?"active":"",onClick:()=>p("unified"),children:"Unified"})]}),s.jsx("button",{className:"expand-btn",onClick:()=>De?Q():O(),children:De?"Collapse all":"Expand all"})]}),s.jsxs("div",{className:"toolbar-right",children:[M.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`review-summary ${B?"has-blockers":""}`,children:[Y>0&&s.jsxs("span",{className:"count blocker",children:[Y," blocker",Y>1?"s":""]}),ie>0&&s.jsxs("span",{className:"count issue",children:[ie," issue",ie>1?"s":""]}),ce>0&&s.jsxs("span",{className:"count suggestion",children:[ce," suggestion",ce>1?"s":""]})]}),s.jsx("button",{className:"send-to-agent-btn",onClick:cn,disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"btn-spinner"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_,{name:"play",size:14}),"Send to Agent"]})})]}),s.jsx(Uj,{stats:t.stats})]})]}),s.jsx("div",{className:"file-list",children:t.files.map(L=>s.jsx(Rj,{file:L,expanded:h.has(L.path),viewMode:f,comments:n,activeLineNumber:j===L.path?g:null,onToggle:()=>w(L.path),onLineClick:Be,onAddComment:Ba,onResolveComment:X,onWontFixComment:ge,onDeleteComment:zt,onCloseThread:qe},L.path))}),s.jsxs("div",{className:"general-comments-section",children:[s.jsxs("div",{className:"general-comments-header",children:[s.jsx("h3",{children:"General Comments"}),!y&&s.jsxs("button",{className:"add-general-btn",onClick:()=>S(!0),children:[s.jsx("span",{children:"+"})," Add Comment"]})]}),R.filter(L=>L.status==="open").length>0&&s.jsx("div",{className:"general-comments-list",children:R.filter(L=>L.status==="open").map(L=>s.jsxs("div",{className:"general-comment",children:[s.jsxs("div",{className:"comment-header",children:[s.jsx("span",{className:`severity-badge ${L.severity}`,children:L.severity}),s.jsx("span",{className:"timestamp",children:new Date(L.created_at).toLocaleString()})]}),s.jsx("div",{className:"comment-content",children:L.content}),s.jsxs("div",{className:"comment-actions",children:[s.jsx("button",{className:"action-btn",onClick:()=>X(L.id),children:"Resolve"}),s.jsx("button",{className:"action-btn",onClick:()=>ge(L.id),children:"Won't Fix"}),s.jsx("button",{className:"action-btn delete",onClick:()=>zt(L.id),children:"Delete"})]})]},L.id))}),y&&s.jsxs("div",{className:"general-comment-form",children:[s.jsx("div",{className:"severity-pills",children:["suggestion","issue","blocker"].map(L=>s.jsx("button",{type:"button",className:`severity-pill ${k===L?"selected":""}`,onClick:()=>A(L),children:L},L))}),s.jsx("textarea",{value:x,onChange:L=>E(L.target.value),placeholder:"Add a general comment about this change...",rows:3,disabled:z}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{className:"cancel-btn",onClick:()=>{S(!1),E("")},children:"Cancel"}),s.jsx("button",{className:"submit-btn",onClick:gs,disabled:!x.trim()||z,children:z?"Adding...":"Add Comment"})]})]})]})]})}const Jc=10,Uf={prompt:{icon:"",colorVar:"var(--accent-primary)",bgVar:"var(--accent-subtle)"},"retry-context":{icon:"",colorVar:"var(--status-warning)",bgVar:"var(--status-warning-bg)"},response:{icon:"",colorVar:"var(--status-success)",bgVar:"var(--status-success-bg)"}};function Hj(e){var f;const t=e.split(`
`),a=(f=t[0])==null?void 0:f.match(/^# (\w+) - Iteration (\d+)/),n=(a==null?void 0:a[1])||"unknown",l=a?parseInt(a[2],10):1,i=[];let c=null,r=!1;const o={};for(let p=1;p<t.length;p++){const h=t[p];if(h.startsWith("## Prompt")){c&&i.push(c),c={type:"prompt",title:"Prompt",content:""};continue}if(h.startsWith("## Retry Context")){c&&i.push(c),c={type:"retry-context",title:"Retry Context",content:""};continue}if(h.startsWith("## Response")){c&&i.push(c),c={type:"response",title:"Response",content:""};continue}if(h==="---"&&(c==null?void 0:c.type)==="response"){r=!0,c&&i.push(c),c=null;continue}if(r){const m=h.match(/^Tokens: (\d+) input, (\d+) output, (\d+) cache_creation, (\d+) cache_read/);if(m)o.inputTokens=parseInt(m[1],10),o.outputTokens=parseInt(m[2],10),o.cacheCreationTokens=parseInt(m[3],10),o.cacheReadTokens=parseInt(m[4],10);else{const g=h.match(/^Tokens: (\d+) input, (\d+) output/);g&&(o.inputTokens=parseInt(g[1],10),o.outputTokens=parseInt(g[2],10))}h.startsWith("Complete:")&&(o.complete=h.includes("true")),h.startsWith("Blocked:")&&(o.blocked=h.includes("true"));continue}c&&(c.content+=(c.content?`
`:"")+h)}return c&&i.push(c),i.forEach(p=>p.content=p.content.trim()),{phase:n,iteration:l,sections:i,metadata:o}}function Bj(e){return new Date(e).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function qj({taskId:e,streamingContent:t="",autoScroll:a=!0}){const n=u.useRef(null),[l,i]=u.useState([]),[c,r]=u.useState(!0),[o,f]=u.useState(null),[p,h]=u.useState(a),[m,g]=u.useState(1),[b,j]=u.useState(new Set);u.useEffect(()=>{async function z(){r(!0),f(null);try{const C=await x0(e);i(C)}catch(C){f(C instanceof Error?C.message:"Failed to load transcripts")}finally{r(!1)}}z()},[e]);const N=Math.ceil(l.length/Jc),v=u.useMemo(()=>l.slice((m-1)*Jc,m*Jc),[l,m]);u.useEffect(()=>{l.length>0&&b.size===0&&j(new Set(l.map(z=>z.filename)))},[l,b.size]),u.useEffect(()=>{p&&n.current&&(n.current.scrollTop=n.current.scrollHeight)},[l.length,t.length,p]);const d=u.useCallback(z=>{j(C=>{const M=new Set(C);return M.has(z)?M.delete(z):M.add(z),M})},[]),y=u.useCallback(()=>{j(new Set(l.map(z=>z.filename)))},[l]),S=u.useCallback(()=>{j(new Set)},[]),x=u.useCallback(()=>{h(z=>!z)},[]),E=u.useCallback(()=>{if(l.length===0)return;const z=new Date().toISOString().slice(0,16).replace("T","_").replace(":","-"),C=`${e}-transcript-${z}.md`;let M=`# Transcript: ${e}

`;M+=`Generated: ${new Date().toLocaleString()}

`,M+=`---

`;for(const B of l)M+=B.content+`

---

`;const Y=new Blob([M],{type:"text/markdown"}),ie=URL.createObjectURL(Y),ce=document.createElement("a");ce.href=ie,ce.download=C,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(ie),G.success("Transcript exported")},[l,e]),k=u.useCallback(async()=>{if(l.length===0)return;let z="";for(const C of l)z+=C.content+`

---

`;try{await navigator.clipboard.writeText(z),G.success("Transcript copied to clipboard")}catch(C){console.error("Failed to copy to clipboard:",C),G.error("Failed to copy to clipboard")}},[l]),A=l.length===0&&!t;return c?s.jsxs("div",{className:"transcript-container",children:[s.jsx("div",{className:"transcript-header",children:s.jsx("h2",{children:"Transcript"})}),s.jsx("div",{className:"transcript-content",children:s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{className:"empty-title",children:"Loading transcripts..."})]})})]}):o?s.jsxs("div",{className:"transcript-container",children:[s.jsx("div",{className:"transcript-header",children:s.jsx("h2",{children:"Transcript"})}),s.jsx("div",{className:"transcript-content",children:s.jsxs("div",{className:"empty-state",children:[s.jsx(_,{name:"alert-circle",size:32}),s.jsx("p",{className:"empty-title",children:"Failed to load transcripts"}),s.jsx("p",{className:"empty-hint",children:o})]})})]}):s.jsxs("div",{className:"transcript-container",children:[s.jsxs("div",{className:"transcript-header",children:[s.jsx("h2",{children:"Transcript"}),s.jsxs("div",{className:"header-actions",children:[l.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"header-btn",onClick:y,title:"Expand all",children:"Expand All"}),s.jsx("button",{className:"header-btn",onClick:S,title:"Collapse all",children:"Collapse All"})]}),s.jsxs("button",{className:"header-btn",onClick:k,title:"Copy transcript to clipboard",disabled:l.length===0,children:[s.jsx(_,{name:"clipboard",size:14}),"Copy"]}),s.jsxs("button",{className:"header-btn",onClick:E,title:"Export transcript as markdown",disabled:l.length===0,children:[s.jsx(_,{name:"download",size:14}),"Export"]}),s.jsxs("button",{className:`header-btn ${p?"active":""}`,onClick:x,title:p?"Disable auto-scroll":"Enable auto-scroll",children:[s.jsx(_,{name:"chevrons-down",size:14}),"Auto-scroll"]})]})]}),s.jsxs("div",{className:"transcript-content",ref:n,children:[A?s.jsxs("div",{className:"empty-state",children:[s.jsx("div",{className:"empty-icon",children:s.jsx(_,{name:"terminal",size:32})}),s.jsx("p",{className:"empty-title",children:"No transcript yet"}),s.jsx("p",{className:"empty-hint",children:"Run the task to see live output"})]}):s.jsxs("div",{className:"transcript-files",children:[v.map(z=>{var ie,ce;const C=Hj(z.content),M=b.has(z.filename),Y=(C.metadata.cacheCreationTokens||0)+(C.metadata.cacheReadTokens||0);return s.jsxs("div",{className:`transcript-file ${M?"expanded":""}`,children:[s.jsxs("button",{className:"file-header",onClick:()=>d(z.filename),children:[s.jsxs("div",{className:"file-info",children:[s.jsx("span",{className:`chevron ${M?"rotated":""}`,children:s.jsx(_,{name:"chevron-right",size:16})}),s.jsx("span",{className:"phase-badge",children:C.phase}),s.jsxs("span",{className:"iteration",children:["Iteration ",C.iteration]}),C.metadata.complete&&s.jsxs("span",{className:"status-badge complete",children:[s.jsx(_,{name:"check",size:10})," Complete"]}),C.metadata.blocked&&s.jsxs("span",{className:"status-badge blocked",children:[s.jsx(_,{name:"alert-triangle",size:10})," Blocked"]})]}),s.jsxs("div",{className:"file-meta",children:[(C.metadata.inputTokens||C.metadata.outputTokens)&&s.jsxs("span",{className:"tokens",title:Y>0?`Cache creation: ${(C.metadata.cacheCreationTokens||0).toLocaleString()}
Cache read: ${(C.metadata.cacheReadTokens||0).toLocaleString()}`:void 0,children:[((ie=C.metadata.inputTokens)==null?void 0:ie.toLocaleString())??0," in /"," ",((ce=C.metadata.outputTokens)==null?void 0:ce.toLocaleString())??0," out",Y>0&&` (${Y.toLocaleString()} cached)`]}),s.jsx("span",{className:"file-time",children:Bj(z.created_at)})]})]}),M&&s.jsx("div",{className:"file-content",children:C.sections.map((B,R)=>{const H=Uf[B.type]||Uf.response;return s.jsxs("div",{className:"section",style:{"--section-color":H.colorVar,"--section-bg":H.bgVar},children:[s.jsxs("div",{className:"section-header",children:[s.jsx("span",{className:"section-icon",children:H.icon}),s.jsx("span",{className:"section-title",children:B.title.toUpperCase()})]}),s.jsx("div",{className:"section-content",children:s.jsx("pre",{children:B.content})})]},R)})})]},z.filename)}),N>1&&s.jsxs("div",{className:"pagination",children:[s.jsx("button",{className:"page-btn",disabled:m===1,onClick:()=>g(1),children:"First"}),s.jsx("button",{className:"page-btn",disabled:m===1,onClick:()=>g(z=>z-1),children:"Prev"}),s.jsxs("span",{className:"page-info",children:["Page ",m," of ",N," (",l.length," files)"]}),s.jsx("button",{className:"page-btn",disabled:m===N,onClick:()=>g(z=>z+1),children:"Next"}),s.jsx("button",{className:"page-btn",disabled:m===N,onClick:()=>g(N),children:"Last"})]})]}),t&&s.jsxs("div",{className:"streaming-entry",children:[s.jsxs("div",{className:"streaming-header",children:[s.jsx("span",{className:"streaming-icon",children:""}),s.jsx("span",{className:"streaming-label",children:"STREAMING"}),s.jsx("span",{className:"streaming-time",children:"Live"})]}),s.jsx("div",{className:"streaming-content",children:s.jsx("pre",{children:t})})]})]})]})}function Gj(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function Lf(e){return e<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:`${(e/6e4).toFixed(1)}m`}function Yj(e){return new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function $j({taskId:e}){var y,S,x,E,k;const[t,a]=u.useState(null),[n,l]=u.useState(!0),[i,c]=u.useState(null),[r,o]=u.useState("summary"),[f,p]=u.useState(null),[h,m]=u.useState(null);u.useEffect(()=>{async function A(){l(!0),c(null);try{const z=await R0(e);a(z)}catch(z){c(z instanceof Error?z.message:"Failed to load test results")}finally{l(!1)}}A()},[e]);const g=u.useCallback(A=>{p(Cf(e,A)),m(A)},[e]),b=u.useCallback(()=>{p(null),m(null)},[]);u.useEffect(()=>{const A=z=>{z.key==="Escape"&&f&&b()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[f,b]);const j=(y=t==null?void 0:t.report)!=null&&y.summary?Math.round(t.report.summary.passed/t.report.summary.total*100):0,N=(t==null?void 0:t.report)!=null,v=(((S=t==null?void 0:t.screenshots)==null?void 0:S.length)??0)>0,d=(((E=(x=t==null?void 0:t.report)==null?void 0:x.suites)==null?void 0:E.length)??0)>0;return n?s.jsx("div",{className:"test-results-container",children:s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading test results..."})]})}):i?s.jsx("div",{className:"test-results-container",children:s.jsx("div",{className:"error-message",children:i})}):t!=null&&t.has_results?s.jsxs("div",{className:"test-results-container",children:[s.jsxs("div",{className:"tabs",children:[s.jsx("button",{className:`tab ${r==="summary"?"active":""}`,onClick:()=>o("summary"),children:"Summary"}),v&&s.jsxs("button",{className:`tab ${r==="screenshots"?"active":""}`,onClick:()=>o("screenshots"),children:["Screenshots (",(k=t.screenshots)==null?void 0:k.length,")"]}),d&&s.jsx("button",{className:`tab ${r==="suites"?"active":""}`,onClick:()=>o("suites"),children:"Test Suites"})]}),r==="summary"&&s.jsxs("div",{className:"summary-view",children:[N&&t.report?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"summary-cards",children:[s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-value passed",children:t.report.summary.passed}),s.jsx("div",{className:"summary-label",children:"Passed"})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-value failed",children:t.report.summary.failed}),s.jsx("div",{className:"summary-label",children:"Failed"})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-value skipped",children:t.report.summary.skipped}),s.jsx("div",{className:"summary-label",children:"Skipped"})]}),s.jsxs("div",{className:"summary-card",children:[s.jsx("div",{className:"summary-value",children:t.report.summary.total}),s.jsx("div",{className:"summary-label",children:"Total"})]})]}),s.jsxs("div",{className:"pass-rate-container",children:[s.jsxs("div",{className:"pass-rate-header",children:[s.jsx("span",{className:"pass-rate-label",children:"Pass Rate"}),s.jsxs("span",{className:"pass-rate-value",children:[j,"%"]})]}),s.jsx("div",{className:"pass-rate-bar",children:s.jsx("div",{className:`pass-rate-fill ${j===100?"success":j>=80?"warning":"danger"}`,style:{width:`${j}%`}})})]}),s.jsxs("div",{className:"metadata",children:[s.jsxs("div",{className:"metadata-item",children:[s.jsx("span",{className:"metadata-label",children:"Framework"}),s.jsx("span",{className:"metadata-value",children:t.report.framework})]}),s.jsxs("div",{className:"metadata-item",children:[s.jsx("span",{className:"metadata-label",children:"Duration"}),s.jsx("span",{className:"metadata-value",children:Lf(t.report.duration)})]}),t.report.completed_at&&s.jsxs("div",{className:"metadata-item",children:[s.jsx("span",{className:"metadata-label",children:"Completed"}),s.jsx("span",{className:"metadata-value",children:Yj(t.report.completed_at)})]})]}),t.report.coverage&&s.jsxs("div",{className:"coverage-section",children:[s.jsx("h4",{children:"Code Coverage"}),s.jsxs("div",{className:"coverage-bar-container",children:[s.jsxs("div",{className:"coverage-header",children:[s.jsx("span",{children:"Overall"}),s.jsxs("span",{children:[t.report.coverage.percentage.toFixed(1),"%"]})]}),s.jsx("div",{className:"coverage-bar",children:s.jsx("div",{className:"coverage-fill",style:{width:`${t.report.coverage.percentage}%`}})})]}),t.report.coverage.lines&&s.jsxs("div",{className:"coverage-detail",children:[s.jsx("span",{className:"coverage-detail-label",children:"Lines"}),s.jsxs("span",{className:"coverage-detail-value",children:[t.report.coverage.lines.percent.toFixed(1),"%"]})]}),t.report.coverage.branches&&s.jsxs("div",{className:"coverage-detail",children:[s.jsx("span",{className:"coverage-detail-label",children:"Branches"}),s.jsxs("span",{className:"coverage-detail-value",children:[t.report.coverage.branches.percent.toFixed(1),"%"]})]}),t.report.coverage.functions&&s.jsxs("div",{className:"coverage-detail",children:[s.jsx("span",{className:"coverage-detail-label",children:"Functions"}),s.jsxs("span",{className:"coverage-detail-value",children:[t.report.coverage.functions.percent.toFixed(1),"%"]})]})]})]}):s.jsx("div",{className:"no-report",children:s.jsx("p",{children:"No structured report available. Screenshots and traces may still be available."})}),s.jsxs("div",{className:"quick-links",children:[t.has_html_report&&s.jsxs("a",{href:U0(e),target:"_blank",rel:"noopener noreferrer",className:"quick-link",children:[s.jsx(_,{name:"file-text",size:16}),"View HTML Report"]}),t.has_traces&&t.trace_files&&t.trace_files.length>0&&s.jsxs("a",{href:L0(e,t.trace_files[0]),target:"_blank",rel:"noopener noreferrer",className:"quick-link",children:[s.jsx(_,{name:"clock",size:16}),"Download Trace (",t.trace_files.length," file",t.trace_files.length>1?"s":"",")"]})]})]}),r==="screenshots"&&v&&t.screenshots&&s.jsx("div",{className:"screenshots-view",children:s.jsx("div",{className:"screenshots-grid",children:t.screenshots.map(A=>s.jsxs("div",{className:"screenshot-card",children:[s.jsx("button",{className:"screenshot-preview",onClick:()=>g(A.filename),title:"Click to enlarge",children:s.jsx("img",{src:Cf(e,A.filename),alt:A.page_name,loading:"lazy"})}),s.jsxs("div",{className:"screenshot-info",children:[s.jsx("span",{className:"screenshot-name",title:A.page_name,children:A.page_name}),s.jsx("span",{className:"screenshot-meta",children:Gj(A.size)})]})]},A.filename))})}),r==="suites"&&d&&t.report&&s.jsx("div",{className:"suites-view",children:t.report.suites.map((A,z)=>s.jsxs("div",{className:"suite-card",children:[s.jsxs("div",{className:"suite-header",children:[s.jsx("span",{className:"suite-name",children:A.name}),s.jsxs("span",{className:"suite-count",children:[A.tests.filter(C=>C.status==="passed").length,"/",A.tests.length," ","passed"]})]}),s.jsx("div",{className:"suite-tests",children:A.tests.map((C,M)=>s.jsxs("div",{children:[s.jsxs("div",{className:`test-item ${C.status}`,children:[s.jsxs("span",{className:"test-status-icon",children:[C.status==="passed"&&s.jsx(_,{name:"check",size:14}),C.status==="failed"&&s.jsx(_,{name:"x",size:14}),C.status==="skipped"&&s.jsx(_,{name:"slash",size:14})]}),s.jsx("span",{className:"test-name",children:C.name}),s.jsx("span",{className:"test-duration",children:Lf(C.duration)})]}),C.error&&s.jsx("div",{className:"test-error",children:s.jsx("pre",{children:C.error})})]},M))})]},z))}),f&&s.jsx("div",{className:"lightbox",onClick:b,role:"dialog","aria-modal":"true",tabIndex:-1,children:s.jsxs("div",{className:"lightbox-content",onClick:A=>A.stopPropagation(),children:[s.jsx("button",{className:"lightbox-close",onClick:b,"aria-label":"Close",children:s.jsx(_,{name:"x",size:24})}),s.jsx("img",{src:f,alt:h??"Screenshot"}),h&&s.jsx("div",{className:"lightbox-filename",children:h})]})})]}):s.jsx("div",{className:"test-results-container",children:s.jsxs("div",{className:"empty-state",children:[s.jsx(_,{name:"file-text",size:48}),s.jsx("h3",{children:"No Test Results"}),s.jsx("p",{children:"Playwright test results will appear here after running E2E tests."}),s.jsxs("p",{className:"hint",children:["Set ",s.jsx("code",{children:"ORC_TASK_ID"})," environment variable in your Playwright config to output results to this task."]})]})})}function Hf(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function Qj(e){return new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Vj({taskId:e}){const[t,a]=u.useState([]),[n,l]=u.useState(!0),[i,c]=u.useState(null),[r,o]=u.useState(!1),[f,p]=u.useState(!1),[h,m]=u.useState(null),[g,b]=u.useState(null),j=u.useCallback(async()=>{l(!0),c(null);try{const C=await z0(e);a(C)}catch(C){c(C instanceof Error?C.message:"Failed to load attachments")}finally{l(!1)}},[e]);u.useEffect(()=>{j()},[j]);const N=u.useCallback(async C=>{if(!(!C||C.length===0)){o(!0),c(null);try{for(const M of C)await M0(e,M);await j(),G.success(`${C.length} file${C.length>1?"s":""} uploaded`)}catch(M){c(M instanceof Error?M.message:"Upload failed"),G.error("Upload failed")}finally{o(!1)}}},[e,j]),v=u.useCallback(async C=>{if(confirm(`Delete "${C}"?`))try{await O0(e,C),a(M=>M.filter(Y=>Y.filename!==C)),G.success("Attachment deleted")}catch(M){c(M instanceof Error?M.message:"Delete failed"),G.error("Delete failed")}},[e]),d=u.useCallback(C=>{C.preventDefault(),p(!0)},[]),y=u.useCallback(()=>{p(!1)},[]),S=u.useCallback(C=>{var M;C.preventDefault(),p(!1),N(((M=C.dataTransfer)==null?void 0:M.files)??null)},[N]),x=u.useCallback(C=>{N(C.currentTarget.files),C.currentTarget.value=""},[N]),E=u.useCallback(C=>{m(Vc(e,C)),b(C)},[e]),k=u.useCallback(()=>{m(null),b(null)},[]);u.useEffect(()=>{const C=M=>{M.key==="Escape"&&h&&k()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[h,k]);const A=u.useMemo(()=>t.filter(C=>C.is_image),[t]),z=u.useMemo(()=>t.filter(C=>!C.is_image),[t]);return s.jsxs("div",{className:"attachments-container",children:[s.jsxs("div",{className:`upload-area ${f?"drag-over":""}`,onDragOver:d,onDragLeave:y,onDrop:S,role:"region","aria-label":"File upload area",children:[s.jsx("input",{type:"file",id:"file-upload",multiple:!0,onChange:x,className:"file-input"}),s.jsxs("label",{htmlFor:"file-upload",className:"upload-label",children:[s.jsx(_,{name:"upload",size:24}),r?s.jsx("span",{children:"Uploading..."}):s.jsx("span",{children:"Drop files here or click to upload"})]})]}),i&&s.jsx("div",{className:"error-message",children:i}),n?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading attachments..."})]}):t.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"No attachments yet"})}):s.jsxs(s.Fragment,{children:[A.length>0&&s.jsxs("div",{className:"section",children:[s.jsxs("h3",{className:"section-title",children:["Images (",A.length,")"]}),s.jsx("div",{className:"images-grid",children:A.map(C=>s.jsxs("div",{className:"image-card",children:[s.jsx("button",{className:"image-preview",onClick:()=>E(C.filename),title:"Click to enlarge",children:s.jsx("img",{src:Vc(e,C.filename),alt:C.filename,loading:"lazy"})}),s.jsxs("div",{className:"image-info",children:[s.jsx("span",{className:"image-name",title:C.filename,children:C.filename}),s.jsx("span",{className:"image-meta",children:Hf(C.size)})]}),s.jsx("button",{className:"delete-btn",onClick:()=>v(C.filename),title:"Delete",children:s.jsx(_,{name:"trash",size:14})})]},C.filename))})]}),z.length>0&&s.jsxs("div",{className:"section",children:[s.jsxs("h3",{className:"section-title",children:["Files (",z.length,")"]}),s.jsx("div",{className:"files-list",children:z.map(C=>s.jsxs("div",{className:"file-item",children:[s.jsx(_,{name:"file",size:16,className:"file-icon"}),s.jsx("a",{href:Vc(e,C.filename),className:"file-name",target:"_blank",rel:"noopener noreferrer",children:C.filename}),s.jsx("span",{className:"file-meta",children:Hf(C.size)}),s.jsx("span",{className:"file-date",children:Qj(C.created_at)}),s.jsx("button",{className:"delete-btn",onClick:()=>v(C.filename),title:"Delete",children:s.jsx(_,{name:"trash",size:14})})]},C.filename))})]})]}),h&&s.jsx("div",{className:"lightbox",onClick:k,role:"dialog","aria-modal":"true",tabIndex:-1,children:s.jsxs("div",{className:"lightbox-content",onClick:C=>C.stopPropagation(),children:[s.jsx("button",{className:"lightbox-close",onClick:k,"aria-label":"Close",children:s.jsx(_,{name:"x",size:24})}),s.jsx("img",{src:h,alt:g??"Image"}),g&&s.jsx("div",{className:"lightbox-filename",children:g})]})})]})}function Bf(e){const t=new Date(e),n=new Date().getTime()-t.getTime(),l=Math.floor(n/1e3),i=Math.floor(l/60),c=Math.floor(i/60),r=Math.floor(c/24);return l<60?"just now":i<60?`${i}m ago`:c<24?`${c}h ago`:r<7?`${r}d ago`:t.toLocaleDateString(void 0,{month:"short",day:"numeric"})}const Xj={human:{color:"var(--status-info)",bg:"var(--status-info-bg)",label:"Human",icon:"user"},agent:{color:"var(--accent-primary)",bg:"var(--accent-glow)",label:"Agent",icon:"cpu"},system:{color:"var(--text-muted)",bg:"var(--bg-tertiary)",label:"System",icon:"settings"}},Kj=[{value:"human",label:"Human",description:"Manual note or feedback"},{value:"agent",label:"Agent",description:"Note from Claude/AI"},{value:"system",label:"System",description:"Automated system note"}];function Zj({comment:e,onEdit:t,onDelete:a}){const n=Xj[e.author_type];return s.jsxs("div",{className:"comment-thread",children:[s.jsxs("div",{className:"comment-header",children:[s.jsxs("div",{className:"author-badge",style:{background:n.bg,color:n.color},children:[s.jsx(_,{name:n.icon,size:12}),s.jsx("span",{children:e.author||n.label})]}),e.phase&&s.jsxs("div",{className:"phase-badge",children:[s.jsx(_,{name:"layers",size:12}),s.jsx("span",{children:e.phase})]}),s.jsx("span",{className:"timestamp",children:Bf(e.created_at)})]}),s.jsx("div",{className:"comment-content",children:e.content}),e.updated_at!==e.created_at&&s.jsx("div",{className:"edited-info",children:s.jsxs("span",{children:["edited ",Bf(e.updated_at)]})}),(t||a)&&s.jsxs("div",{className:"comment-actions",children:[t&&s.jsx("button",{className:"action-btn edit",onClick:()=>t(e.id),title:"Edit comment",children:s.jsx(_,{name:"edit",size:14})}),a&&s.jsx("button",{className:"action-btn delete",onClick:()=>a(e.id),title:"Delete comment",children:s.jsx(_,{name:"trash",size:14})})]})]})}function Jj({phases:e=[],onSubmit:t,onCancel:a,isLoading:n=!1,editMode:l=!1,initialContent:i="",initialPhase:c=""}){const[r,o]=u.useState(i),[f,p]=u.useState(c),[h,m]=u.useState("human"),[g,b]=u.useState(""),j=u.useRef(null);u.useEffect(()=>{var x;(x=j.current)==null||x.focus()},[]);const v=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.platform)?"Cmd":"Ctrl",d=r.trim().length>0&&!n,y=u.useCallback(x=>{if(x.preventDefault(),!d)return;const E={content:r.trim(),author_type:h};g.trim()&&(E.author=g.trim()),f&&(E.phase=f),t(E)},[d,r,h,g,f,t]),S=u.useCallback(x=>{x.key==="Escape"?a():x.key==="Enter"&&(x.metaKey||x.ctrlKey)&&y(x)},[a,y]);return s.jsxs("form",{className:"comment-form",onSubmit:y,onKeyDown:S,children:[s.jsxs("div",{className:"form-header",children:[s.jsx("h3",{children:l?"Edit Comment":"Add Comment"}),s.jsx("button",{type:"button",className:"close-btn",onClick:a,title:"Cancel",children:s.jsx(_,{name:"x",size:16})})]}),!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-field author-field",children:[s.jsx("label",{htmlFor:"author",children:"Author (optional)"}),s.jsx("input",{id:"author",type:"text",value:g,onChange:x=>b(x.target.value),placeholder:"Your name",disabled:n})]}),e.length>0&&s.jsxs("div",{className:"form-field phase-field",children:[s.jsx("label",{htmlFor:"phase",children:"Phase (optional)"}),s.jsxs("select",{id:"phase",value:f,onChange:x=>p(x.target.value),disabled:n,children:[s.jsx("option",{value:"",children:"No phase"}),e.map(x=>s.jsx("option",{value:x,children:x},x))]})]})]}),s.jsxs("div",{className:"form-field",children:[s.jsx("label",{htmlFor:"author-type",children:"Type"}),s.jsx("div",{className:"author-type-options",children:Kj.map(x=>s.jsxs("label",{className:`author-type-option ${x.value} ${h===x.value?"selected":""}`,children:[s.jsx("input",{type:"radio",name:"author-type",value:x.value,checked:h===x.value,onChange:()=>m(x.value),disabled:n}),s.jsx("span",{className:"author-type-label",children:x.label}),s.jsx("span",{className:"author-type-desc",children:x.description})]},x.value))})]})]}),s.jsxs("div",{className:"form-field",children:[s.jsx("label",{htmlFor:"content",children:"Comment"}),s.jsx("textarea",{id:"content",ref:j,value:r,onChange:x=>o(x.target.value),placeholder:"Add a note, feedback, or context...",rows:4,disabled:n})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{type:"button",className:"ghost",onClick:a,disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",className:"primary",disabled:!d,children:n?l?"Saving...":"Adding...":l?"Save Changes":"Add Comment"})]}),s.jsxs("div",{className:"keyboard-hint",children:[s.jsx("kbd",{children:v})," + ",s.jsx("kbd",{children:"Enter"})," to submit"]})]})}function Fj({taskId:e,phases:t=[]}){const[a,n]=u.useState([]),[l,i]=u.useState(!0),[c,r]=u.useState(null),[o,f]=u.useState(!1),[p,h]=u.useState(!1),[m,g]=u.useState(""),[b,j]=u.useState(null),N=u.useCallback(async()=>{i(!0),r(null);try{const M=await w0(e);n(M)}catch(M){r(M instanceof Error?M.message:"Failed to load comments")}finally{i(!1)}},[e]);u.useEffect(()=>{N()},[N]);const v=u.useMemo(()=>m?a.filter(M=>M.author_type===m):a,[a,m]),d=u.useMemo(()=>a.filter(M=>M.author_type==="human"),[a]),y=u.useMemo(()=>a.filter(M=>M.author_type==="agent"),[a]),S=u.useMemo(()=>a.filter(M=>M.author_type==="system"),[a]),x=u.useCallback(async M=>{h(!0);try{b?(await _0(e,b,{content:M.content,phase:M.phase}),j(null),G.success("Comment updated")):(await k0(e,M),G.success("Comment added")),f(!1),await N()}catch(Y){r(Y instanceof Error?Y.message:"Failed to save comment"),G.error("Failed to save comment")}finally{h(!1)}},[e,b,N]),E=u.useCallback(()=>{f(!1),j(null)},[]),k=u.useCallback(M=>{j(M),f(!0)},[]),A=u.useCallback(async M=>{if(confirm("Delete this comment?"))try{await A0(e,M),await N(),G.success("Comment deleted")}catch(Y){r(Y instanceof Error?Y.message:"Failed to delete comment"),G.error("Failed to delete comment")}},[e,N]),z=u.useCallback(()=>{j(null),f(!0)},[]),C=b?a.find(M=>M.id===b):null;return s.jsxs("div",{className:"comments-panel",children:[s.jsxs("div",{className:"panel-header",children:[s.jsx("div",{className:"header-left",children:s.jsxs("h3",{children:[s.jsx(_,{name:"message-square",size:16}),"Comments",a.length>0&&s.jsx("span",{className:"comment-count",children:a.length})]})}),s.jsx("div",{className:"header-right",children:!o&&s.jsxs("button",{className:"add-btn",onClick:z,children:[s.jsx(_,{name:"plus",size:14}),"Add Comment"]})})]}),c&&s.jsxs("div",{className:"error-message",children:[s.jsx(_,{name:"alert-circle",size:14}),c,s.jsx("button",{onClick:N,children:"Retry"})]}),o&&s.jsx(Jj,{phases:t,onSubmit:x,onCancel:E,isLoading:p,editMode:!!b,initialContent:(C==null?void 0:C.content)??"",initialPhase:C==null?void 0:C.phase}),a.length>0&&!o&&s.jsxs("div",{className:"filter-bar",children:[s.jsx("span",{className:"filter-label",children:"Filter:"}),s.jsxs("button",{className:`filter-btn ${m===""?"active":""}`,onClick:()=>g(""),children:["All (",a.length,")"]}),d.length>0&&s.jsxs("button",{className:`filter-btn human ${m==="human"?"active":""}`,onClick:()=>g("human"),children:["Human (",d.length,")"]}),y.length>0&&s.jsxs("button",{className:`filter-btn agent ${m==="agent"?"active":""}`,onClick:()=>g("agent"),children:["Agent (",y.length,")"]}),S.length>0&&s.jsxs("button",{className:`filter-btn system ${m==="system"?"active":""}`,onClick:()=>g("system"),children:["System (",S.length,")"]})]}),l?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading comments..."})]}):a.length===0&&!o?s.jsxs("div",{className:"empty-state",children:[s.jsx(_,{name:"message-square",size:32}),s.jsx("p",{children:"No comments yet"}),s.jsx("span",{children:"Add comments to track feedback, notes, and context."})]}):o?null:s.jsx("div",{className:"comments-list",children:v.map(M=>s.jsx(Zj,{comment:M,onEdit:k,onDelete:A},M.id))})]})}const Wj=["timeline","changes","transcript","test-results","attachments","comments"];function Ij(){const{id:e}=ev(),[t,a]=fo(),n=At(),l=t.get("tab"),i=l&&Wj.includes(l)?l:"timeline",[c,r]=u.useState(null),[o,f]=u.useState(null),[p,h]=u.useState(!0),[m,g]=u.useState(null),[b,j]=u.useState(!1),{state:N}=e0(e),v=u.useCallback(async()=>{if(e){h(!0),g(null);try{const[E,k]=await Promise.all([vs(e),m0(e).catch(()=>null)]);r(E),f(k)}catch(E){g(E instanceof Error?E.message:"Failed to load task")}finally{h(!1)}}},[e]);u.useEffect(()=>{v()},[v]);const d=u.useCallback(E=>{a({tab:E},{replace:!0})},[a]),y=u.useCallback(E=>{r(E)},[]),S=u.useCallback(()=>{n("/board")},[n]);if(p)return s.jsx("div",{className:"task-detail-page",children:s.jsxs("div",{className:"task-detail-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("span",{children:"Loading task..."})]})});if(m||!c)return s.jsx("div",{className:"task-detail-page",children:s.jsxs("div",{className:"task-detail-error",children:[s.jsx(_,{name:"alert-circle",size:32}),s.jsx("h2",{children:"Failed to load task"}),s.jsx("p",{children:m||"Task not found"}),s.jsx("button",{className:"retry-btn",onClick:v,children:"Retry"})]})});const x=(o==null?void 0:o.phases.map(E=>E.name))??[];return s.jsxs("div",{className:"task-detail-page",children:[s.jsx(Ej,{task:c,onTaskUpdate:y,onTaskDelete:S}),s.jsxs("div",{className:"task-detail-content",children:[s.jsx(Tj,{task:c,collapsed:b,onToggle:()=>j(!b)}),s.jsxs("div",{className:"task-detail-main",children:[s.jsx(kj,{activeTab:i,onTabChange:d}),s.jsxs("div",{className:"tab-content",children:[i==="timeline"&&s.jsx(_j,{task:c,taskState:N??null,plan:o}),i==="changes"&&s.jsx(Lj,{taskId:c.id}),i==="transcript"&&s.jsx(qj,{taskId:c.id}),i==="test-results"&&s.jsx($j,{taskId:c.id}),i==="attachments"&&s.jsx(Vj,{taskId:c.id}),i==="comments"&&s.jsx(Fj,{taskId:c.id,phases:x})]})]})]})]})}const Pj={nodeWidth:120,nodeHeight:60,horizontalSpacing:40,verticalSpacing:80,padding:40};function e2(e,t,a={}){const n={...Pj,...a},l=new Map,i=new Map,c=new Map;for(const j of e)l.set(j.id,0),i.set(j.id,[]),c.set(j.id,[]);for(const j of t){const N=i.get(j.from);N&&N.push(j.to);const v=c.get(j.to);v&&v.push(j.from);const d=l.get(j.to)??0;l.set(j.to,d+1)}const r=[],o=new Map,f=new Map(l);for(;f.size>0;){const j=[];for(const[v,d]of f)d===0&&j.push(v);if(j.length===0)for(const[v]of f)j.push(v);j.sort();const N=r.length;r.push(j);for(const v of j){o.set(v,N),f.delete(v);const d=i.get(v)??[];for(const y of d){const S=f.get(y);S!==void 0&&f.set(y,S-1)}}}const p=new Map;let h=0;for(let j=0;j<r.length;j++){const v=r[j].length*(n.nodeWidth+n.horizontalSpacing)-n.horizontalSpacing;h=Math.max(h,v)}for(let j=0;j<r.length;j++){const N=r[j],v=N.length*(n.nodeWidth+n.horizontalSpacing)-n.horizontalSpacing,d=n.padding+(h-v)/2,y=n.padding+j*(n.nodeHeight+n.verticalSpacing);for(let S=0;S<N.length;S++){const x=N[S],E=d+S*(n.nodeWidth+n.horizontalSpacing);p.set(x,{id:x,x:E,y,width:n.nodeWidth,height:n.nodeHeight,layer:j})}}const m=t.map(j=>{const N=p.get(j.from),v=p.get(j.to);if(!N||!v)return{from:j.from,to:j.to,points:[]};const d=N.x+N.width/2,y=N.y+N.height,S=v.x+v.width/2,x=v.y;return{from:j.from,to:j.to,points:[{x:d,y},{x:S,y:x}]}}),g=h+2*n.padding,b=n.padding*2+r.length*(n.nodeHeight+n.verticalSpacing)-n.verticalSpacing;return{nodes:p,edges:m,width:Math.max(g,200),height:Math.max(b,100)}}function t2(e){if(e.points.length<2)return"";const[t,a]=e.points,n=(t.y+a.y)/2;return`M ${t.x} ${t.y} C ${t.x} ${n}, ${a.x} ${n}, ${a.x} ${a.y}`}const a2={nodeWidth:120,nodeHeight:50,horizontalSpacing:50,verticalSpacing:70,padding:30},qf={done:{color:"var(--status-success)",fill:"var(--status-success-bg)",label:"done"},running:{color:"var(--accent-primary)",fill:"var(--accent-subtle)",label:"running"},blocked:{color:"var(--status-danger)",fill:"var(--status-danger-bg)",label:"blocked"},ready:{color:"var(--status-info)",fill:"var(--status-info-bg)",label:"ready"},pending:{color:"var(--text-muted)",fill:"var(--bg-tertiary)",label:"pending"},paused:{color:"var(--status-warning)",fill:"var(--status-warning-bg)",label:"paused"},failed:{color:"var(--status-danger)",fill:"var(--status-danger-bg)",label:"failed"}};function n2(e){return qf[e]||qf.pending}function l2({nodes:e,edges:t,onNodeClick:a}){const n=At(),l=u.useRef(null),i=u.useRef(null),[c,r]=u.useState(1),[o,f]=u.useState(0),[p,h]=u.useState(0),[m,g]=u.useState(!1),b=u.useRef({x:0,y:0}),[j,N]=u.useState(null),[v,d]=u.useState({x:0,y:0}),y=u.useMemo(()=>e2(e,t,a2),[e,t]);u.useEffect(()=>{E()},[]);const S=u.useCallback(()=>{r(B=>Math.min(B*1.2,3))},[]),x=u.useCallback(()=>{r(B=>Math.max(B/1.2,.3))},[]),E=u.useCallback(()=>{if(!l.current)return;const B=l.current.clientWidth,R=l.current.clientHeight,H=B/y.width,q=R/y.height,T=Math.min(H,q,1)*.9;r(T),f((B-y.width*T)/2),h((R-y.height*T)/2)},[y.width,y.height]),k=u.useCallback(B=>{B.button===0&&(g(!0),b.current={x:B.clientX-o,y:B.clientY-p})},[o,p]),A=u.useCallback(B=>{m&&(f(B.clientX-b.current.x),h(B.clientY-b.current.y))},[m]),z=u.useCallback(()=>{g(!1)},[]),C=u.useCallback(B=>{B.preventDefault();const R=B.deltaY>0?.9:1.1,H=Math.min(Math.max(c*R,.3),3);if(l.current){const q=l.current.getBoundingClientRect(),T=B.clientX-q.left,w=B.clientY-q.top;f(T-(T-o)*(H/c)),h(w-(w-p)*(H/c))}r(H)},[c,o,p]),M=u.useCallback(B=>{a?a(B):n(`/tasks/${B}`)},[a,n]),Y=u.useCallback((B,R)=>{var q;N(R);const H=(q=l.current)==null?void 0:q.getBoundingClientRect();H&&d({x:B.clientX-H.left,y:B.clientY-H.top-10})},[]),ie=u.useCallback(()=>{N(null)},[]),ce=u.useCallback(async()=>{if(!i.current)return;const B=i.current.cloneNode(!0);B.setAttribute("width",String(y.width)),B.setAttribute("height",String(y.height));const R=B.querySelector("g");R&&R.setAttribute("transform","");const H=new XMLSerializer().serializeToString(B),q=new Blob([H],{type:"image/svg+xml"}),T=URL.createObjectURL(q),w=new Image;w.onload=()=>{const O=document.createElement("canvas");O.width=y.width,O.height=y.height;const Q=O.getContext("2d");Q&&(Q.fillStyle="#1a1a2e",Q.fillRect(0,0,O.width,O.height),Q.drawImage(w,0,0),O.toBlob(De=>{if(De){const Be=URL.createObjectURL(De),qe=document.createElement("a");qe.href=Be,qe.download="dependency-graph.png",qe.click(),URL.revokeObjectURL(Be)}},"image/png")),URL.revokeObjectURL(T)},w.src=T},[y.width,y.height]);return s.jsxs("div",{className:"dependency-graph",children:[s.jsxs("div",{className:"graph-toolbar",children:[s.jsxs("div",{className:"toolbar-group",children:[s.jsx("button",{className:"toolbar-btn",onClick:S,title:"Zoom In",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"M21 21l-4.35-4.35M11 8v6M8 11h6"})]})}),s.jsx("button",{className:"toolbar-btn",onClick:x,title:"Zoom Out",children:s.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"M21 21l-4.35-4.35M8 11h6"})]})}),s.jsx("button",{className:"toolbar-btn",onClick:E,title:"Fit to View",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})})})]}),s.jsx("div",{className:"toolbar-group",children:s.jsx("button",{className:"toolbar-btn",onClick:ce,title:"Export PNG",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})})})})]}),s.jsxs("div",{ref:l,className:"graph-container",onMouseDown:k,onMouseMove:A,onMouseUp:z,onMouseLeave:z,onWheel:C,role:"application","aria-label":"Dependency graph visualization",children:[e.length===0?s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"No tasks to display"})}):s.jsxs("svg",{ref:i,width:"100%",height:"100%",className:`graph-svg ${m?"panning":""}`,children:[s.jsx("defs",{children:s.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:s.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"var(--text-muted)"})})}),s.jsxs("g",{transform:`translate(${o}, ${p}) scale(${c})`,children:[y.edges.map((B,R)=>s.jsx("path",{d:t2(B),className:"edge",markerEnd:"url(#arrowhead)"},`edge-${R}`)),e.map(B=>{const R=y.nodes.get(B.id),H=n2(B.status);return R?s.jsxs("g",{className:`node node-${B.status}`,transform:`translate(${R.x}, ${R.y})`,onClick:()=>M(B.id),onMouseEnter:q=>Y(q,B),onMouseLeave:ie,role:"button",tabIndex:0,"aria-label":`${B.id}: ${B.title} (${B.status})`,onKeyDown:q=>q.key==="Enter"&&M(B.id),children:[s.jsx("rect",{width:R.width,height:R.height,rx:"6",className:"node-bg",style:{"--node-color":H.color,"--node-fill":H.fill}}),s.jsx("text",{x:R.width/2,y:"18",className:"node-id",children:B.id}),s.jsxs("text",{x:R.width/2,y:"36",className:"node-status",style:{fill:H.color},children:["(",H.label,")"]})]},B.id):null})]})]}),j&&s.jsxs("div",{className:"tooltip",style:{left:v.x,top:v.y},children:[s.jsx("div",{className:"tooltip-title",children:j.title}),s.jsxs("div",{className:"tooltip-meta",children:[j.id," - ",j.status]})]})]}),s.jsxs("div",{className:"graph-legend",children:[s.jsx("span",{className:"legend-title",children:"Legend:"}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot done"})," done"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot ready"})," ready"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot blocked"})," blocked"]}),s.jsxs("span",{className:"legend-item",children:[s.jsx("span",{className:"legend-dot running"})," running"]})]})]})}function s2(){var No;const{id:e}=ev(),t=At(),a=Me(U=>U.updateInitiative),[n,l]=u.useState(null),[i,c]=u.useState(!0),[r,o]=u.useState(null),[f,p]=u.useState("tasks"),[h,m]=u.useState(null),[g,b]=u.useState(!1),[j,N]=u.useState(null),[v,d]=u.useState(!1),[y,S]=u.useState(!1),[x,E]=u.useState(!1),[k,A]=u.useState(!1),[z,C]=u.useState(""),[M,Y]=u.useState(""),[ie,ce]=u.useState("draft"),[B,R]=u.useState([]),[H,q]=u.useState(""),[T,w]=u.useState(!1),[O,Q]=u.useState(""),[De,Be]=u.useState(""),[qe,Ba]=u.useState(""),[X,ge]=u.useState(!1),[zt,gs]=u.useState(!1),cn=u.useMemo(()=>{if(!(n!=null&&n.tasks)||n.tasks.length===0)return{completed:0,total:0,percentage:0};const U=n.tasks.filter(il=>il.status==="completed"||il.status==="finished").length,re=n.tasks.length;return{completed:U,total:re,percentage:Math.round(U/re*100)}},[n==null?void 0:n.tasks]),L=u.useMemo(()=>{var il;const U=new Set(((il=n==null?void 0:n.tasks)==null?void 0:il.map(un=>un.id))||[]);let re=B.filter(un=>!U.has(un.id));if(H){const un=H.toLowerCase();re=re.filter(Co=>Co.id.toLowerCase().includes(un)||Co.title.toLowerCase().includes(un))}return re},[B,n==null?void 0:n.tasks,H]),Z=u.useMemo(()=>{if(!(n!=null&&n.tasks))return[];const U=[];for(const re of n.tasks)re.depends_on&&re.depends_on.length>0&&U.push({taskId:re.id,dependsOn:re.depends_on});return U},[n==null?void 0:n.tasks]),pe=u.useCallback(async()=>{if(e){c(!0),o(null);try{const U=await $0(e);l(U)}catch(U){o(U instanceof Error?U.message:"Failed to load initiative")}finally{c(!1)}}},[e]),ye=u.useCallback(async()=>{if(!(!n||h)){b(!0),N(null);try{const U=await Z0(n.id);m(U)}catch(U){N(U instanceof Error?U.message:"Failed to load dependency graph")}finally{b(!1)}}},[n,h]);u.useEffect(()=>{pe()},[pe]);const Ne=u.useCallback(U=>{p(U),U==="graph"&&ye()},[ye]),sl=u.useCallback(()=>{n&&(C(n.title),Y(n.vision||""),ce(n.status)),d(!0)},[n]),wv=u.useCallback(async()=>{if(n)try{const U=await Ef(n.id,{title:z,vision:M,status:ie});l(U),a(U.id,U),d(!1)}catch(U){o(U instanceof Error?U.message:"Failed to update initiative")}},[n,z,M,ie,a]),rn=u.useCallback(async U=>{if(n){gs(!0);try{const re=await Ef(n.id,{status:U});l(re),a(re.id,re)}catch(re){o(re instanceof Error?re.message:`Failed to ${U} initiative`)}finally{gs(!1)}}},[n,a]),xo=u.useCallback(()=>rn("active"),[rn]),kv=u.useCallback(()=>rn("completed"),[rn]),_v=u.useCallback(()=>{A(!1),rn("archived")},[rn]),bo=u.useCallback(async()=>{w(!0),q(""),S(!0);try{const U=await bv();R(Array.isArray(U)?U:U.tasks)}catch(U){console.error("Failed to load tasks:",U),R([])}finally{w(!1)}},[]),Av=u.useCallback(async U=>{if(n)try{const re={task_id:U};await Q0(n.id,re),await pe(),S(!1)}catch(re){o(re instanceof Error?re.message:"Failed to link task")}},[n,pe]),Dv=u.useCallback(async U=>{if(!(!n||!confirm(`Remove task ${U} from this initiative?`)))try{await V0(n.id,U),await pe()}catch(re){o(re instanceof Error?re.message:"Failed to remove task")}},[n,pe]),jo=u.useCallback(()=>{Q(""),Be(""),Ba(""),E(!0)},[]),zv=u.useCallback(async()=>{if(!(!n||!O.trim())){ge(!0);try{const U={decision:O.trim(),rationale:De.trim()||void 0,by:qe.trim()||void 0};await X0(n.id,U),await pe(),E(!1)}catch(U){o(U instanceof Error?U.message:"Failed to add decision")}finally{ge(!1)}}},[n,O,De,qe,pe]),Mv=u.useCallback(U=>{switch(U){case"completed":case"finished":return"check-circle";case"running":return"play-circle";case"failed":return"x-circle";case"paused":return"pause-circle";case"blocked":return"alert-circle";default:return"circle"}},[]),Ov=u.useCallback(U=>{switch(U){case"completed":case"finished":return"status-success";case"running":return"status-running";case"failed":return"status-danger";case"blocked":case"paused":return"status-warning";default:return"status-pending"}},[]),So=u.useCallback(U=>new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),[]);return i?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading initiative..."})]}):r&&!n?s.jsxs("div",{className:"error-state",children:[s.jsx("div",{className:"error-icon",children:"!"}),s.jsx("p",{children:r}),s.jsx("button",{className:"btn btn-primary",onClick:pe,children:"Retry"})]}):n?s.jsxs("div",{className:"page initiative-detail-page",children:[s.jsxs("div",{className:"initiative-detail",children:[s.jsxs(Da,{to:"/",className:"back-link",children:[s.jsx(_,{name:"arrow-left",size:16}),s.jsx("span",{children:"Back to Tasks"})]}),s.jsxs("header",{className:"initiative-header",children:[s.jsxs("div",{className:"header-top",children:[s.jsx("h1",{className:"initiative-title",children:n.title}),s.jsxs("div",{className:"header-actions",children:[n.status==="draft"&&s.jsxs("button",{className:"btn btn-primary",onClick:xo,disabled:zt,children:[s.jsx(_,{name:"play",size:16}),zt?"Activating...":"Activate"]}),n.status==="active"&&s.jsxs("button",{className:"btn btn-success",onClick:kv,disabled:zt,children:[s.jsx(_,{name:"check",size:16}),zt?"Completing...":"Complete"]}),n.status==="completed"&&s.jsxs("button",{className:"btn btn-secondary",onClick:xo,disabled:zt,children:[s.jsx(_,{name:"rotate-ccw",size:16}),zt?"Reopening...":"Reopen"]}),s.jsxs("button",{className:"btn btn-secondary",onClick:sl,children:[s.jsx(_,{name:"edit",size:16}),"Edit"]}),n.status!=="archived"&&s.jsxs("button",{className:"btn btn-ghost btn-danger-hover",onClick:()=>A(!0),children:[s.jsx(_,{name:"archive",size:16}),"Archive"]})]})]}),n.vision&&s.jsx("p",{className:"initiative-vision",children:n.vision}),s.jsxs("div",{className:"initiative-meta",children:[s.jsxs("div",{className:"progress-section",children:[s.jsxs("div",{className:"progress-label",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{className:"progress-count",children:[cn.completed,"/",cn.total," tasks (",cn.percentage,"%)"]})]}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${cn.percentage}%`}})})]}),s.jsxs("div",{className:"meta-grid",children:[((No=n.owner)==null?void 0:No.initials)&&s.jsxs("div",{className:"meta-item",children:[s.jsx("span",{className:"meta-label",children:"Owner"}),s.jsx("span",{className:"meta-value",children:n.owner.display_name||n.owner.initials})]}),s.jsxs("div",{className:"meta-item",children:[s.jsx("span",{className:"meta-label",children:"Status"}),s.jsx("span",{className:`status-badge status-${n.status}`,children:n.status})]}),s.jsxs("div",{className:"meta-item",children:[s.jsx("span",{className:"meta-label",children:"Created"}),s.jsx("span",{className:"meta-value",children:So(n.created_at)})]})]})]})]}),s.jsxs("div",{className:"tabs-nav",role:"tablist","aria-label":"Initiative sections",children:[s.jsxs("button",{className:`tab-btn ${f==="tasks"?"active":""}`,onClick:()=>Ne("tasks"),role:"tab","aria-selected":f==="tasks",children:[s.jsx(_,{name:"list",size:16}),"Tasks",n.tasks&&n.tasks.length>0&&s.jsx("span",{className:"tab-count",children:n.tasks.length})]}),s.jsxs("button",{className:`tab-btn ${f==="graph"?"active":""}`,onClick:()=>Ne("graph"),role:"tab","aria-selected":f==="graph",children:[s.jsx(_,{name:"git-branch",size:16}),"Graph"]}),s.jsxs("button",{className:`tab-btn ${f==="decisions"?"active":""}`,onClick:()=>Ne("decisions"),role:"tab","aria-selected":f==="decisions",children:[s.jsx(_,{name:"message-circle",size:16}),"Decisions",n.decisions&&n.decisions.length>0&&s.jsx("span",{className:"tab-count",children:n.decisions.length})]})]}),s.jsxs("div",{className:"tab-content",children:[f==="tasks"&&s.jsxs("section",{className:"section tasks-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{children:"Tasks"}),s.jsxs("div",{className:"section-actions",children:[s.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>{t(`/?initiative=${n==null?void 0:n.id}`),window.dispatchEvent(new CustomEvent("orc:new-task"))},children:[s.jsx(_,{name:"plus",size:14}),"Add Task"]}),s.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:bo,children:[s.jsx(_,{name:"link",size:14}),"Link Existing"]})]})]}),n.tasks&&n.tasks.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"task-list",children:n.tasks.map(U=>s.jsxs("div",{className:"task-item",children:[s.jsxs(Da,{to:`/tasks/${U.id}`,className:"task-link",children:[s.jsx("span",{className:`task-status ${Ov(U.status)}`,children:s.jsx(_,{name:Mv(U.status),size:16})}),s.jsx("span",{className:"task-id",children:U.id}),s.jsx("span",{className:"task-title",children:U.title}),s.jsx("span",{className:"task-status-text",children:U.status})]}),s.jsx("button",{className:"btn-icon btn-remove",onClick:()=>Dv(U.id),title:"Remove from initiative",children:s.jsx(_,{name:"x",size:14})})]},U.id))}),Z.length>0&&s.jsxs("div",{className:"dependencies-section",children:[s.jsx("h3",{children:"Dependencies"}),s.jsx("ul",{className:"dependency-list",children:Z.map(U=>s.jsxs("li",{children:[s.jsx("span",{className:"dep-task",children:U.taskId}),s.jsx("span",{className:"dep-arrow",children:"depends on"}),s.jsx("span",{className:"dep-targets",children:U.dependsOn.join(", ")})]},U.taskId))})]})]}):s.jsxs("div",{className:"empty-state",children:[s.jsx(_,{name:"clipboard",size:32}),s.jsx("p",{children:"No tasks in this initiative yet"}),s.jsx("button",{className:"btn btn-primary",onClick:bo,children:"Link a Task"})]})]}),f==="graph"&&s.jsxs("section",{className:"section graph-section",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{children:"Dependency Graph"})}),g?s.jsxs("div",{className:"graph-loading",children:[s.jsx("div",{className:"spinner"}),s.jsx("span",{children:"Loading graph..."})]}):j?s.jsxs("div",{className:"graph-error",children:[s.jsx("p",{children:j}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>{m(null),ye()},children:"Retry"})]}):h&&h.nodes.length>0?s.jsx("div",{className:"graph-container-wrapper",children:s.jsx(l2,{nodes:h.nodes,edges:h.edges})}):s.jsxs("div",{className:"empty-state",children:[s.jsx(_,{name:"git-branch",size:32}),s.jsx("p",{children:"No tasks with dependencies to visualize"}),s.jsx("p",{className:"empty-hint",children:"Add tasks with dependencies to see the dependency graph"})]})]}),f==="decisions"&&s.jsxs("section",{className:"section decisions-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{children:"Decisions"}),s.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:jo,children:[s.jsx(_,{name:"plus",size:14}),"Add Decision"]})]}),n.decisions&&n.decisions.length>0?s.jsx("div",{className:"decision-list",children:n.decisions.map(U=>s.jsxs("div",{className:"decision-item",children:[s.jsxs("div",{className:"decision-header",children:[s.jsx("span",{className:"decision-id",children:U.id}),s.jsxs("span",{className:"decision-date",children:["(",So(U.date),")"]}),U.by&&s.jsxs("span",{className:"decision-by",children:["by ",U.by]})]}),s.jsx("p",{className:"decision-text",children:U.decision}),U.rationale&&s.jsxs("p",{className:"decision-rationale",children:[s.jsx("strong",{children:"Rationale:"})," ",U.rationale]})]},U.id))}):s.jsxs("div",{className:"empty-state",children:[s.jsx(_,{name:"message-circle",size:32}),s.jsx("p",{children:"No decisions recorded yet"}),s.jsx("button",{className:"btn btn-secondary",onClick:jo,children:"Record a Decision"})]})]})]})]}),s.jsx(_n,{open:v,onClose:()=>d(!1),title:"Edit Initiative",children:s.jsxs("form",{onSubmit:U=>{U.preventDefault(),wv()},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"edit-title",children:"Title"}),s.jsx("input",{id:"edit-title",type:"text",value:z,onChange:U=>C(U.target.value),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"edit-vision",children:"Vision"}),s.jsx("textarea",{id:"edit-vision",value:M,onChange:U=>Y(U.target.value),rows:3,placeholder:"What is the goal of this initiative?"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"edit-status",children:"Status"}),s.jsxs("select",{id:"edit-status",value:ie,onChange:U=>ce(U.target.value),children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})}),s.jsx(_n,{open:y,onClose:()=>S(!1),title:"Link Existing Task",children:s.jsxs("div",{className:"link-task-content",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"task-search",children:"Search Tasks"}),s.jsx("input",{id:"task-search",type:"text",value:H,onChange:U=>q(U.target.value),placeholder:"Search by ID or title..."})]}),T?s.jsxs("div",{className:"loading-inline",children:[s.jsx("div",{className:"spinner-sm"}),s.jsx("span",{children:"Loading tasks..."})]}):L.length>0?s.jsx("div",{className:"available-tasks",children:L.map(U=>s.jsxs("button",{className:"available-task-item",onClick:()=>Av(U.id),children:[s.jsx("span",{className:"task-id",children:U.id}),s.jsx("span",{className:"task-title",children:U.title}),s.jsx("span",{className:`task-status-badge status-${U.status}`,children:U.status})]},U.id))}):s.jsx("p",{className:"no-tasks-message",children:"No available tasks to link"})]})}),s.jsx(_n,{open:x,onClose:()=>E(!1),title:"Add Decision",children:s.jsxs("form",{onSubmit:U=>{U.preventDefault(),zv()},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"decision-text",children:"Decision"}),s.jsx("textarea",{id:"decision-text",value:O,onChange:U=>Q(U.target.value),rows:2,required:!0,placeholder:"What was decided?"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"decision-rationale",children:"Rationale (optional)"}),s.jsx("textarea",{id:"decision-rationale",value:De,onChange:U=>Be(U.target.value),rows:2,placeholder:"Why was this decision made?"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"decision-by",children:"Decided By (optional)"}),s.jsx("input",{id:"decision-by",type:"text",value:qe,onChange:U=>Ba(U.target.value),placeholder:"Name or initials"})]}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>E(!1),children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:X||!O.trim(),children:X?"Adding...":"Add Decision"})]})]})}),s.jsx(_n,{open:k,onClose:()=>A(!1),title:"Archive Initiative",children:s.jsxs("div",{className:"confirm-dialog",children:[s.jsxs("p",{className:"confirm-message",children:["Are you sure you want to archive ",s.jsxs("strong",{children:['"',n.title,'"']}),"?"]}),s.jsx("p",{className:"confirm-hint",children:"Archived initiatives are hidden from most views but can be restored later."}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>A(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-danger",onClick:_v,disabled:zt,children:zt?"Archiving...":"Archive Initiative"})]})]})}),r&&n&&s.jsxs("div",{className:"error-toast",children:[s.jsx("span",{children:r}),s.jsx("button",{onClick:()=>o(null),children:""})]})]}):s.jsxs("div",{className:"error-state",children:[s.jsx("div",{className:"error-icon",children:"!"}),s.jsx("p",{children:"Initiative not found"}),s.jsx(Da,{to:"/",className:"btn btn-primary",children:"Back to Tasks"})]})}function i2(){return s.jsxs("div",{className:"page preferences-page",children:[s.jsx("h2",{children:"Preferences"}),s.jsx("p",{className:"page-placeholder",children:"Preferences and settings will be implemented in Phase 3"})]})}function c2(){return s.jsxs("div",{className:"environment-layout",children:[s.jsxs("nav",{className:"environment-nav",children:[s.jsx(Re,{to:"settings",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Settings"}),s.jsx(Re,{to:"prompts",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Prompts"}),s.jsx(Re,{to:"scripts",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Scripts"}),s.jsx(Re,{to:"hooks",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Hooks"}),s.jsx(Re,{to:"skills",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Skills"}),s.jsx(Re,{to:"mcp",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"MCP"}),s.jsx(Re,{to:"config",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Config"}),s.jsx(Re,{to:"claudemd",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"CLAUDE.md"}),s.jsx(Re,{to:"tools",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Tools"}),s.jsx(Re,{to:"agents",className:({isActive:e})=>`env-nav-link ${e?"active":""}`,children:"Agents"})]}),s.jsx("div",{className:"environment-content",children:s.jsx(lv,{})})]})}function r2(){return s.jsxs("div",{className:"page environment-settings-page",children:[s.jsx("h3",{children:"Settings"}),s.jsx("p",{className:"page-placeholder",children:"Claude Code and orc settings editor will be implemented in Phase 3"})]})}function u2(){return s.jsxs("div",{className:"page environment-prompts-page",children:[s.jsx("h3",{children:"Prompts"}),s.jsx("p",{className:"page-placeholder",children:"Phase prompts editor will be implemented in Phase 3"})]})}function o2(){return s.jsxs("div",{className:"page environment-scripts-page",children:[s.jsx("h3",{children:"Scripts"}),s.jsx("p",{className:"page-placeholder",children:"Scripts browser will be implemented in Phase 3"})]})}function d2(){return s.jsxs("div",{className:"page environment-hooks-page",children:[s.jsx("h3",{children:"Hooks"}),s.jsx("p",{className:"page-placeholder",children:"Claude Code hooks editor will be implemented in Phase 3"})]})}function f2(){return s.jsxs("div",{className:"page environment-skills-page",children:[s.jsx("h3",{children:"Skills"}),s.jsx("p",{className:"page-placeholder",children:"Skills browser will be implemented in Phase 3"})]})}function h2(){return s.jsxs("div",{className:"page environment-mcp-page",children:[s.jsx("h3",{children:"MCP Servers"}),s.jsx("p",{className:"page-placeholder",children:"MCP server configuration will be implemented in Phase 3"})]})}function m2(){return s.jsxs("div",{className:"page environment-config-page",children:[s.jsx("h3",{children:"Configuration"}),s.jsx("p",{className:"page-placeholder",children:"Orc configuration editor will be implemented in Phase 3"})]})}function p2(){return s.jsxs("div",{className:"page environment-claudemd-page",children:[s.jsx("h3",{children:"CLAUDE.md"}),s.jsx("p",{className:"page-placeholder",children:"CLAUDE.md editor will be implemented in Phase 3"})]})}function v2(){return s.jsxs("div",{className:"page environment-tools-page",children:[s.jsx("h3",{children:"Tools"}),s.jsx("p",{className:"page-placeholder",children:"Claude Code tools configuration will be implemented in Phase 3"})]})}function g2(){return s.jsxs("div",{className:"page environment-agents-page",children:[s.jsx("h3",{children:"Agents"}),s.jsx("p",{className:"page-placeholder",children:"Agent configuration will be implemented in Phase 3"})]})}const y2=[{path:"/",element:s.jsx(h0,{}),children:[{index:!0,element:s.jsx(P0,{})},{path:"board",element:s.jsx(sj,{})},{path:"dashboard",element:s.jsx(yj,{})},{path:"tasks/:id",element:s.jsx(Ij,{})},{path:"initiatives/:id",element:s.jsx(s2,{})},{path:"preferences",element:s.jsx(i2,{})},{path:"environment",element:s.jsx(c2,{}),children:[{index:!0,element:s.jsx(D1,{to:"settings",replace:!0})},{path:"settings",element:s.jsx(r2,{})},{path:"prompts",element:s.jsx(u2,{})},{path:"scripts",element:s.jsx(o2,{})},{path:"hooks",element:s.jsx(d2,{})},{path:"skills",element:s.jsx(f2,{})},{path:"mcp",element:s.jsx(h2,{})},{path:"config",element:s.jsx(m2,{})},{path:"claudemd",element:s.jsx(p2,{})},{path:"tools",element:s.jsx(v2,{})},{path:"agents",element:s.jsx(g2,{})}]}]}];function x2({children:e}){const t=Ye(x=>x.currentProjectId),a=Ye(x=>x.setProjects),n=Ye(x=>x.selectProject),l=Ye(x=>x.setLoading),i=Ye(x=>x.setError),c=Ye(x=>x.initializeFromUrl),r=Ye(x=>x.handlePopState),o=Ke(x=>x.setTasks),f=Ke(x=>x.setLoading),p=Ke(x=>x.setError),h=Ke(x=>x.reset),m=Me(x=>x.setInitiatives),g=Me(x=>x.initializeFromUrl),b=Me(x=>x.handlePopState),j=Me(x=>x.reset),N=u.useRef(null),v=u.useRef(!1),d=u.useCallback(async()=>{l(!0),i(null);try{const x=await b0();a(x),!Ye.getState().currentProjectId&&x.length>0&&n(x[0].id)}catch(x){i(x instanceof Error?x.message:"Failed to load projects")}finally{l(!1)}},[a,n,l,i]),y=u.useCallback(async x=>{if(!x){h();return}f(!0),p(null);try{const E=await j0(x);o(E)}catch(E){p(E instanceof Error?E.message:"Failed to load tasks")}finally{f(!1)}},[o,f,p,h]),S=u.useCallback(async()=>{try{const x=await tu();m(x)}catch(x){console.error("Failed to load initiatives:",x)}},[m]);return u.useEffect(()=>{v.current||(v.current=!0,c(),g(),d(),S())},[d,S,c,g]),u.useEffect(()=>{if(N.current===void 0){N.current=t;return}N.current!==t&&(N.current=t,h(),j(),y(t),S())},[t,y,S,h,j]),u.useEffect(()=>{const x=E=>{r(E),b(E)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[r,b]),s.jsx(s.Fragment,{children:e})}function b2(){const e=y1(y2);return s.jsx(s0,{children:s.jsx(Wb,{children:s.jsx(x2,{children:e})})})}const Tv=document.getElementById("root");if(!Tv)throw new Error("Root element not found");Mx.createRoot(Tv).render(s.jsx(u.StrictMode,{children:s.jsx(nb,{children:s.jsx(b2,{})})}));
